/**
 * SystemSculpt CSS
 * Generated from src/css/ sources.
 * DO NOT EDIT DIRECTLY.
 */

/* variables.css */
/**
 * CSS Variables for SystemSculpt
 * 
 * This file contains design tokens and custom properties that leverage Obsidian's theming system.
 * These variables provide a consistent design language across all components.
 * 
 * All variables use the 'ss-' prefix for consistency and to avoid collisions with Obsidian variables.
 */

:root {
  /* 
   * Color system 
   * Maps Obsidian theme colors to semantic design tokens
   */
  --ss-color-primary: var(--interactive-accent);
  --ss-color-primary-hover: var(--interactive-accent-hover);
  --ss-color-secondary: var(--background-modifier-hover);
  --ss-color-secondary-hover: var(--background-modifier-border);
  --ss-color-danger: color-mix(
    in srgb,
    rgb(var(--color-red-rgb, 231, 76, 60)) 88%,
    var(--background-primary, #111111) 12%
  );
  --ss-color-danger-hover: color-mix(
    in srgb,
    rgb(var(--color-red-rgb, 231, 76, 60)) 95%,
    #000000 5%
  );
  --ss-color-success: var(--background-modifier-success);
  --ss-color-warning: var(--color-yellow);
  
  /* Text colors */
  --ss-color-text-normal: var(--text-normal);
  --ss-color-text-muted: var(--text-muted);
  --ss-color-text-accent: var(--text-accent);
  --ss-color-text-on-primary: var(--text-on-accent);
  
  /* Border and background colors */
  --ss-color-border: var(--background-modifier-border);
  --ss-color-border-hover: var(--background-modifier-border-hover);
  --ss-color-bg-primary: var(--background-primary);
  --ss-color-bg-secondary: var(--background-secondary);
  --ss-color-bg-hover: var(--background-modifier-hover);
  
  /* Spacing system */
  --ss-space-xxs: 2px;
  --ss-space-xs: 4px;
  --ss-space-sm: 8px;
  --ss-space-md: 16px;
  --ss-space-lg: 24px;
  --ss-space-xl: 32px;
  --ss-space-xxl: 48px;
  
  /* Typography */
  --ss-font-size-xs: 11px;
  --ss-font-size-sm: 12px;
  --ss-font-size-md: 14px;
  --ss-font-size-lg: 16px;
  --ss-font-size-xl: 18px;
  --ss-font-weight-normal: 400;
  --ss-font-weight-medium: 500;
  --ss-font-weight-bold: 600;
  
  /* Borders & Radius */
  --ss-radius-sm: 4px;
  --ss-radius-md: 6px;
  --ss-radius-lg: 8px;
  --ss-radius-circle: 50%;
  --ss-border-width: 1px;
  
  /* Transitions */
  --ss-transition-fast: 0.15s ease;
  --ss-transition-normal: 0.2s ease;
  --ss-transition-slow: 0.3s ease;
  
  /* Shadows */
  --ss-shadow-sm: 0 2px 4px rgb(0, 0, 0);
  --ss-shadow-md: 0 2px 8px rgb(0, 0, 0);
  --ss-shadow-lg: 0 4px 12px rgb(0, 0, 0);

  /*
   * Opaque surface + border tokens
   * Used anywhere we previously relied on rgba()/transparent blends so the UI stays
   * fully opaque even when composing over exotic Obsidian themes.
   */
  --ss-layer-base: var(--background-primary);
  --ss-layer-muted: color-mix(in srgb, var(--background-secondary) 70%, var(--background-primary));
  --ss-layer-elevated: color-mix(in srgb, var(--background-secondary) 85%, var(--background-primary));
  --ss-layer-highlight: color-mix(in srgb, var(--background-modifier-hover) 80%, var(--background-primary));
  --ss-border-soft: color-mix(in srgb, var(--background-modifier-border) 65%, var(--background-primary));
  --ss-border-strong: color-mix(in srgb, var(--background-modifier-border) 85%, var(--background-primary));
  --ss-border-accent-soft: color-mix(in srgb, var(--text-accent) 35%, var(--background-primary));
  --ss-border-accent-strong: color-mix(in srgb, var(--text-accent) 55%, var(--background-primary));
  --ss-surface-accent: color-mix(in srgb, var(--text-accent) 18%, var(--background-secondary));
  --ss-surface-warning: color-mix(in srgb, var(--color-yellow, #ffcc00) 18%, var(--background-secondary));
  --ss-surface-success: color-mix(in srgb, var(--color-green, #2ecc71) 18%, var(--background-secondary));
  --ss-surface-danger: color-mix(in srgb, var(--color-red, #e74c3c) 18%, var(--background-secondary));
  --ss-shadow-soft: 0 10px 30px color-mix(in srgb, #000000 25%, var(--background-primary));
  --ss-shadow-strong: 0 12px 40px color-mix(in srgb, #000000 35%, var(--background-primary));
  --ss-shadow-focus: 0 0 0 3px color-mix(in srgb, var(--interactive-accent) 30%, var(--background-primary));
}


/* reset.css */
/**
 * Reset and base styles for SystemSculpt
 * 
 * These styles ensure consistent rendering across themes
 */

/* SystemSculpt doesn't have explicit reset styles separate from component styling.
   This file is primarily a placeholder for future reset styles if needed. */

/* animations.css */
/**
 * Animation definitions for SystemSculpt
 * Contains all keyframe animations used throughout the UI
 * 
 * All new animations should use the 'ss-' prefix for consistency
 */

/* Standard animations with the 'ss-' prefix */
@keyframes ss-fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes ss-fade-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(8px);
  }
}

@keyframes ss-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes ss-pulse {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}

@keyframes ss-slide-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes ss-slide-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(10px);
  }
}

@keyframes ss-loading-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Legacy animations - these should eventually be replaced with the 'ss-' versions */
@keyframes systemsculpt-token-loading {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes systemsculpt-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes systemsculpt-bounce {
  0%, 100% {
    transform: translateX(2px);
  }
  50% {
    transform: translateX(-2px);
  }
}

@keyframes systemsculpt-slideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes systemsculpt-pulse {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}

@keyframes systemsculpt-fade-in {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes systemsculpt-popup-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes systemsculpt-popup-fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes systemsculpt-popup-slide-up {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes systemsculpt-popup-slide-down {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(10px);
  }
}

@keyframes systemsculpt-ss-button-loading {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}


/* chat-animations.css */
/**
 * Chat Animations - Smooth UI Transitions
 *
 * Entrance animations, state transitions, and micro-interactions
 */

/* ╔══════════════════════════════════════════════════════════╗
   ║  Message Entrance Animations                              ║
   ╚══════════════════════════════════════════════════════════╝ */

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Typing Indicator Animation                               ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-typing-indicator {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 8px 12px;
  background: color-mix(in srgb, rgb(var(--background-secondary-rgb)) 60%, var(--ss-layer-base));
  border-radius: 16px;
  margin: 8px 0;
}

.systemsculpt-typing-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--text-muted);
  animation: typingPulse 1.4s ease-in-out infinite;
}

.systemsculpt-typing-dot:nth-child(2) {
  animation-delay: 0.2s;
}

.systemsculpt-typing-dot:nth-child(3) {
  animation-delay: 0.4s;
}

@keyframes typingPulse {
  0%, 60%, 100% {
    opacity: 0.3;
    transform: scale(0.8);
  }
  30% {
    opacity: 1;
    transform: scale(1.2);
  }
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Loading States                                           ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-loading {
  position: relative;
  overflow: hidden;
}

.systemsculpt-loading::after {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    var(--ss-layer-base),
    color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 10%, var(--ss-layer-base)),
    var(--ss-layer-base)
  );
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  to {
    left: 100%;
  }
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Pulse Effects                                            ║
   ╚══════════════════════════════════════════════════════════╝ */

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

@keyframes pulseGlow {
  0%, 100% {
    box-shadow: 0 0 0 0 color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 40%, var(--ss-layer-base));
  }
  50% {
    box-shadow: 0 0 20px 10px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 0%, var(--ss-layer-base));
  }
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Smooth State Transitions                                 ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-transition-opacity {
  transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.systemsculpt-transition-transform {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.systemsculpt-transition-all {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Button Press Effects                                     ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-button-press {
  transition: transform 0.1s ease;
}

.systemsculpt-button-press:active {
  transform: scale(0.95);
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Error Shake                                              ║
   ╚══════════════════════════════════════════════════════════╝ */

@keyframes errorShake {
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-4px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(4px);
  }
}

.systemsculpt-error-shake {
  animation: errorShake 0.5s ease-out;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Success Check                                            ║
   ╚══════════════════════════════════════════════════════════╝ */

@keyframes successCheck {
  0% {
    transform: scale(0) rotate(45deg);
    opacity: 0;
  }
  50% {
    transform: scale(1.2) rotate(45deg);
  }
  100% {
    transform: scale(1) rotate(45deg);
    opacity: 1;
  }
}

.systemsculpt-success-check {
  animation: successCheck 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Floating Action Button                                   ║
   ╚══════════════════════════════════════════════════════════╝ */

@keyframes fabEntrance {
  from {
    opacity: 0;
    transform: scale(0) rotate(-180deg);
  }
  to {
    opacity: 1;
    transform: scale(1) rotate(0);
  }
}

.systemsculpt-fab-entrance {
  animation: fabEntrance 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Reduced Motion Support                                   ║
   ╚══════════════════════════════════════════════════════════╝ */

@media (prefers-reduced-motion: reduce) {
  .systemsculpt-reduced-motion,
  .systemsculpt-reduced-motion *,
  .systemsculpt-reduced-motion *::before,
  .systemsculpt-reduced-motion *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .systemsculpt-reduced-motion .systemsculpt-typing-indicator,
  .systemsculpt-reduced-motion .systemsculpt-loading::after {
    display: none;
  }
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Glow Effects                                             ║
   ╚══════════════════════════════════════════════════════════╝ */

@keyframes glowPulse {
  0%, 100% {
    box-shadow: 
      0 0 5px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 50%, var(--ss-layer-base)),
      0 0 10px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 30%, var(--ss-layer-base)),
      0 0 15px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 10%, var(--ss-layer-base));
  }
  50% {
    box-shadow: 
      0 0 10px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 60%, var(--ss-layer-base)),
      0 0 20px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 40%, var(--ss-layer-base)),
      0 0 30px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 20%, var(--ss-layer-base));
  }
}

.systemsculpt-glow-pulse {
  animation: glowPulse 2s ease-in-out infinite;
}


/* media-queries.css */
/**
 * Media Queries for Responsive Design
 * 
 * Contains all responsive breakpoints and device-specific styles
 */

/* Small screens */
@media (max-width: 600px) {
  .systemsculpt-file-meta {
    display: block;
    margin-top: 4px;
  }
  
  .systemsculpt-context-meta {
    flex-wrap: nowrap;
    overflow-x: auto;
    padding-bottom: 4px;
  }
  
  .systemsculpt-model-grid {
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 8px;
  }
}

/* Medium screens */
@media (min-width: 600px) {
  .systemsculpt-file-meta {
    display: inline;
  }
  
  .systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
    display: flex;
  }
  
  .systemsculpt-model-grid {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 12px;
  }
}

/* Mobile and tablet */
@media (max-width: 768px) {
  .systemsculpt-custom-provider-manager-modal {
    height: 100vh;
    width: 95vw;
    padding: 16px;
  }
}

/* Touch screens */
@media (hover: none) {
  .systemsculpt-preview {
    display: none;
  }
}

/* REMOVED - All mobile button CSS deleted */


/* typography.css */
/**
 * Typography styles for SystemSculpt
 * 
 * This file contains typography-related styles that leverage Obsidian's theming system.
 * These styles provide consistent text formatting across all components.
 */

/* Base typography */
.systemsculpt-container {
  font-family: var(--font-text);
  font-size: var(--font-ui-medium);
  line-height: 1.5;
  color: var(--text-normal);
}

/* Headings */
.systemsculpt-heading-1 {
  font-size: var(--font-ui-larger);
  font-weight: var(--font-bold);
  margin-bottom: 1rem;
  color: var(--text-normal);
}

.systemsculpt-heading-2 {
  font-size: var(--font-ui-large);
  font-weight: var(--font-bold);
  margin-bottom: 0.75rem;
  color: var(--text-normal);
}

.systemsculpt-heading-3 {
  font-size: var(--font-ui-medium);
  font-weight: var(--font-bold);
  margin-bottom: 0.5rem;
  color: var(--text-normal);
}

/* Text styles */
.systemsculpt-text-normal {
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
}

.systemsculpt-text-muted {
  font-size: var(--font-ui-medium);
  color: var(--text-muted);
}

.systemsculpt-text-small {
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
}

.systemsculpt-text-accent {
  color: var(--text-accent);
}

.systemsculpt-text-error {
  color: var(--text-error);
}

/* Links */
.systemsculpt-link {
  color: var(--text-accent);
  text-decoration: none;
  cursor: pointer;
}

.systemsculpt-link:hover {
  text-decoration: underline;
}

/* Code blocks */
.systemsculpt-code {
  font-family: var(--font-monospace);
  font-size: var(--font-smaller);
  background-color: var(--background-secondary);
  padding: 0.2em 0.4em;
  border-radius: 3px;
}


/* responsive-breakpoints.css */
/* ========================================================================== */
/* == Responsive Breakpoints                                              == */
/* ========================================================================== */

:root {
  /* Mobile breakpoints */
  --mobile-max-width: 480px;
  --tablet-min-width: 600px;
  --desktop-min-width: 1024px;
  
  /* Toolbar opacity values */
  --toolbar-opacity-hidden: 0;
  --toolbar-opacity-partial: 0.6;
  --toolbar-opacity-visible: 0.8;
  --toolbar-opacity-full: 1;
  
  /* Backdrop blur intensity */
  --toolbar-backdrop-blur: 4px;
  
  /* Toolbar scaling on interaction */
  --toolbar-scale-active: 1.05;
  
  /* Border radius for toolbars */
  --toolbar-border-radius: 12px;
}

/* containers.css */
/**
 * Container Components
 * 
 * Styles for layout containers and content wrappers
 */

.systemsculpt-action-container {
  position: sticky;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 16px;
  background: var(--background-primary);
  border-top: 1px solid var(--background-modifier-border);
  display: flex;
  justify-content: center;
  z-index: 10;
}

/* Reasoning container styles removed - using unified collapsible drawer */

.systemsculpt-response-container {
  font-family: var(--font-monospace);
  font-size: 0.9em;
  line-height: 1.5;
}

.systemsculpt-response-container {
  max-height: 200px;
}

.systemsculpt-checkbox-container {
  position: relative;
  width: 40px;
  height: 20px;
  cursor: pointer;
}

.systemsculpt-checkbox-container.systemsculpt-is-enabled .systemsculpt-checkbox-toggle {
  background-color: var(--interactive-accent);
}

.systemsculpt-checkbox-container.systemsculpt-is-enabled .systemsculpt-checkbox-toggle:before {
  transform: translateX(20px);
}

.systemsculpt-checkbox-container.systemsculpt-testing .systemsculpt-checkbox-toggle {
  background-color: var(--background-modifier-border);
  opacity: 0.7;
  cursor: wait;
}

.systemsculpt-checkbox-container.systemsculpt-testing .systemsculpt-checkbox-toggle:before {
  animation: bounce 1s infinite;
}

.systemsculpt-progress-bar-container {
  width: 100%;
  height: 8px;
  background: var(--background-modifier-border);
  border-radius: var(--radius-s);
  overflow: hidden;
  margin: var(--size-4-2) 0;
  position: relative;
}

.systemsculpt-progress-bar-container {
  width: 100%;
  height: 8px;
  background: var(--background-modifier-border);
  border-radius: 4px;
  margin: 16px 0;
  overflow: hidden;
  position: relative;
}

.systemsculpt-chat-container.systemsculpt-drag-active
  .systemsculpt-drag-overlay {
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-messages-container {
  flex-grow: 1;
  overflow-y: auto;
  padding: 0.75rem 0.75rem 0.25rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.systemsculpt-message-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  width: 100%;
}

.systemsculpt-model-icon-container {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--interactive-accent);
  border-radius: 6px;
  color: var(--text-on-accent);
}

.systemsculpt-model-icon-container svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-message-container {
  padding: 8px 0;
}

.systemsculpt-model-icon-container svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-bar-container {
  width: 100%;
  height: 8px;
  background: var(--background-modifier-border);
  border-radius: var(--radius-s);
  overflow: hidden;
  margin: var(--size-4-2) 0;
  position: relative;
}

.systemsculpt-checkbox-container.systemsculpt-testing .systemsculpt-checkbox-toggle {
  background-color: var(--background-modifier-border);
  opacity: 0.7;
  cursor: wait;
}

.systemsculpt-checkbox-container.systemsculpt-testing .systemsculpt-checkbox-toggle:before {
  animation: bounce 1s infinite;
}

.systemsculpt-context-action-container {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 8px;
}

.systemsculpt-content-container.systemsculpt-loading {
  opacity: 0.5;
  pointer-events: none;
}

.systemsculpt-custom-model-name-container {
  display: flex;
  align-items: center;
  width: 100%;
}

.systemsculpt-edit-button-container {
  display: flex;
  justify-content: flex-end;
  padding: 8px 12px;
  border-top: 1px solid var(--background-modifier-border);
}

.systemsculpt-scroll-container {
  flex: 1;
  min-height: 0;
  overflow-y: auto;
  padding: 0 8px;
}

.systemsculpt-license-container .systemsculpt-setting-item-control {
  display: flex;
  gap: 12px;
  align-items: center;
}

.systemsculpt-license-container .systemsculpt-setting-item-control input {
  flex: 1;
}

.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  gap: 1rem;
}

.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 32px;
  width: 100%;
  height: 100%;
  min-height: 200px;
}

.systemsculpt-stream-container {
  display: inline;
  white-space: pre-wrap;
  word-break: break-word;
}

.systemsculpt-stream-container > * {
  display: inline;
}

.systemsculpt-stream-container p {
  display: inline;
  margin: 0;
}

.systemsculpt-extension-container {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 16px;
  padding: 0 4px;
}

.systemsculpt-extension-container {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  padding: 8px;
  margin-bottom: 8px;
}

.systemsculpt-prompt-creation-container {
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
}

/* Removed - using unified collapsible drawer */

.systemsculpt-stream-container p {
  display: inline;
  margin: 0;
}

.systemsculpt-stream-container p {
  display: inline;
  margin: 0;
}

.systemsculpt-popup-container {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: color-mix(in srgb, rgb(0, 0, 0) 50%, var(--ss-layer-base));
  z-index: 1000;
  padding: 16px;
  animation: popup-fade-in 0.2s ease-out;
}

.systemsculpt-popup-container.systemsculpt-popup-closing {
  animation: popup-fade-out 0.2s ease-out forwards;
}

.systemsculpt-popup-container.systemsculpt-popup-closing .systemsculpt-popup {
  animation: popup-slide-down 0.2s ease-out forwards;
}

.systemsculpt-textarea-container {
  position: relative;
  width: 100%;
  height: 300px;
  display: flex;
  flex-direction: column;
}

.systemsculpt-modal-button-container button.systemsculpt-mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-results-container {
  display: flex;
  flex-direction: column;
  width: 300px;
  min-width: 300px;
  overflow: hidden;
}

/* Removed - using unified collapsible drawer */

/* Reasoning container styles removed - using unified collapsible drawer */

/* Reasoning container styles removed - using unified collapsible drawer */
  transform: translateY(-4px);
  transition: all 0.2s ease;
}

.systemsculpt-custom-input-container {
  position: relative;
  width: 100%;
}


.systemsculpt-modal-button-container button:not(.systemsculpt-mod-cta) {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-modal-button-container button:hover {
  opacity: 0.9;
}

.systemsculpt-template-content-container,
.systemsculpt-note-preview {
  height: 120px;
}

.systemsculpt-template-content-container,
.systemsculpt-note-preview {
  height: 120px;
}

.systemsculpt-popup-container.systemsculpt-popup-closing .systemsculpt-popup {
  animation: popup-slide-down 0.2s ease-out forwards;
}

.systemsculpt-model-message-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.systemsculpt-preview-container {
  position: fixed;
  z-index: 1000;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 8px;
  box-shadow: 0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 20%, var(--ss-layer-base));
  pointer-events: none;
  max-width: min(800px, 80vw);
  max-height: min(600px, 80vh);
  overflow: hidden;
}

.systemsculpt-stream-container > * {
  display: inline;
}

.systemsculpt-checkbox-container.systemsculpt-testing .systemsculpt-checkbox-toggle:before {
  animation: bounce 1s infinite;
}

.systemsculpt-popup-container.systemsculpt-popup-closing {
  animation: popup-fade-out 0.2s ease-out forwards;
}

.systemsculpt-popup-container.systemsculpt-popup-closing .systemsculpt-popup {
  animation: popup-slide-down 0.2s ease-out forwards;
}

.systemsculpt-template-content-container {
  height: 200px;
  position: relative;
  border-radius: 0;
  overflow: hidden;
  margin-bottom: 0;
}

.systemsculpt-template-content-container,
.systemsculpt-note-preview {
  height: 120px;
}

.systemsculpt-template-content-container,
.systemsculpt-note-preview {
  height: 120px;
}

.systemsculpt-chat-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  background-color: var(--background-primary);
  position: relative;
  padding: 0 0 var(--systemsculpt-status-bar-offset, 0px) 0;
  margin: 0;
  max-width: none;
  box-sizing: border-box;
}

.systemsculpt-chat-container.systemsculpt-drag-active
  .systemsculpt-drag-overlay {
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-model-selection-container {
  padding: 12px;
}

.systemsculpt-preset-button-container {
  display: flex;
  gap: 8px;
  margin-bottom: 12px;
  flex-shrink: 0;
  justify-content: center;
}

.systemsculpt-license-container .systemsculpt-setting-item-control input {
  flex: 1;
}

.systemsculpt-notice-container {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
}

.ss-button-container {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 20px;
}

.systemsculpt-sections-container {
  display: flex;
  flex-direction: column;
  gap: 16px;
  width: 100%;
}

.systemsculpt-split-container {
  display: flex;
  gap: 16px;
  flex: 1;
  min-height: 0;
  overflow: hidden;
}


.systemsculpt-content-container {
  opacity: 1;
  transition: opacity 0.2s ease;
}

.systemsculpt-content-container.systemsculpt-loading {
  opacity: 0.5;
  pointer-events: none;
}

.systemsculpt-modal-button-container button {
  padding: var(--size-4-1) var(--size-4-3);
  border-radius: var(--radius-s);
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
  transition: all 0.15s ease-in-out;
}

.systemsculpt-modal-button-container button.systemsculpt-mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-modal-button-container button:hover {
  opacity: 0.9;
}

.systemsculpt-modal-button-container button:not(.systemsculpt-mod-cta) {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-chat-sections-container {
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
}

.systemsculpt-model-name-container {
  margin: 0;
  display: flex;
  align-items: center;
  gap: 0px;
  padding: 1px 0;
}

.systemsculpt-model-name-container {
  flex: 1;
  min-width: 0;
}

.systemsculpt-modal-button-container {
  display: flex;
  justify-content: flex-end;
  gap: var(--size-4-2);
  margin-top: var(--size-4-4);
}

.systemsculpt-modal-button-container button {
  padding: var(--size-4-1) var(--size-4-3);
  border-radius: var(--radius-s);
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
  transition: all 0.15s ease-in-out;
}

.systemsculpt-modal-button-container button.systemsculpt-mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-modal-button-container button:hover {
  opacity: 0.9;
}

.systemsculpt-modal-button-container button:not(.systemsculpt-mod-cta) {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-preview-pdf-container {
  width: 100%;
  height: 70vh;
  background: var(--background-secondary);
  border-radius: 8px;
  overflow: hidden;
}

.systemsculpt-settings-info-container {
  width: 100%;
  max-width: min(800px, 95%);
  margin: 0 auto 16px;
  text-align: center;
  font-size: 0.9em;
  color: var(--text-muted);
  padding: 0 8px;
}

.systemsculpt-settings-link {
  color: var(--text-accent);
  cursor: pointer;
  text-decoration: underline;
}

.systemsculpt-settings-link:hover {
  color: var(--interactive-accent);
}


/* grid.css */
/**
 * Grid Components
 * 
 * Styles for grid layouts and content organization
 */

.systemsculpt-context-grid {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 8px 0;
  overflow-y: auto;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  min-height: 0;
}

.systemsculpt-context-grid::-webkit-scrollbar {
  width: 8px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 4px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-grid::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 4px;
}

.systemsculpt-preview-frontmatter-grid {
  display: grid;
  gap: 4px;
}

.systemsculpt-utility-button-grid {
  display: flex;
  gap: 8px;
  width: 100%;
  justify-content: center;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-chat-grid {
  display: flex;
  flex-direction: column;
  gap: 8px;
  overflow-y: auto;
  flex: 1;
  min-height: 0;
  width: 100%;
  padding: 4px;
}

.systemsculpt-chat-grid::-webkit-scrollbar {
  width: 6px;
}

.systemsculpt-chat-grid::-webkit-scrollbar-thumb {
  background: var(--background-modifier-border);
  border-radius: 3px;
}

.systemsculpt-chat-grid::-webkit-scrollbar-thumb:hover {
  background: var(--background-modifier-border-hover);
}

.systemsculpt-chat-grid::-webkit-scrollbar-track {
  background: var(--ss-layer-base);
}

.systemsculpt-chat-grid::-webkit-scrollbar-thumb:hover {
  background: var(--background-modifier-border-hover);
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 4px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-grid::-webkit-scrollbar {
  width: 8px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 4px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-grid::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 4px;
}

.systemsculpt-chat-grid::-webkit-scrollbar-track {
  background: var(--ss-layer-base);
}

.systemsculpt-pro-promotion .systemsculpt-features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 8px;
  margin-bottom: 16px;
}

.systemsculpt-model-grid {
  display: block;
  width: 100%;
}

.systemsculpt-model-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 12px;
  overflow-y: scroll;
  padding-right: 8px;
  width: 100%;
  box-sizing: border-box;
}

.systemsculpt-model-grid {
  flex-grow: 1;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(min(100%, 300px), 1fr));
  gap: clamp(8px, 1.5vw, 12px);
  overflow-y: auto;
  padding: 0 4px 8px 0;
  width: 100%;
  min-height: 0;
  margin: 0 auto;
  max-width: 100%;
  align-items: start;
  align-content: start;
}

.systemsculpt-context-grid::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 4px;
}

.systemsculpt-chat-grid::-webkit-scrollbar {
  width: 6px;
}

.systemsculpt-chat-grid::-webkit-scrollbar-thumb {
  background: var(--background-modifier-border);
  border-radius: 3px;
}

.systemsculpt-chat-grid::-webkit-scrollbar-thumb:hover {
  background: var(--background-modifier-border-hover);
}

.systemsculpt-chat-grid::-webkit-scrollbar-track {
  background: var(--ss-layer-base);
}


/* drawer.css */
/**
 * Collapsible Drawer Styles
 *
 * Unified collapse/expand UI used for reasoning, tool calls, etc.
 */
/* ========================================================================== */
/* == Collapsible Drawer Component Styles                                  == */
/* == (Originally from components/collapsible-drawer.css)                == */
/* ========================================================================== */

/**
 * Collapsible Drawer Component Styles
 * 
 * Base styles for all collapsible drawers (reasoning, tool calls, etc.)
 * Provides consistent collapse/expand behavior and visual styling
 */

/* ╔══════════════════════════════════════════════════════════╗
   ║  Collapsible Drawer - Base Container                      ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-collapsible-drawer {
  /* Layout */
  margin: 8px 0;
  padding: 8px;
  position: relative;
  max-width: 100%;
  box-sizing: border-box;
  
  /* Glass morphism design */
  width: 100%; /* Use full available width from start */
  background: color-mix(in srgb, rgb(var(--background-secondary-rgb)) 30%, var(--ss-layer-base));
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 25%, var(--ss-layer-base));
  border-radius: 12px;
  
  /* Shadow for depth */
  box-shadow: 
    0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 4%, var(--ss-layer-base)),
    inset 0 1px 0 color-mix(in srgb, rgb(255, 255, 255) 3%, var(--ss-layer-base));
  
  /* Grid layout - no animation */
  display: grid !important;
  grid-template-rows: auto 0fr !important;
  overflow: visible;
  
  /* No transitions - instant display */
  transition: none !important;
  
  /* Interaction states */
  z-index: 1;
  pointer-events: auto !important;
}

/* ========================================================================== */
/* == Message Group Drawer Styling (Clean border-only design)             == */
/* ========================================================================== */

/* ╔══════════════════════════════════════════════════════════╗
   ║  Message Group Drawers - Refined Styles                   ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-collapsible-drawer {
  width: 100% !important; /* Use full container width */
  margin: 10px 0 !important;
  background: color-mix(in srgb, rgb(var(--background-primary-rgb)) 40%, var(--ss-layer-base)) !important;
  border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 20%, var(--ss-layer-base)) !important;
  border-radius: 10px !important;
  position: relative !important;
  isolation: isolate !important;
  box-sizing: border-box !important; /* Include padding and border in width */
}

/* Hover glow effects to indicate interactivity - border glow removed */
.systemsculpt-collapsible-drawer:hover {
  /* border-color: color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 90%, var(--ss-layer-base)); */
  /* box-shadow: 0 0 0 1px color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 30%, var(--ss-layer-base)); */
}


/* Collapsed state for container - FORCE COLLAPSE STATE */
.systemsculpt-collapsible-drawer.systemsculpt-collapsed {
  /* Grid collapses the second row to 0fr - FORCE WITH !important */
  grid-template-rows: auto 0fr !important;
  /* Container should only show header when collapsed */
  padding-bottom: 4px; /* Maintain consistent padding */
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Drawer Header - Interactive Controls                     ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-collapsible-header {
  grid-row: 1;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  margin: 0;
  width: 100%;
  
  /* Interactive styling */
  cursor: pointer;
  user-select: text;
  -webkit-user-select: text;
  font-weight: 600;
  color: var(--text-muted);
  
  /* Hover area */
  border-radius: 8px;
  background: var(--ss-layer-base);
  
  /* Transitions */
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  
  /* Stacking */
  position: relative;
  z-index: 10;
  pointer-events: auto !important;
  isolation: isolate;
}

.systemsculpt-collapsible-header:hover {
  color: var(--text-normal);
  background: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 5%, var(--ss-layer-base));
  transform: translateX(2px);
}

/* Icon styles */
.systemsculpt-collapsible-icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
  color: var(--text-accent);
  display: flex;
  align-items: center;
  justify-content: center;
  /* No transitions */
}

.systemsculpt-collapsible-icon svg {
  width: 16px;
  height: 16px;
}

/* Title styles */
.systemsculpt-collapsible-title {
  font-weight: 600;
  font-size: inherit; /* Changed from 14px to inherit font size from messages container */
  color: var(--text-normal);
  flex: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Expand/Collapse Arrow - Smooth Animation                 ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-collapsible-header::after {
  content: "▼";
  font-size: 11px;
  margin-left: auto;
  color: var(--text-muted);
  transition: none;
}

.systemsculpt-collapsed .systemsculpt-collapsible-header::after {
  transform: rotate(-90deg);
}

.systemsculpt-collapsible-header:hover::after {
  color: var(--interactive-accent);
}

.systemsculpt-collapsed .systemsculpt-collapsible-header:hover::after {
  transform: rotate(-90deg);
}

/* ========================================================================== */
/* == Hover and Expanded State Effects                                     == */
/* ========================================================================== */

/* ╔══════════════════════════════════════════════════════════╗
   ║  Hover & Expanded States                                  ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-collapsible-drawer:hover {
  background: color-mix(in srgb, rgb(var(--background-secondary-rgb)) 40%, var(--ss-layer-base));
  border-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 30%, var(--ss-layer-base));
  box-shadow: 
    0 4px 12px color-mix(in srgb, rgb(0, 0, 0) 6%, var(--ss-layer-base)),
    0 2px 4px color-mix(in srgb, rgb(0, 0, 0) 2%, var(--ss-layer-base)),
    inset 0 1px 0 color-mix(in srgb, rgb(255, 255, 255) 5%, var(--ss-layer-base));
  z-index: 10 !important;
  isolation: isolate;
}

/* Expanded state - use full width from the start */
.systemsculpt-collapsible-drawer:not(.systemsculpt-collapsed) {
  grid-template-rows: auto 1fr !important;
  width: 100%; /* Use full available width */
  border-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 40%, var(--ss-layer-base));
  background: color-mix(in srgb, rgb(var(--background-secondary-rgb)) 35%, var(--ss-layer-base));
  box-shadow: 
    0 4px 16px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 10%, var(--ss-layer-base)),
    0 2px 6px color-mix(in srgb, rgb(0, 0, 0) 3%, var(--ss-layer-base)),
    inset 0 1px 0 color-mix(in srgb, rgb(255, 255, 255) 5%, var(--ss-layer-base));
}

/* Header hover state when drawer is collapsed */
.systemsculpt-collapsed .systemsculpt-collapsible-header:hover {
  color: var(--interactive-accent);
}

/* Icon hover state when collapsed */
.systemsculpt-collapsed .systemsculpt-collapsible-header:hover .systemsculpt-collapsible-icon {
  /* No scaling animation */
}

/* Icon color when expanded */
.systemsculpt-collapsible-drawer:not(.systemsculpt-collapsed) .systemsculpt-collapsible-icon {
  color: var(--interactive-accent);
}

/* Arrow color when expanded */
.systemsculpt-collapsible-drawer:not(.systemsculpt-collapsed) .systemsculpt-collapsible-header::after {
  color: var(--interactive-accent);
}

/* Content wrapper styles - SINGLE DEFINITION FOR ALL DRAWER CONTENT */
.systemsculpt-collapsible-content {
  /* Grid positioning - makes this the second row of the grid container */
  grid-row: 2;
  
  /* Critical properties for grid animation */
  overflow: hidden;
  min-height: 0;
  
  /* Spacing and visibility when expanded */
  padding-top: 4px;
  margin-top: 8px;
  opacity: 1;
  visibility: visible;
  
  /* No transition - instant display */
  transition: none;
}

/* Collapsed content - fade out during collapse and REMOVE ALL SPACING */
.systemsculpt-collapsed .systemsculpt-collapsible-content {
  opacity: 0;
  visibility: hidden;
  margin: 0 !important;
  padding: 0 !important;
  min-height: 0 !important;
  max-height: 0 !important;
  overflow: hidden !important;
  transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1), visibility 0s 0.25s;
}

/* Utility classes for specific drawer types to customize */
.systemsculpt-collapsible-drawer.with-status-indicator .systemsculpt-collapsible-header {
  /* Allow space for status indicators */
}

.systemsculpt-collapsible-drawer.error-state {
  border-color: var(--text-error);
  background-color: color-mix(in srgb, rgb(var(--background-modifier-error-rgb)) 10%, var(--ss-layer-base));
}

.systemsculpt-collapsible-drawer.success-state {
  border-color: var(--text-success);
  background-color: color-mix(in srgb, rgb(var(--background-modifier-success-rgb)) 10%, var(--ss-layer-base));
}

/* REMOVED - Merged into main definition at line 373 */

/* Unified part styling for message chronological display */
.systemsculpt-unified-part.systemsculpt-collapsible-drawer {
  /* Specific styles for unified message parts */
}

/* Content part containerization - more differentiated for LLM response text */
.systemsculpt-content-part {
  margin: 4px 0;
  padding: 12px 16px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  line-height: 1.6;
  box-shadow: 0 1px 3px color-mix(in srgb, rgb(0, 0, 0) 10%, var(--ss-layer-base));
}

/* Content parts within message groups - removed conflicting styles */
/* Styles moved to messages.css for proper cascade */

/* ========================================================================== */
/* == Unified Content Styles (shared by reasoning, tool calls, etc.)       == */
/* ========================================================================== */

/* Base content container - shared by all drawer content types */
.systemsculpt-drawer-content-container {
  padding: 4px 6px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  overflow-x: auto;
  user-select: text !important;
  -webkit-user-select: text !important;
}

/* Base text content - shared text styling */
.systemsculpt-drawer-content-text {
  font-size: 11px;
  line-height: 1.4;
  color: var(--text-normal);
  white-space: pre-wrap;
  word-break: break-word;
  user-select: text !important;
  -webkit-user-select: text !important;
}

/* Monospace variant for code-like content */
.systemsculpt-drawer-content-text.monospace {
  font-family: var(--font-monospace);
  color: var(--text-muted);
}

/* ========================================================================== */
/* == Specific Content Type Styling (minimal overrides)                    == */
/* ========================================================================== */

/* Reasoning content – keep typography identical to normal Markdown */
.systemsculpt-reasoning-scroll-container {
  display: block;
  width: 100%;
  max-height: 100px;
  overflow-y: auto;
  overflow-x: hidden;
  overscroll-behavior: contain;
  scrollbar-gutter: stable both-edges;
  padding: 12px 14px 12px 16px;
  margin-top: 8px;
  background: linear-gradient(
    180deg,
    color-mix(in srgb, rgb(var(--background-secondary-rgb)) 92%, var(--ss-layer-base)) 0%,
    color-mix(in srgb, rgb(var(--background-secondary-rgb)) 82%, var(--ss-layer-base)) 100%
  );
  border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 50%, var(--ss-layer-base));
  border-radius: 10px;
  box-shadow:
    inset 0 1px 0 color-mix(in srgb, rgb(255, 255, 255) 6%, var(--ss-layer-base)),
    0 6px 16px color-mix(in srgb, rgb(0, 0, 0) 12%, var(--ss-layer-base));
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
  scrollbar-width: thin;
}

.systemsculpt-reasoning-text {
  font-family: var(--font-text);
  font-size: inherit;
  line-height: 1.5;
  color: var(--text-normal);
  white-space: normal;
  user-select: text !important;
  -webkit-user-select: text !important;
}

.systemsculpt-reasoning-scroll-container:hover {
  border-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 45%, var(--ss-layer-base));
  box-shadow:
    inset 0 1px 0 color-mix(in srgb, rgb(255, 255, 255) 8%, var(--ss-layer-base)),
    0 8px 20px color-mix(in srgb, rgb(0, 0, 0) 16%, var(--ss-layer-base));
}

.systemsculpt-reasoning-scroll-container::-webkit-scrollbar {
  width: 6px;
}

.systemsculpt-reasoning-scroll-container::-webkit-scrollbar-thumb {
  background: linear-gradient(
    180deg,
    color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 55%, var(--ss-layer-base)),
    color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 35%, var(--ss-layer-base))
  );
  border-radius: 999px;
}

.systemsculpt-reasoning-scroll-container::-webkit-scrollbar-track {
  background: var(--ss-layer-base);
}

.systemsculpt-reasoning-text > *:first-child {
  margin-top: 0;
}

.systemsculpt-reasoning-text > *:last-child {
  margin-bottom: 0;
}

/* Guard against legacy "monospace" class still lingering */
.systemsculpt-reasoning-text.monospace {
  font-family: var(--font-text);
  color: var(--text-normal);
}

/* Tool response content - uses base styles */
.systemsculpt-tool-response-body {
  /* Inherits from .systemsculpt-drawer-content-container and .systemsculpt-drawer-content-text */
  user-select: text !important;
  -webkit-user-select: text !important;
}

.systemsculpt-tool-response-body pre {
  background: var(--background-secondary);
  padding: 6px;
  border-radius: 4px;
  overflow-x: auto;
  margin: 4px 0;
}

.systemsculpt-tool-response-body code {
  background: var(--background-secondary);
  padding: 2px 4px;
  border-radius: 3px;
  font-size: 0.9em;
}

/* ========================================================================== */
/* == Tool Call Content Styles (content inside drawers)                    == */
/* ========================================================================== */

/* Tool Call Status Indicators - Enhanced with animations */
.systemsculpt-tool-call-status-indicator {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  flex-shrink: 0;
  position: relative;
  margin-left: 8px;
}

.systemsculpt-tool-call-status-indicator svg {
  width: 16px;
  height: 16px;
  transition: transform 0.3s ease;
}

.systemsculpt-tool-call-status-indicator::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.systemsculpt-tool-call-status-indicator.completed {
  color: var(--text-success);
  animation: successPulse 0.5s ease-out;
}

.systemsculpt-tool-call-status-indicator.completed svg {
  animation: checkmarkAnim 0.3s ease-out;
}

.systemsculpt-tool-call-status-indicator.completed::after {
  background: radial-gradient(
    circle,
    color-mix(in srgb, rgb(var(--color-green-rgb)) 30%, var(--ss-layer-base)),
    var(--ss-layer-base)
  );
  opacity: 1;
  animation: rippleEffect 0.6s ease-out;
}

@keyframes successPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

@keyframes checkmarkAnim {
  0% { transform: scale(0) rotate(-45deg); }
  50% { transform: scale(1.2) rotate(10deg); }
  100% { transform: scale(1) rotate(0); }
}

@keyframes rippleEffect {
  from {
    width: 0;
    height: 0;
    opacity: 1;
  }
  to {
    width: 40px;
    height: 40px;
    opacity: 0;
  }
}

.systemsculpt-tool-call-status-indicator.denied {
  color: var(--text-error);
  animation: shakeAnim 0.3s ease-out;
}

.systemsculpt-tool-call-status-indicator.denied svg {
  animation: xmarkAnim 0.3s ease-out;
}

@keyframes shakeAnim {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-3px); }
  75% { transform: translateX(3px); }
}

@keyframes xmarkAnim {
  0% { transform: scale(0) rotate(45deg); }
  50% { transform: scale(1.2) rotate(-10deg); }
  100% { transform: scale(1) rotate(0); }
}

.systemsculpt-tool-call-status-indicator.executing {
  color: var(--text-warning);
}

.systemsculpt-tool-call-status-indicator.executing svg {
  animation: spinAnim 1s linear infinite;
}

@keyframes spinAnim {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.systemsculpt-tool-call-status-indicator.pending {
  color: var(--text-muted);
}

.systemsculpt-tool-call-status-indicator.pending svg {
  animation: breatheAnim 2s ease-in-out infinite;
}

@keyframes breatheAnim {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

.systemsculpt-tool-call-status-indicator.error {
  color: var(--text-error);
  animation: errorFlashAnim 0.5s ease-out;
}

@keyframes errorFlashAnim {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

@keyframes systemsculpt-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.systemsculpt-tool-call-status-indicator svg.systemsculpt-spinning {
  animation: systemsculpt-spin 1s linear infinite;
}

/* Open File Button */
.systemsculpt-tool-call-open-file-btn {
  padding: 4px 8px !important;
  font-size: 11px !important;
  height: 24px !important;
  line-height: 1 !important;
  border-radius: 3px !important;
  background: var(--background-modifier-form-field) !important;
  color: var(--text-muted) !important;
  border: 1px solid var(--background-modifier-border) !important;
  margin-left: 8px !important;
  flex-shrink: 0 !important;
  transition: all 0.15s ease !important;
}

.systemsculpt-tool-call-open-file-btn:hover {
  background: var(--interactive-accent) !important;
  color: var(--text-on-accent) !important;
  border-color: var(--interactive-accent) !important;
}

.systemsculpt-tool-call-open-file-btn:active {
  transform: translateY(1px) !important;
}

/* Dark theme adjustments */
.theme-dark .systemsculpt-tool-call-open-file-btn {
  background: color-mix(in srgb, rgb(255, 255, 255) 5%, var(--ss-layer-base)) !important;
  border-color: color-mix(in srgb, rgb(255, 255, 255) 15%, var(--ss-layer-base)) !important;
}

.theme-dark .systemsculpt-tool-call-open-file-btn:hover {
  background: var(--interactive-accent) !important;
  border-color: var(--interactive-accent) !important;
}

/* Light theme adjustments */
.theme-light .systemsculpt-tool-call-open-file-btn {
  background: color-mix(in srgb, rgb(0, 0, 0) 3%, var(--ss-layer-base)) !important;
  border-color: color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base)) !important;
}

.theme-light .systemsculpt-tool-call-open-file-btn:hover {
  background: var(--interactive-accent) !important;
  border-color: var(--interactive-accent) !important;
}

/* Tool Call Content Styles */
.systemsculpt-tool-call-content {
  /* Inherits from .systemsculpt-drawer-content-container */
  user-select: text !important;
  -webkit-user-select: text !important;
}

/* Tool Call Summary */
.systemsculpt-tool-call-summary {
  font-family: var(--font-monospace);
  font-size: 11px;
  color: var(--text-muted);
  background: var(--background-secondary);
  padding: 4px 8px;
  border-radius: 4px;
  margin-bottom: 8px;
  white-space: pre-wrap;
  line-height: 1.4;
  border: 1px solid var(--background-modifier-border);
}

/* Collapsible Details Toggle */
.systemsculpt-tool-call-details-toggle {
  font-size: 11px;
  color: var(--text-accent);
  cursor: pointer;
  padding: 2px 0;
  margin: 4px 0 2px 0;
  user-select: text;
  -webkit-user-select: text;
  transition: color 0.2s ease;
  text-decoration: underline;
  text-decoration-style: dotted;
}

.systemsculpt-tool-call-details-toggle:hover {
  color: var(--text-accent-hover);
  text-decoration-style: solid;
}

/* Collapsible Details Container */
.systemsculpt-tool-call-details-container {
  max-height: 200px;
  overflow: hidden;
  transition: all 0.3s ease;
  opacity: 1;
}

.systemsculpt-tool-call-details-container.systemsculpt-collapsed {
  /* Use transform instead of max-height for smoother animation */
  max-height: 0;
  opacity: 0;
  margin: 0;
}

.systemsculpt-tool-call-details {
  padding: 4px 0;
}

.systemsculpt-tool-call-args {
  margin: 6px 0;
  padding: 6px;
  background: var(--background-primary);
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-tool-call-args-label {
  font-weight: 500;
  color: var(--text-muted);
  font-size: 12px;
  margin-bottom: 3px;
}

.systemsculpt-tool-call-args-content {
  /* Container for arguments */
}

.systemsculpt-tool-call-arg {
  font-size: 11px;
  margin-bottom: 3px;
  display: flex;
  gap: 6px;
  align-items: flex-start;
}

.systemsculpt-tool-call-arg:last-child {
  margin-bottom: 0;
}

.systemsculpt-tool-call-arg-key {
  color: var(--text-muted);
  font-weight: 500;
  min-width: 80px;
  flex-shrink: 0;
}

.systemsculpt-tool-call-arg-key::after {
  content: ":";
}

.systemsculpt-tool-call-arg-value {
  color: var(--text-normal);
  font-family: var(--font-monospace);
  background: var(--ss-layer-base);
  padding: 1px 0;
  border-radius: 3px;
  word-break: break-word;
  flex: 1;
}

/* Tool Response Section (matching arguments styling) */
.systemsculpt-tool-call-response {
  margin: 6px 0 !important;
  padding: 6px !important;
  background: var(--background-primary) !important;
  border-radius: 4px !important;
  border: 1px solid var(--background-modifier-border) !important;
}

.systemsculpt-tool-call-response-label {
  font-weight: 500;
  color: var(--text-muted);
  font-size: 12px;
  margin-bottom: 3px;
}

.systemsculpt-tool-call-response-content {
  max-height: clamp(90px, 22vh, 120px) !important;
  overflow-y: auto !important;
  overflow-x: auto !important;
  font-size: 11px !important;
  line-height: 1.4 !important;
  font-family: var(--font-monospace) !important;
  color: var(--text-normal) !important;
  padding: 0 !important;
}

.systemsculpt-tool-response-json {
  background: var(--background-secondary);
  padding: 4px;
  border-radius: 4px;
  overflow-x: auto;
  margin: 0;
  font-family: var(--font-monospace);
  font-size: 11px;
  line-height: 1.3;
  color: var(--text-normal);
}

.systemsculpt-tool-response-text {
  /* Uses base .systemsculpt-drawer-content-text styles */
  user-select: text !important;
  -webkit-user-select: text !important;
}

.systemsculpt-tool-response-error {
  border-color: var(--text-error);
  background: color-mix(in srgb, rgb(var(--background-modifier-error-rgb)) 10%, var(--ss-layer-base));
}

.systemsculpt-tool-response-error-json {
  background: color-mix(in srgb, rgb(var(--background-modifier-error-rgb)) 20%, var(--ss-layer-base));
  color: var(--text-error);
  padding: 4px;
  border-radius: 4px;
  overflow-x: auto;
  margin: 0;
  font-family: var(--font-monospace);
  font-size: 11px;
  line-height: 1.3;
}

/* Loading state for tool responses */
.systemsculpt-tool-response-executing {
  opacity: 0.8;
}

.systemsculpt-tool-response-loading {
  color: var(--text-muted);
  font-style: italic;
  padding: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* State-specific styling (opacity only, no border colors) */
.systemsculpt-tool-call-denied {
  opacity: 1;
}

.systemsculpt-tool-call-executing {
  opacity: 1;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Tool Call Actions - Modern Buttons                       ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-tool-call-actions {
  display: flex;
  gap: 10px;
  margin-top: 16px;
  padding: 14px;
  background: linear-gradient(
    135deg,
    color-mix(in srgb, rgb(var(--background-secondary-rgb)) 80%, var(--ss-layer-base)),
    color-mix(in srgb, rgb(var(--background-modifier-form-field-rgb)) 60%, var(--ss-layer-base))
  );
  border-radius: 10px;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid var(--background-modifier-border);
  box-shadow: 0 4px 12px color-mix(in srgb, rgb(0, 0, 0) 5%, var(--ss-layer-base));
  animation: fadeInUpActions 0.3s ease-out;
}

@keyframes fadeInUpActions {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.systemsculpt-tool-call-approve,
.systemsculpt-tool-call-deny {
  flex: 1;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 13px;
  font-weight: 600;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.systemsculpt-tool-call-approve {
  background: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 10%, var(--ss-layer-base));
  border: 1.5px solid color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 30%, var(--ss-layer-base));
  color: var(--interactive-accent);
}

.systemsculpt-tool-call-approve:hover {
  background: var(--interactive-accent);
  border-color: var(--interactive-accent);
  color: var(--text-on-accent);
  transform: translateY(-2px);
  box-shadow: 
    0 6px 16px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 30%, var(--ss-layer-base)),
    0 2px 6px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 20%, var(--ss-layer-base));
}

.systemsculpt-tool-call-deny {
  background: color-mix(in srgb, rgb(var(--text-error-rgb)) 10%, var(--ss-layer-base));
  border: 1.5px solid color-mix(in srgb, rgb(var(--text-error-rgb)) 30%, var(--ss-layer-base));
  color: var(--text-error);
}

.systemsculpt-tool-call-deny:hover {
  background: var(--text-error);
  border-color: var(--text-error);
  color: var(--text-on-accent);
  transform: translateY(-2px);
  box-shadow: 
    0 6px 16px color-mix(in srgb, rgb(var(--text-error-rgb)) 30%, var(--ss-layer-base)),
    0 2px 6px color-mix(in srgb, rgb(var(--text-error-rgb)) 20%, var(--ss-layer-base));
}

.systemsculpt-tool-call-approve:active,
.systemsculpt-tool-call-deny:active {
  transform: translateY(0);
}

.systemsculpt-tool-call-view-file {
  flex: 1;
  padding: 8px 16px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  font-size: 13px;
  font-weight: 500;
  transition: all 0.15s ease;
  color: var(--text-normal);
}

.systemsculpt-tool-call-view-file:hover {
  background: var(--background-modifier-hover);
  border-color: var(--interactive-accent);
  color: var(--interactive-accent);
}

.systemsculpt-tool-call-view-file:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.theme-dark .systemsculpt-tool-call-view-file {
  background: color-mix(in srgb, rgb(255, 255, 255) 5%, var(--ss-layer-base));
  border-color: color-mix(in srgb, rgb(255, 255, 255) 15%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-tool-call-view-file:hover {
  background: color-mix(in srgb, rgb(255, 255, 255) 10%, var(--ss-layer-base));
}

.theme-light .systemsculpt-tool-call-view-file {
  background: color-mix(in srgb, rgb(0, 0, 0) 3%, var(--ss-layer-base));
  border-color: color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
}

.theme-light .systemsculpt-tool-call-view-file:hover {
  background: color-mix(in srgb, rgb(0, 0, 0) 5%, var(--ss-layer-base));
}


/* ========================================================================== */
/* == Tool Call Result Display (legacy support)                            == */
/* ========================================================================== */

.systemsculpt-tool-call-result {
  margin: 8px 0 !important;
  padding: 8px !important;
  background: var(--background-primary) !important;
  border: 1px solid var(--background-modifier-border) !important;
  border-radius: 4px !important;
}

.systemsculpt-tool-call-result-header {
  font-weight: 500;
  font-size: 14px;
  color: var(--text-normal);
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-tool-call-result-content {
  font-size: 11px !important;
  line-height: 1.4 !important;
  font-family: var(--font-monospace) !important;
  color: var(--text-normal) !important;
  background: var(--ss-layer-base) !important;
  border-radius: 0 !important;
  padding: 0 !important;
  max-height: clamp(90px, 22vh, 120px) !important;
  overflow-y: auto !important;
  overflow-x: auto !important;
  white-space: pre-wrap !important;
  word-break: break-word !important;
}

.systemsculpt-tool-call-result-content pre {
  margin: 0 !important;
  background: none !important;
  border: none !important;
  padding: 0 !important;
  font-size: inherit !important;
  line-height: inherit !important;
  color: inherit !important;
  white-space: pre-wrap !important;
  word-break: break-word !important;
}

.systemsculpt-tool-call-result-content code {
  background: none !important;
  border: none !important;
  padding: 0 !important;
  font-size: inherit !important;
  color: inherit !important;
}

/* Enhanced tool result display */
.systemsculpt-tool-result-container {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  overflow: hidden;
}

.systemsculpt-tool-result-header {
  background: var(--background-secondary);
  padding: 8px 12px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-tool-result-title {
  margin: 0;
  font-size: 12px;
  font-weight: 600;
  color: var(--text-muted);
}

.systemsculpt-tool-result-content {
  padding: 10px;
  max-height: 220px;
  overflow-y: auto;
}

.systemsculpt-tool-result-summary {
  background: var(--background-modifier-form-field);
  padding: 6px 10px;
  border-radius: 4px;
  margin-bottom: 12px;
  font-size: 11px;
  color: var(--text-normal);
  font-weight: 500;
}

.systemsculpt-tool-result-listing {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.systemsculpt-tool-result-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 6px;
  border-radius: 3px;
  font-size: 11px;
  transition: background 0.15s ease;
}

.systemsculpt-tool-result-item:hover {
  background: var(--background-modifier-hover);
}

.systemsculpt-tool-result-item.directory {
  font-weight: 500;
}

.systemsculpt-tool-result-item .item-icon {
  flex-shrink: 0;
  width: 16px;
}

.systemsculpt-tool-result-item .item-name {
  flex: 1;
  font-family: var(--font-monospace);
  color: var(--text-normal);
}

.systemsculpt-tool-result-item .item-number {
  flex-shrink: 0;
  width: 20px;
  color: var(--text-muted);
  font-family: var(--font-monospace);
}

.systemsculpt-tool-result-item .item-content {
  flex: 1;
  font-family: var(--font-monospace);
  color: var(--text-normal);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.systemsculpt-tool-result-text,
.systemsculpt-tool-result-raw {
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 6px;
  font-family: var(--font-monospace);
  font-size: 11px;
  line-height: 1.4;
  color: var(--text-normal);
  white-space: pre-wrap;
  word-break: break-word;
  margin: 0;
  overflow-x: auto;
}

.systemsculpt-tool-result-json {
  margin-top: 8px;
}

.systemsculpt-tool-result-truncated {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 10px;
  background: var(--background-modifier-hover);
  border-radius: 4px;
  margin-top: 8px;
  font-size: 11px;
  color: var(--text-muted);
}

.systemsculpt-tool-result-expand-btn {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border: none;
  border-radius: 3px;
  padding: 2px 8px;
  font-size: 10px;
  cursor: pointer;
  transition: opacity 0.15s ease;
}

.systemsculpt-tool-result-expand-btn:hover {
  opacity: 0.8;
}

/* Rolling window visual feedback and smooth animations */
.systemsculpt-collapsible-drawer.auto-collapsed .systemsculpt-collapsible-header {
  opacity: 0.7;
  transition: opacity 0.3s ease;
}

.systemsculpt-collapsible-drawer.auto-collapsed:hover .systemsculpt-collapsible-header {
  opacity: 1;
}

/* Smooth collapse animation for FIFO */
.systemsculpt-collapsible-drawer.auto-collapsing {
  transition: transform 0.25s cubic-bezier(0.4, 0, 1, 1), opacity 0.25s cubic-bezier(0.4, 0, 1, 1) !important;
  transform: scale(0.95);
  opacity: 0;
}

/* REMOVED legacy raw container (now unused) */

/* Override heading styles for Result */
.systemsculpt-tool-call-result h4 {
  font-weight: 500 !important;
  color: var(--text-muted) !important;
  font-size: 12px !important;
  margin: 0 0 2px 0 !important;
  padding: 0 !important;
  background: none !important;
  border: none !important;
}

/* Enhanced: Compact inline header actions for pending tool-calls */
.systemsculpt-tool-call-compact-actions {
  display: inline-flex;
  gap: 6px;
  margin-left: auto;
  animation: slideInActions 0.3s ease-out;
}

@keyframes slideInActions {
  from {
    opacity: 0;
    transform: translateX(10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.ss-tool-compact-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  padding: 0;
  background: linear-gradient(
    135deg,
    var(--background-modifier-form-field),
    var(--background-secondary)
  );
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.ss-tool-compact-btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: color-mix(in srgb, rgb(255, 255, 255) 30%, var(--ss-layer-base));
  transform: translate(-50%, -50%);
  /* No transition for width/height changes */
}

.ss-tool-compact-btn:hover {
  background: var(--background-modifier-hover);
  border-color: var(--interactive-accent);
  transform: scale(1.1);
  box-shadow: 0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
}

.ss-tool-compact-btn:hover::before {
  width: 40px;
  height: 40px;
}

.ss-tool-compact-btn:active {
  transform: scale(0.95);
}

.ss-tool-compact-btn svg {
  transition: transform 0.2s ease;
}

.ss-tool-compact-approve {
  color: var(--text-success);
}

.ss-tool-compact-approve:hover {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, rgb(var(--color-green-rgb)) 10%, var(--ss-layer-base)),
    color-mix(in srgb, rgb(var(--color-green-rgb)) 5%, var(--ss-layer-base))
  );
  border-color: var(--text-success);
}

.ss-tool-compact-approve:hover svg {
  transform: rotate(15deg) scale(1.1);
}

.ss-tool-compact-deny {
  color: var(--text-error);
}

.ss-tool-compact-deny:hover {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, rgb(var(--color-red-rgb)) 10%, var(--ss-layer-base)),
    color-mix(in srgb, rgb(var(--color-red-rgb)) 5%, var(--ss-layer-base))
  );
  border-color: var(--text-error);
}

.ss-tool-compact-deny:hover svg {
  transform: rotate(-15deg) scale(1.1);
}

/* Ensure compatibility with new drawer design */
.systemsculpt-tool-call-result.systemsculpt-collapsed .systemsculpt-tool-call-result-content {
  opacity: 0;
  padding: 0 8px;
}

/* Scrollbar styling for legacy result content */
.systemsculpt-tool-call-result-content::-webkit-scrollbar {
  width: 6px;
}

.systemsculpt-tool-call-result-content::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb-bg);
  border-radius: 3px;
}

.systemsculpt-tool-call-result-content::-webkit-scrollbar-track {
  background-color: var(--scrollbar-bg);
  border-radius: 3px;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .systemsculpt-tool-call-actions {
    flex-direction: column;
    gap: 4px;
  }
  
  .systemsculpt-tool-call-approve,
  .systemsculpt-tool-call-deny {
    width: 100%;
    justify-content: center;
  }
}

@keyframes ellipsis-animation {
  0% { content: '.'; }
  50% { content: '..'; }
  100% { content: '...'; }
}

/* ========================================================================== */
/* == Compact Drawer Grouping - Override Margins for Messages with Drawers == */
/* ========================================================================== */

/* 
 * CORRECTED: Target drawers within consecutive messages in the group,
 * not consecutive wrappers within the same message
 */

/* Group spacing rules removed; flat list layout uses standard margins */

/* ========================================================================== */
/* == End Compact Drawer Grouping Overrides                               == */
/* ========================================================================== */


/* ss-buttons.css */
/**
 * SystemSculpt Standardized Button Styles
 * 
 * This file contains all styles for the standardized button system.
 * These styles ensure consistent button appearance and behavior across the application.
 */

/* Base button */
.ss-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 12px;
  border-radius: var(--radius-s, 4px);
  background-color: var(--interactive-normal);
  color: var(--text-normal);
  cursor: pointer;
  font-size: var(--font-ui-small, 14px);
  border: 1px solid var(--background-modifier-border);
  transition: all 0.15s ease;
  min-height: 32px;
  min-width: 80px;
  text-align: center;
  box-sizing: border-box;
  line-height: 1.3;
  /* Buttons should not shrink in tight flex rows (prevents leak/overlap) */
  flex-shrink: 0;
}

.ss-button:hover {
  background-color: var(--interactive-hover);
}

.ss-button:active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  transform: translateY(1px);
}

/* Button with icon */
.ss-button__icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: 5px; /* Standardized spacing between icon and text */
}

.ss-button__icon svg {
  width: 16px;
  height: 16px;
}

/* Button variants */
.ss-button--primary {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

.ss-button--primary:hover {
  background-color: var(--interactive-accent-hover);
  border-color: var(--interactive-accent-hover);
}

.ss-button--secondary {
  background-color: var(--ss-layer-base);
  color: var(--text-normal);
  border-color: var(--background-modifier-border);
}

.ss-button--danger {
  background-color: var(--background-modifier-error);
  color: white;
  border-color: var(--background-modifier-error);
}

.ss-button--danger:hover {
  opacity: 0.9;
  background-color: var(--background-modifier-error-hover, var(--background-modifier-error));
}

.ss-button--small {
  padding: 3px 8px;
  font-size: 12px;
  min-height: 24px;
  min-width: unset;
}

.ss-button--small .ss-button__icon {
  margin-right: 4px;
}

.ss-button--small .ss-button__icon svg {
  width: 14px;
  height: 14px;
}

/* Subtle inline buttons (e.g., token counter) */
.ss-button--ghost {
  background-color: var(--ss-layer-base);
  border-color: var(--ss-layer-base);
  color: var(--text-muted);
}

/* Button states */
.ss-button.mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  font-weight: 500;
}

.ss-button.mod-cta:hover {
  background-color: var(--interactive-accent-hover);
}

.ss-button.mod-warning {
  background-color: var(--text-warning);
  color: white;
  border-color: var(--text-warning);
}

.ss-button.mod-warning:hover {
  opacity: 0.9;
}

.ss-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.ss-button.ss-active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

/* Button loading state */
.ss-button.ss-loading {
  position: relative;
  color: var(--ss-layer-base);
}

.ss-button.ss-loading::after {
  content: "";
  position: absolute;
  width: 16px;
  height: 16px;
  border: 2px solid color-mix(in srgb, rgb(255, 255, 255) 25%, var(--ss-layer-base));
  border-top-color: var(--text-on-accent);
  border-radius: 50%;
  animation: ss-spin 0.8s linear infinite;
}

/* Button container */
.ss-button-container {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  justify-content: flex-end;
  align-items: center;
}

/* Keyboard shortcut hint */
.systemsculpt-shortcut-hint {
  opacity: 0.8 !important;
  font-size: 0.9em !important;
  margin-left: 5px !important;
} 


/* standardized-modal.css */
/**
 * Standardized Modal System
 *
 * This file contains all styles for the standardized modal system.
 * The goal is to provide a consistent, reusable set of components
 * for all modals in the SystemSculpt plugin.
 *
 * Components include:
 * - Modal containers with various sizes
 * - Header, content, and footer sections
 * - List items with consistent styling
 * - Search components with clear functionality
 * - Filter buttons for toggling options
 * - Loading and empty states
 * 
 * All classes use the 'ss-' prefix to avoid collisions.
 */

/* Base styles */
.ss-modal {
  background-color: var(--background-primary);
  border-radius: 8px;
  box-shadow: 0 4px 16px color-mix(in srgb, rgb(0, 0, 0) 20%, var(--ss-layer-base));
  color: var(--text-normal);
  display: flex;
  flex-direction: column;
  max-width: 90vw;
  max-height: 85vh;
  width: 90vw;
  animation: ss-fade-in 0.2s ease-out;
  overflow: hidden;
}

/* Size variations */
.ss-modal--small {
  width: 400px;
  height: auto;
}

.ss-modal--medium {
  width: 550px;
  height: auto;
  max-height: 75vh;
}

.ss-modal--large {
  width: 650px;
  height: 600px; /* Fixed height to prevent jumping */
  max-height: 85vh; /* Keep max-height for smaller screens */
}



.ss-modal--fullwidth {
  width: 90vw;
  height: 90vh;
  max-width: 1200px;
}

/* Header */
.ss-modal__header {
  background-color: var(--background-primary);
  border-bottom: 1px solid var(--background-modifier-border);
  padding: 16px 20px;
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
}

.ss-modal__title-container {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 4px;
}

.ss-modal__title {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-normal);
  margin: 0;
  line-height: 1.3;
}

.ss-modal__description {
  color: var(--text-muted);
  font-size: 14px;
  margin: 4px 0 0;
  line-height: 1.4;
}

.ss-modal__close-button {
  color: var(--text-muted);
  cursor: pointer;
  border-radius: 4px;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: -2px;
  margin-left: 16px;
  flex-shrink: 0;
  padding: 0;
  background: var(--ss-layer-base);
  border: none;
}

.ss-modal__close-button:hover {
  color: var(--text-normal);
  background-color: var(--background-modifier-hover);
}

/* Content */
.ss-modal__content {
  padding: 16px 20px;
  overflow: hidden; /* Change from overflow-y: auto to hidden to let list handle scrolling */
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}

.ss-modal__custom-content {
  margin-bottom: 16px;
}

/* --- Filter Container --- */
.ss-modal__filter-container {
  display: grid; /* Use grid layout */
  grid-template-columns: repeat(auto-fit, minmax(120px, max-content)); /* Auto-fit columns */
  gap: 10px; /* Consistent gap between grid items */
  align-items: center; /* Vertically align items */
  padding: 12px 20px; /* Consistent padding */
  margin-bottom: 16px;
  border-bottom: 1px solid var(--background-modifier-border); /* Add border if needed */
}

/* --- Base Filter Button Style (Applies to both provider and favorites) --- */
.ss-filter-button,
.systemsculpt-favorites-filter {
  display: inline-flex;
  align-items: center;
  justify-content: center; /* Center content */
  height: 34px; /* Consistent height */
  padding: 0 12px; /* Consistent padding */
  border-radius: 6px; /* Consistent border radius */
  font-size: 14px; /* Consistent font size */
  font-weight: 500; /* Consistent font weight */
  cursor: pointer;
  user-select: none;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary); /* Default background */
  color: var(--text-muted); /* Default text color */
  transition: all 0.15s ease;
  white-space: nowrap;
  gap: 6px; /* Gap between icon and text */
  margin-right: 0; /* Remove specific margins, rely on grid gap */
}

/* Hover state for all filter buttons */
.ss-filter-button:hover,
.systemsculpt-favorites-filter:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
  border-color: var(--background-modifier-border-hover);
}

/* Active state for Provider filter buttons */
.ss-filter-button.ss-active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}
.ss-filter-button.ss-active .ss-filter-button__icon svg {
  color: var(--text-on-accent); /* Ensure icon color matches */
}


/* Active state for Favorites filter button */
.systemsculpt-favorites-filter.is-active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}
.systemsculpt-favorites-filter.is-active .svg-icon {
   color: var(--text-on-accent); /* Ensure icon color matches */
}


/* Specific styles for Provider button icon/text */
.ss-filter-button__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
}
.ss-filter-button__text {
  /* font-size is handled by base style */
  /* font-weight is handled by base style */
}

/* Specific styles for Favorites button icon */
.systemsculpt-favorites-filter .svg-icon {
  /* margin-right: 6px; /* Use gap instead */
  width: 16px; /* Match provider icon size */
  height: 16px; /* Match provider icon size */
  color: var(--text-muted); /* Default icon color */
  transition: all 0.2s ease;
}

/* Remove old badge styles if not used */
.ss-filter-button__badge {
  /* Remove or adjust if badges are not part of the design */
  display: none;
}

/* Focus state */
.ss-filter-button:focus-visible,
.systemsculpt-favorites-filter:focus-visible {
  outline: 2px solid var(--background-modifier-border-focus);
  outline-offset: 1px;
  box-shadow: 0 0 0 2px var(--background-primary), 0 0 0 4px var(--background-modifier-border-focus); /* Improved focus ring */
}

/* Responsive adjustments (Optional, based on previous attempt) */
@media (max-width: 600px) {
  .ss-modal__filter-container {
    /* Grid handles wrapping automatically, but adjust columns if needed */
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); /* Allow more buttons per row on smaller screens */
    padding: 12px; /* Adjust padding */
    gap: 8px; /* Slightly smaller gap */
  }
  .ss-filter-button,
  .systemsculpt-favorites-filter {
    /* width: 100%; /* Let grid handle width */
    justify-content: center; /* Center content */
    margin-right: 0; /* Ensure no margin interferes */
  }
  
  /* Adjust list height for mobile */
  .ss-modal__list {
    height: 300px; /* Smaller height for mobile */
    min-height: 300px;
  }
  
  /* Adjust modal height for mobile */
  .ss-modal--large {
    height: 500px; /* Smaller overall height for mobile */
  }
}

/* Search */
.ss-modal__search {
  position: relative;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
}

.ss-modal__search-input {
  width: 100%;
  height: 36px;
  padding: 8px 36px 8px 36px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  font-size: 14px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  text-indent: 24px;
}

.ss-modal__search-input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 20%, var(--ss-layer-base));
}

.ss-modal__search-icon {
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  width: 16px;
  height: 16px;
  z-index: 1;
  pointer-events: none;
}

.ss-modal__search-clear {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  width: 16px;
  height: 16px;
  cursor: pointer;
  display: none;
  z-index: 1;
}

.ss-modal__search-input:not(:placeholder-shown) + .ss-modal__search-clear {
  display: block;
}

.ss-modal__search-clear:hover {
  color: var(--text-normal);
}

/* List */
.ss-modal__list {
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  gap: 4px;
  padding-bottom: 4px;
  /* Remove fixed height for better flexibility */
  flex: 1 1 auto; /* Allow list to grow and shrink */
  min-height: 0; /* Important for proper flex behavior */
}

/* 
 * NOTE: The ss-modal__item styling has been moved to favorite-toggle.css
 * to use a grid layout that properly positions the favorite toggle and provider badge
 * without overlap. The commented styles below are kept for reference only.
 */
/*
.ss-modal__item {
  display: flex;
  align-items: center;
  padding: 10px;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.1s ease;
  position: relative;
  gap: 8px;
}
*/

.ss-modal__item:hover,
.ss-modal__item:focus {
  background-color: var(--background-modifier-hover);
}

.ss-modal__item.ss-active {
  background-color: var(--background-primary-alt);
}

.ss-modal__item.ss-active .ss-modal__item-icon {
  color: var(--interactive-accent);
}

/* 
 * The following item content styles are now managed through the grid layout
 * in favorite-toggle.css, but we keep the color and text styles here.
 */
.ss-modal__item-title {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-normal);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ss-modal__item-description {
  font-size: 12px;
  color: var(--text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ss-modal__item-badge {
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 3px;
  background-color: var(--background-modifier-hover);
  color: var(--text-muted);
  margin-left: 8px;
  flex-shrink: 0;
}

.ss-modal__empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px 16px;
  text-align: center;
  color: var(--text-muted);
  font-size: 14px;
  height: 150px;
}

.ss-modal__empty-state-icon {
  width: 32px;
  height: 32px;
  margin-bottom: 8px;
  color: var(--text-muted);
}

/* Footer */
.ss-modal__footer {
  display: flex;
  justify-content: flex-end;
  padding: 16px 20px;
  border-top: 1px solid var(--background-modifier-border);
  gap: 8px;
  flex-shrink: 0;
}

/* Misc */
.ss-modal__loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px;
  color: var(--text-muted);
  height: 150px;
  text-align: center;
}

.ss-modal__loading::before {
  content: "";
  display: block;
  width: 24px;
  height: 24px;
  border: 2px solid var(--background-modifier-border);
  border-top-color: var(--interactive-accent);
  border-radius: 50%;
  animation: ss-spin 1s linear infinite;
  margin-bottom: 16px;
}

.ss-modal__loading svg {
  animation: ss-spin 1s linear infinite;
  color: var(--text-muted);
  width: 20px;
  height: 20px;
}

.ss-modal__error {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px;
  color: var(--text-error);
  height: 150px;
  text-align: center;
  font-size: 14px;
}

.ss-modal__error::before {
  content: "!";
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  background-color: var(--text-error);
  color: var(--background-primary);
  border-radius: 50%;
  font-weight: bold;
  margin-bottom: 16px;
}

@keyframes ss-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Thumbnails and Image Previews */
.ss-modal__item-thumbnail {
  width: 48px;
  height: 48px;
  border-radius: 4px;
  overflow: hidden;
  flex-shrink: 0;
  margin-left: auto;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
  position: relative;
  box-shadow: 0 2px 4px color-mix(in srgb, rgb(0, 0, 0) 10%, var(--ss-layer-base));
  cursor: pointer;
}

.ss-modal__item-thumbnail::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: color-mix(in srgb, rgb(0, 0, 0) 10%, var(--ss-layer-base));
  opacity: 0;
  transition: opacity 0.2s ease;
  z-index: 1;
}

.ss-modal__item-thumbnail:hover::before {
  opacity: 1;
}

.ss-modal__item-thumbnail::after {
  content: '👁️';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.8);
  color: white;
  font-size: 16px;
  opacity: 0;
  transition: opacity 0.2s ease, transform 0.2s ease;
  z-index: 2;
  text-shadow: 0 1px 3px color-mix(in srgb, rgb(0, 0, 0) 50%, var(--ss-layer-base));
}

.ss-modal__item-thumbnail:hover::after {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
}

.ss-modal__item-thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.2s ease;
}

.ss-modal__item-thumbnail:hover img {
  transform: scale(1.1);
}

/* Hover preview (for desktop) */
.ss-preview-container {
  position: fixed;
  z-index: 9999;
  background-color: var(--background-primary);
  border-radius: 8px;
  box-shadow: 0 4px 20px color-mix(in srgb, rgb(0, 0, 0) 40%, var(--ss-layer-base));
  padding: 12px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  gap: 8px;
  animation: fadeIn 0.2s ease;
  border: 1px solid var(--background-modifier-border);
}

.ss-preview-title {
  font-weight: bold;
  text-align: center;
  font-size: 14px;
  margin-bottom: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

.ss-preview-container img {
  object-fit: contain;
  max-width: 100%;
  max-height: 100%;
  border-radius: 4px;
  display: block;
}

/* Expanded preview (for mobile) */
.ss-modal__item.expanded {
  flex-direction: column;
  align-items: flex-start;
  gap: 12px;
  padding: 12px;
}

.ss-modal__item.expanded .ss-modal__item-thumbnail {
  width: 48px;
  height: 48px;
  margin-left: 0;
}

.ss-modal__item-preview {
  width: 100%;
  height: auto;
  max-height: 200px;
  overflow: hidden;
  border-radius: 6px;
  margin-top: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--background-modifier-border);
  animation: ss-fade-in 0.2s ease;
  background-color: var(--background-secondary);
}

.ss-modal__item-preview img {
  max-width: 100%;
  max-height: 200px;
  object-fit: contain;
}

/* Animation for fade-in effect */
@keyframes ss-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.ss-modal-thumbnail {
  width: 24px;
  height: 24px;
  margin-right: 8px;
  object-fit: cover;
  border-radius: 4px;
  box-shadow: 0 1px 2px color-mix(in srgb, rgb(0, 0, 0) 20%, var(--ss-layer-base));
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.ss-modal-thumbnail:hover {
  transform: scale(1.1);
  box-shadow: 0 3px 6px color-mix(in srgb, rgb(0, 0, 0) 30%, var(--ss-layer-base));
}

/* System Prompt Modal specific styles */
.ss-modal__presets {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 16px;
}

.ss-modal__title-input-container {
  display: flex;
  gap: 8px;
  margin-top: 8px;
  align-items: center;
}

.ss-modal__title-input {
  flex: 1;
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 14px;
}

.ss-modal__model-selection {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 8px;
}

.ss-modal__model-display {
  flex: 1;
  padding: 8px 12px;
  border-radius: 6px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  font-size: 14px;
  cursor: pointer;
  position: relative;
  transition: background-color 0.15s ease, border-color 0.15s ease;
}

.ss-modal__model-display:hover {
  background-color: var(--background-secondary-alt);
  border-color: var(--background-modifier-border-hover);
}

.ss-modal__model-display::after {
  content: "\2BC6"; /* Down arrow Unicode character */
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  font-size: 12px;
}

.ss-modal__section {
  margin-bottom: 24px;
}

.ss-modal__section-header {
  margin-bottom: 12px;
}

.ss-modal__section-header h3 {
  margin: 0;
  font-size: 16px;
  color: var(--text-normal);
  font-weight: 600;
}

.ss-modal__prompt-editor {
  margin-top: 12px;
  margin-bottom: 20px;
}

.ss-modal__prompt-textarea {
  width: 100%;
  height: 200px;
  padding: 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 14px;
  font-family: var(--font-monospace);
  line-height: 1.5;
  resize: none;
  overflow-y: auto;
}

/* System prompt modal */
.ss-system-prompt-modal .ss-modal__content {
  padding-bottom: 0;
}

.ss-system-prompt-modal .ss-modal__prompt-preview {
  margin-top: 12px;
  padding: 12px;
  border-radius: 6px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  font-size: 14px;
  max-height: 150px;
  overflow-y: auto;
  white-space: pre-wrap;
}

/* Layout for two-panel modal (e.g., Chat Settings) */
.ss-chat-modal-layout {
  display: flex;
  gap: 20px; /* Adjust gap as needed */
}

.ss-chat-modal-layout .ss-modal__content {
  display: flex;
  gap: 20px;
  padding: 0; /* Remove default padding if layout handles it */
}

.ss-chat-modal-left-panel,
.ss-chat-modal-right-panel {
  display: flex;
  flex-direction: column;
  gap: 16px; /* Spacing between elements within a panel */
  padding: 16px 20px; /* Add padding back to panels */
  overflow-y: auto; /* Allow panels to scroll independently */
}

.ss-chat-modal-left-panel {
  flex: 1; /* Adjust flex ratio as needed, e.g., 1 for equal */
  min-width: 250px; /* Ensure left panel doesn't collapse too much */
  border-right: 1px solid var(--background-modifier-border);
}

.ss-chat-modal-right-panel {
  flex: 2; /* Adjust flex ratio as needed, e.g., 2 for wider right panel */
  min-width: 300px;
}

/* Ensure prompt editor takes available space */
.ss-chat-modal-right-panel .ss-modal__prompt-editor {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}

.ss-chat-modal-right-panel .ss-prompt-editor-container {
  flex-grow: 1;
  display: flex;
}

.ss-chat-modal-right-panel .ss-prompt-textarea {
  flex-grow: 1; /* Allow textarea to fill vertical space */
  height: auto; /* Override fixed height */
  min-height: 200px; /* Set a minimum height */
}

.ss-chat-modal-right-panel .ss-prompt-editor-note {
  margin-top: 8px;
  font-size: 12px;
  color: var(--text-muted);
}

/* --- Specific Modal Overrides --- */



/* Ensure all list items remain fully visible */
.ss-modal__list .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
  transition: background-color 0.15s ease;
}

/* Prevent any parent state from making items semi-transparent */
.ss-modal--with-filters .ss-modal__item,
.ss-modal__list.filtered .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Add specific styling for the sort dropdown if needed */
.ss-modal-sort-container {
  /* Container for the dropdown, allows alignment */
  display: flex;
  align-items: center;
  margin-left: auto; /* Push to the right within the filter container */
}
.ss-modal-sort-container .ss-sort-dropdown {
  /* Example: Adjust width or appearance */
  min-width: 150px;
  height: 34px; /* Match filter button height */
  font-size: 14px; /* Match filter button font size */
  border-radius: 6px; /* Match filter button border radius */
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
  padding-left: 8px; /* Adjust padding */
  padding-right: 8px;
}

/* Search result highlighting */
.ss-hl {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  text-decoration: underline;
  border-radius: 2px;
}

/* Detail text styling */
.ss-modal__detail {
  font-size: 12px;
  margin-top: 2px;
  line-height: 1.3;
}

/* Failed file indicator */
.ss-modal__item--failed {
  border-left: 3px solid var(--text-error);
  background-color: color-mix(in srgb, var(--text-error) 8%, var(--background-primary));
}

.ss-modal__item--failed:hover {
  background-color: color-mix(in srgb, var(--text-error) 12%, var(--background-primary));
}

.ss-modal__item--failed .ss-modal__item-title {
  color: var(--text-error);
}

/* Summary section for pending files modal */
.ss-modal__summary {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  background-color: var(--background-secondary);
  border-radius: 6px;
  margin-bottom: 16px;
}

.ss-modal__summary-text {
  font-size: 14px;
  color: var(--text-muted);
}

.ss-modal__summary-actions {
  display: flex;
  gap: 8px;
}


/* cards.css */
/**
 * Card Components
 * 
 * Styles for card containers, card content, and card actions
 */

.systemsculpt-model-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
  gap: 8px;
}

.systemsculpt-context-card.systemsculpt-is-selected {
  border-color: var(--interactive-accent);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
  outline: 2px solid var(--interactive-accent);
  outline-offset: 2px;
}

.systemsculpt-context-card.systemsculpt-is-selected {
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-context-card.systemsculpt-is-selected:hover {
  box-shadow: 0 3px 10px rgb(0, 0, 0);
}

.systemsculpt-chat-card {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  border-radius: 8px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  cursor: pointer;
  transition: all 0.15s ease;
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
  position: relative;
}

.systemsculpt-chat-card {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

.systemsculpt-chat-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 8px;
}

.systemsculpt-chat-card.selected {
  border-color: var(--interactive-accent);
}

.systemsculpt-chat-card.selected {
  border-color: var(--interactive-accent);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-chat-card.systemsculpt-keyboard-selected {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 1px var(--interactive-accent);
}

.systemsculpt-chat-card:hover {
  border-color: var(--interactive-accent);
  transform: translateY(-1px);
}

.systemsculpt-chat-card:hover .systemsculpt-favorite-button {
  opacity: 1;
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing {
  opacity: 1;
  cursor: wait;
  background-color: var(--background-modifier-border);
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing svg {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-custom-provider-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.systemsculpt-custom-provider-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 4px rgb(0, 0, 0);
}

.systemsculpt-custom-provider-card-status {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 0.8em;
  padding: 2px 6px;
  border-radius: 4px;
  background-color: var(--background-modifier-success);
  color: var(--text-on-accent);
}

.systemsculpt-custom-provider-card-status {
  cursor: pointer;
  transition: all 0.15s ease;
  padding: 4px 8px;
  border-radius: 4px;
  background-color: var(--background-modifier-success);
}

.systemsculpt-custom-provider-card-status.disabled {
  background-color: var(--background-modifier-error);
}

.systemsculpt-custom-provider-card-status.disabled {
  background-color: var(--background-modifier-error);
}

.systemsculpt-custom-provider-card-status.disabled {
  color: var(--text-faint);
  cursor: not-allowed;
}

.systemsculpt-custom-provider-card-status.disabled {
  opacity: 1;
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing {
  opacity: 1;
  cursor: wait;
  background-color: var(--background-modifier-border);
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing svg {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-custom-provider-card-status:hover {
  opacity: 1;
}

.systemsculpt-custom-provider-card-status.disabled {
  background-color: var(--background-modifier-error);
}

.systemsculpt-custom-provider-card-status.disabled {
  background-color: var(--background-modifier-error);
}

.systemsculpt-custom-provider-card-status.disabled {
  color: var(--text-faint);
  cursor: not-allowed;
}

.systemsculpt-custom-provider-card-status.disabled {
  opacity: 1;
}

.systemsculpt-custom-provider-card-status:hover {
  opacity: 1;
}

.systemsculpt-custom-model-card .systemsculpt-favorite-button {
  top: 50%;
  transform: translateY(-50%);
  right: 4px;
  width: 20px;
  height: 20px;
}

.systemsculpt-model-card {
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: clamp(8px, 1.5vw, 12px);
  position: relative;
  cursor: pointer;
  transition: all 0.2s ease;
  width: 100%;
  height: fit-content;
  min-height: clamp(120px, 20vh, 160px);
  display: flex;
  flex-direction: column;
  gap: 4px;
  box-sizing: border-box;
}

.systemsculpt-model-card {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  width: 100%;
  box-sizing: border-box;
}

.systemsculpt-model-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
  gap: 8px;
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
  background-color: var(--background-secondary-alt);
}

.systemsculpt-model-card.systemsculpt-keyboard-selected {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--interactive-accent);
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-custom-provider-card {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  border-radius: 6px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  transition: all 0.2s ease;
}

.systemsculpt-custom-provider-card-action {
  padding: 4px;
  border-radius: 4px;
  color: var(--text-muted);
  cursor: pointer;
  transition: all 0.2s ease;
  background: none;
  border: none;
}

.systemsculpt-custom-provider-card-action.systemsculpt-delete:hover {
  color: var(--text-error);
}

.systemsculpt-custom-provider-card-action:hover {
  color: var(--text-normal);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-custom-provider-card-actions {
  display: flex;
  gap: 8px;
}

.systemsculpt-custom-provider-card-detail {
  display: flex;
  align-items: center;
  gap: 6px;
}

.systemsculpt-custom-provider-card-details {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 0.85em;
  color: var(--text-muted);
}

.systemsculpt-custom-provider-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.systemsculpt-custom-provider-card-name {
  font-weight: 500;
  color: var(--text-normal);
  font-size: 1em;
  margin: 0;
}

.systemsculpt-custom-provider-card-status {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 0.8em;
  padding: 2px 6px;
  border-radius: 4px;
  background-color: var(--background-modifier-success);
  color: var(--text-on-accent);
}

.systemsculpt-custom-provider-card-status {
  cursor: pointer;
  transition: all 0.15s ease;
  padding: 4px 8px;
  border-radius: 4px;
  background-color: var(--background-modifier-success);
}

.systemsculpt-custom-provider-card-status.disabled {
  background-color: var(--background-modifier-error);
}

.systemsculpt-custom-provider-card-status.disabled {
  background-color: var(--background-modifier-error);
}

.systemsculpt-custom-provider-card-status.disabled {
  color: var(--text-faint);
  cursor: not-allowed;
}

.systemsculpt-custom-provider-card-status.disabled {
  opacity: 1;
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing {
  opacity: 1;
  cursor: wait;
  background-color: var(--background-modifier-border);
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing svg {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-custom-provider-card-status:hover {
  opacity: 1;
}

.systemsculpt-custom-provider-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 4px rgb(0, 0, 0);
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-custom-provider-card-action.systemsculpt-delete:hover {
  color: var(--text-error);
}

.systemsculpt-custom-provider-card-action:hover {
  color: var(--text-normal);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-custom-provider-card-actions {
  display: flex;
  gap: 8px;
}

.systemsculpt-model-card.systemsculpt-keyboard-selected {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--interactive-accent);
}

.systemsculpt-chat-card.systemsculpt-keyboard-selected {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 1px var(--interactive-accent);
}

.systemsculpt-custom-provider-card-name {
  font-weight: 500;
  color: var(--text-normal);
  font-size: 1em;
  margin: 0;
}

.systemsculpt-chat-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 8px;
}

.systemsculpt-custom-provider-card-action {
  padding: 4px;
  border-radius: 4px;
  color: var(--text-muted);
  cursor: pointer;
  transition: all 0.2s ease;
  background: none;
  border: none;
}

.systemsculpt-custom-provider-card-action.systemsculpt-delete:hover {
  color: var(--text-error);
}

.systemsculpt-custom-provider-card-action:hover {
  color: var(--text-normal);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-custom-provider-card-actions {
  display: flex;
  gap: 8px;
}

.systemsculpt-context-card {
  position: relative;
  padding: 12px;
  border-radius: 8px;
  background: var(--background-primary);
  border: 1px solid var(--ss-layer-base);
  transition: all 0.2s ease;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
  min-width: 0;
}

.systemsculpt-context-card.systemsculpt-is-added {
  background: var(--background-primary-alt);
  border-color: var(--interactive-accent);
}

.systemsculpt-context-card.systemsculpt-is-added .systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}

.systemsculpt-context-card.systemsculpt-is-selected {
  border-color: var(--interactive-accent);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
  outline: 2px solid var(--interactive-accent);
  outline-offset: 2px;
}

.systemsculpt-context-card.systemsculpt-is-selected {
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-context-card.systemsculpt-is-selected:hover {
  box-shadow: 0 3px 10px rgb(0, 0, 0);
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
  background-color: var(--background-secondary-alt);
}

.systemsculpt-custom-model-card {
  min-height: unset;
  height: auto;
  padding: 6px 32px 6px 12px;
  gap: 0;
  display: flex;
  align-items: center;
}

.systemsculpt-custom-model-card .systemsculpt-favorite-button {
  top: 50%;
  transform: translateY(-50%);
  right: 4px;
  width: 20px;
  height: 20px;
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing svg {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-chat-card.selected {
  border-color: var(--interactive-accent);
}

.systemsculpt-chat-card.selected {
  border-color: var(--interactive-accent);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-chat-card:hover .systemsculpt-favorite-button {
  opacity: 1;
}

.systemsculpt-context-card.systemsculpt-is-added .systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}

.systemsculpt-theme-dark .systemsculpt-context-card.systemsculpt-is-selected {
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-theme-dark .systemsculpt-context-card.systemsculpt-is-selected:hover {
  box-shadow: 0 3px 10px rgb(0, 0, 0);
}

.systemsculpt-custom-provider-card-details {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 0.85em;
  color: var(--text-muted);
}

.systemsculpt-custom-provider-card-detail {
  display: flex;
  align-items: center;
  gap: 6px;
}

.systemsculpt-custom-provider-card-details {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 0.85em;
  color: var(--text-muted);
}

.systemsculpt-card-content {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  width: 100%;
}

.systemsculpt-card-text {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-width: 0;
}

.systemsculpt-theme-dark .systemsculpt-context-card.systemsculpt-is-selected:hover {
  box-shadow: 0 3px 10px rgb(0, 0, 0);
}

.systemsculpt-chat-card:hover {
  border-color: var(--interactive-accent);
  transform: translateY(-1px);
}

.systemsculpt-chat-card:hover .systemsculpt-favorite-button {
  opacity: 1;
}

.systemsculpt-context-card.systemsculpt-is-added {
  background: var(--background-primary-alt);
  border-color: var(--interactive-accent);
}

.systemsculpt-context-card.systemsculpt-is-added .systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}


/* automations.css */
.ss-automations-gallery {
  margin-top: var(--ss-space-md);
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: var(--ss-space-lg);
}

.ss-automation-card {
  border: 1px solid var(--ss-border-soft);
  border-radius: var(--ss-radius-md);
  padding: var(--ss-space-md);
  background: var(--ss-layer-base);
  box-shadow: var(--ss-shadow-sm);
  display: flex;
  flex-direction: column;
  gap: var(--ss-space-sm);
}

.ss-automation-card__header {
  display: flex;
  align-items: center;
  gap: var(--ss-space-sm);
}

.ss-automation-card__icon {
  width: 32px;
  height: 32px;
  border-radius: var(--ss-radius-circle);
  background: var(--ss-layer-muted);
  display: flex;
  align-items: center;
  justify-content: center;
}

.ss-automation-card__badge {
  display: inline-flex;
  align-items: center;
  padding: 0 var(--ss-space-xs);
  margin-bottom: var(--ss-space-xxs);
  font-size: var(--ss-font-size-xs);
  border-radius: var(--ss-radius-sm);
  border: 1px solid var(--ss-border-accent-soft);
  color: var(--ss-color-text-accent);
}

.ss-automation-card__subtitle {
  font-weight: var(--ss-font-weight-medium);
}

.ss-automation-card__description {
  color: var(--ss-color-text-muted);
  margin-bottom: var(--ss-space-sm);
}

.ss-automation-card__summary {
  margin: 0;
  padding-left: var(--ss-space-lg);
  font-size: var(--ss-font-size-sm);
  color: var(--ss-color-text-muted);
}

.ss-automation-card__toggle {
  margin-top: var(--ss-space-sm);
}

.ss-automation-backlog {
  display: flex;
  flex-direction: column;
  gap: var(--ss-space-md);
}

.ss-automation-backlog__controls {
  display: flex;
  flex-wrap: wrap;
  gap: var(--ss-space-sm);
  margin-bottom: var(--ss-space-md);
}

.ss-automation-backlog__controls button {
  padding: var(--ss-space-xs) var(--ss-space-md);
  border-radius: var(--ss-radius-sm);
  border: 1px solid var(--ss-border-soft);
  background: var(--ss-layer-muted);
  cursor: pointer;
}

.ss-automation-backlog__controls button.mod-cta {
  background: var(--ss-color-primary);
  color: var(--ss-color-text-on-primary);
  border-color: var(--ss-color-primary);
}

.ss-automation-backlog__list {
  display: flex;
  flex-direction: column;
  gap: var(--ss-space-sm);
}

.ss-automation-backlog__list h4 {
  margin: var(--ss-space-sm) 0 var(--ss-space-xs);
  font-size: var(--ss-font-size-md);
}

.ss-automation-backlog__row {
  border: 1px solid var(--ss-border-soft);
  border-radius: var(--ss-radius-md);
  padding: var(--ss-space-sm);
}

.ss-automation-backlog__row .setting-item-control {
  gap: var(--ss-space-xs);
}

.ss-automation-backlog__row .setting-item-control button {
  margin-left: 0;
}


/* messages.css */
/**
 * Message Components - Modern Design System
 *
 * Clean, elegant message styling with visual hierarchy
 */

/* ╔══════════════════════════════════════════════════════════╗
   ║  Base Message Container                                   ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-messages-container {
  flex-grow: 1;
  overflow-y: auto;
  padding: 1.5rem 1rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.systemsculpt-message-content p:first-child {
  margin-top: 0;
}

.systemsculpt-message-content li > ol {
  margin: 0.25em 0;
}

.systemsculpt-message-container {
  padding: 8px 0;
  width: 100%;
}

/* Grouping removed: messages are a flat list; each message is a single container */

/* Unified Message Parts - ensure they fit within container */
.systemsculpt-unified-part {
  max-width: 100%;
  box-sizing: border-box;
  /* Let internal components manage their overflow, but avoid horizontal spill */
  overflow-x: hidden;
}

/* Content parts should be transparent inside groups, visible outside */
.systemsculpt-content-part {
  color: var(--text-normal);
  margin: 8px 0;
  padding: 8px 12px;
  display: block;
  width: 100%;
  user-select: text;
  -webkit-user-select: text;
  /* Default: match base surface to avoid see-through artifacts */
  background: var(--ss-layer-base);
  border: none;
  border-radius: 6px;
  /* Smooth transitions for hover effects */
  transition: border-color 0.2s ease-out, background-color 0.2s ease-out;
  /* Guard against overflow from very long strings */
  min-width: 0;
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* Content parts get a subtle card background */
.systemsculpt-message .systemsculpt-content-part {
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
}

/* Remove hover background/glow for content parts */
.systemsculpt-content-part:hover {
  background-color: var(--background-primary);
}

/* Ensure proper spacing between multiple content parts */
.systemsculpt-content-part + .systemsculpt-content-part {
  margin-top: 8px;
}

/* Consistent spacing with other unified parts (reasoning, tool calls) */
.systemsculpt-unified-part + .systemsculpt-content-part,
.systemsculpt-content-part + .systemsculpt-unified-part {
  margin-top: 8px;
}

/* Show copy button when hovering code blocks inside chat messages */
.systemsculpt-message-content pre:hover .copy-code-button,
.systemsculpt-content-part pre:hover .copy-code-button {
  opacity: 1;
}

/* Ensure content parts in assistant messages have correct text color */
.systemsculpt-assistant-message .systemsculpt-content-part {
  color: var(--text-normal);
}

/* Remove top margin from first paragraph in content part */
.systemsculpt-content-part p:first-of-type {
  margin-top: 0;
}

/* Remove bottom margin from last paragraph in content part */
.systemsculpt-content-part p:last-of-type {
  margin-bottom: 0;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  System Messages                                          ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-system-message {
  align-self: center;
  max-width: 90%;
  margin: 12px auto;
  padding: 12px 16px;
  text-align: center;
  
  /* Distinct tint for system messages */
  background: linear-gradient(
    135deg,
    color-mix(in srgb, rgb(var(--text-muted-rgb)) 8%, var(--ss-layer-base)),
    color-mix(in srgb, rgb(var(--text-muted-rgb)) 5%, var(--ss-layer-base))
  );
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 25%, var(--ss-layer-base));
  border-radius: 12px;
  
  /* Subtle shadow */
  box-shadow: 
    0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 4%, var(--ss-layer-base)),
    inset 0 1px 0 color-mix(in srgb, rgb(255, 255, 255) 5%, var(--ss-layer-base));
}

.systemsculpt-system-message .systemsculpt-message-content {
  color: var(--text-muted);
  font-style: italic;
  font-size: 0.95em;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Error Messages                                           ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-user-message .systemsculpt-message-content {
  color: var(--text-on-accent);
}

.systemsculpt-error-message {
  padding: 16px 20px;
  margin: 12px 0;
  text-align: center;
  
  /* Error styling */
  background: linear-gradient(
    135deg,
    color-mix(in srgb, rgb(var(--text-error-rgb)) 10%, var(--ss-layer-base)),
    color-mix(in srgb, rgb(var(--text-error-rgb)) 5%, var(--ss-layer-base))
  );
  border: 1px solid color-mix(in srgb, rgb(var(--text-error-rgb)) 30%, var(--ss-layer-base));
  border-radius: 12px;
  color: var(--text-error);
  
  /* Icon and animation */
  position: relative;
  animation: shakeIn 0.4s ease-out;
}

@keyframes shakeIn {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-4px); }
  75% { transform: translateX(4px); }
}

.systemsculpt-message-content pre {
  margin: 0;
  padding: 2em 1em 1em;
  background-color: var(--background-primary);
  border-radius: 8px;
  overflow-x: auto;
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content pre[class*="language-"]::before {
  content: attr(class);
  position: absolute;
  top: 0.5em;
  left: 1em;
  font-size: var(--chat-code-label-font-size);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  user-select: none;
  -webkit-user-select: none;
  pointer-events: none;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Assistant Messages                                       ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-assistant-message {
  align-self: flex-start;
  max-width: 85%;
  margin: 8px 0;
  padding: 12px 16px;
  box-sizing: border-box;
  background: var(--background-secondary);
  border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 20%, var(--ss-layer-base));
  border-radius: 12px;
  box-shadow: 0 3px 10px color-mix(in srgb, rgb(0, 0, 0) 6%, var(--ss-layer-base)), 0 1px 3px color-mix(in srgb, rgb(0, 0, 0) 2%, var(--ss-layer-base));
  animation: slideInLeft 0.3s ease-out;
  transition: all 0.2s ease;
}

/* If an assistant message contains reasoning, ensure it initializes at full width
   immediately so the reasoning drawer does not "grow" during streaming */
.systemsculpt-assistant-message.has-reasoning {
  width: 100%;
}

.systemsculpt-assistant-message:hover {
  box-shadow: 
    0 5px 15px color-mix(in srgb, rgb(0, 0, 0) 8%, var(--ss-layer-base)),
    0 2px 5px color-mix(in srgb, rgb(0, 0, 0) 3%, var(--ss-layer-base));
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.systemsculpt-assistant-message .systemsculpt-message-content {
  color: var(--text-normal);
  line-height: 1.6;
}

.systemsculpt-assistant-message .systemsculpt-message-label {
  color: var(--text-accent);
  font-size: 12px;
  font-weight: 600;
  margin-bottom: 6px;
  opacity: 0.8;
}

.systemsculpt-message-content > * {
  clear: both;
  display: block;
}

.systemsculpt-message-image {
  max-width: 100%;
  height: auto;
  display: block;
  border-radius: 8px;
  max-height: 70vh;
  object-fit: contain;
  padding: 16px;
}

.systemsculpt-assistant-message .systemsculpt-message-label {
  color: var(--text-accent);
}

.systemsculpt-message-content li {
  margin: 0.25em 0;
}

.systemsculpt-message-content li > ol {
  margin: 0.25em 0;
}

.systemsculpt-message-content p:last-of-type {
  margin-bottom: 0;
}

/* Wiki-links styling in messages */
.systemsculpt-message-content a.internal-link {
  color: var(--link-color);
  text-decoration: none;
  cursor: pointer;
  transition: color 0.1s ease;
}

.systemsculpt-message-content a.internal-link:hover {
  color: var(--link-color-hover);
  text-decoration: underline;
}

/* Style for user messages with accent background */
.systemsculpt-user-message .systemsculpt-message-content a.internal-link {
  color: var(--text-on-accent);
  opacity: 0.9;
}

.systemsculpt-user-message .systemsculpt-message-content a.internal-link:hover {
  opacity: 1;
  text-decoration: underline;
}

.systemsculpt-message-label {
  color: var(--text-accent);
}

.systemsculpt-message-label {
  font-size: var(--chat-label-font-size);
  margin-bottom: 0.25rem;
  display: block;
}

.systemsculpt-message-label {
  color: var(--text-on-accent);
  opacity: 1;
  font-weight: 500;
}

.systemsculpt-assistant-message .systemsculpt-message-content {
  color: var(--text-normal);
}

/* Legacy button and toolbar styles removed - using modern floating design */

.systemsculpt-popup-message {
  color: var(--text-normal);
  line-height: 1.5;
}

.systemsculpt-message-button.systemsculpt-success.systemsculpt-confirming {
  color: white;
  background-color: var(--interactive-accent);
}

.systemsculpt-message-button.systemsculpt-success.systemsculpt-confirming:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-message-content {
  color: var(--text-normal);
}

.systemsculpt-message-content {
  color: var(--text-normal);
  margin: 0;
  padding: 0;
  display: grid;
  grid-template-columns: minmax(0, 1fr);
  user-select: text;
  -webkit-user-select: text;
  /* Prevent long tokens from leaking outside the message card */
  min-width: 0;
  overflow-wrap: anywhere;
  word-break: break-word;
}

.systemsculpt-message-content > * {
  clear: both;
  display: block;
}

.systemsculpt-message-content a {
  color: var(--text-accent);
  text-decoration: none;
}

.systemsculpt-message-content a:hover {
  text-decoration: underline;
}

/* ────────────────────────────────────────────────────────────
   Floating message toolbar (overlay on hover)
   Appears below the message without shifting layout
   Works for both legacy content and unified content parts
   ──────────────────────────────────────────────────────────── */

/* toolbar styles moved to components/chat-view-messages-toolbar.css */

.systemsculpt-message-content blockquote {
  margin: 0.75em 0;
  padding: 0.5em 1em;
  border-left: 3px solid var(--interactive-accent);
  background-color: var(--background-primary);
  border-radius: 0 4px 4px 0;
  display: block;
  width: 100%;
}

.systemsculpt-message-content code {
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content h6 {
  margin: 1em 0 0.5em;
  line-height: 1.3;
  display: block;
  width: 100%;
}

.systemsculpt-message-content li {
  margin: 0.25em 0;
}

.systemsculpt-message-content li > ol {
  margin: 0.25em 0;
}

.systemsculpt-message-content ol {
  margin: 0.75em 0;
  padding-left: 2em;
}

.systemsculpt-message-content p {
  margin: 0.5em 0;
  display: block;
  width: 100%;
}

.systemsculpt-message-content p:first-of-type {
  margin-top: 0;
}

.systemsculpt-message-content p:last-of-type {
  margin-bottom: 0;
}

/* Web Search Citations Styles */
.systemsculpt-citations-container {
  margin-top: 1.25rem;
  font-size: var(--chat-citation-font-size);
  color: var(--text-muted);
  background-color: var(--background-secondary);
  border-radius: 8px;
  padding: 0.75rem 1rem;
}

.systemsculpt-citations-divider {
  border: none;
  border-top: 1px solid var(--background-modifier-border);
  margin: 0.5rem 0;
}

.systemsculpt-citations-header {
  font-weight: 600;
  margin-bottom: 0.75rem;
  color: var(--text-normal);
  font-size: var(--chat-citation-header-font-size);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.systemsculpt-citations-header::before {
  content: "";
  display: inline-block;
  width: 16px;
  height: 16px;
  background-color: var(--text-accent);
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' d='M0 0h24v24H0z'/%3E%3Cpath d='M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm0 2c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 3c1.82 0 3.413.973 4.288 2.428l-1.714 1.029A3 3 0 0 0 12 9a3 3 0 0 0-3 3c0 .88.377 1.673.982 2.224l-1.453 1.358A5 5 0 0 1 7 12c0-2.76 2.24-5 5-5zm0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z' fill='color-mix(in srgb, rgb(128, 128, 128) 100%, var(--ss-layer-base))'/%3E%3C/svg%3E");
  mask-size: cover;
  mask-repeat: no-repeat;
}

.systemsculpt-citations-list {
  list-style-type: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.systemsculpt-citation-item {
  padding: 0.5rem 0.75rem;
  border-radius: 6px;
  background-color: var(--background-primary);
  border-left: 3px solid var(--text-accent);
  margin-bottom: 0.25rem;
}

.systemsculpt-citation-title {
  font-weight: 500;
  color: var(--text-accent);
  text-decoration: none;
  display: block;
  margin-bottom: 0.25rem;
}

.systemsculpt-citation-title:hover {
  text-decoration: underline;
}

.systemsculpt-citation-url {
  font-size: var(--chat-citation-url-font-size);
  color: var(--text-faint);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-citation-snippet {
  font-size: var(--chat-citation-font-size);
  color: var(--text-muted);
  line-height: 1.5;
  border-top: 1px dashed var(--background-modifier-border);
  padding-top: 0.5rem;
  margin-top: 0.25rem;
}

.systemsculpt-message-content pre {
  margin: 0;
  padding: 2em 1em 1em;
  background-color: var(--background-primary);
  border-radius: 8px;
  overflow-x: auto;
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content pre[class*="language-"]::before {
  content: attr(class);
  position: absolute;
  top: 0.5em;
  left: 1em;
  font-size: var(--chat-code-label-font-size);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  user-select: none;
  -webkit-user-select: none;
  pointer-events: none;
}

.systemsculpt-message-content::after {
  pointer-events: none;
}

.systemsculpt-message-content {
  color: var(--text-on-accent);
}

.systemsculpt-message-content ol {
  margin: 0.75em 0;
  padding-left: 2em;
}

.systemsculpt-message-text {
  line-height: 1.5;
  color: var(--text-normal);
  white-space: pre-wrap;
}

/* Legacy hover behavior removed - handled by modern floating toolbar */

.systemsculpt-model-message-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.systemsculpt-user-message .systemsculpt-message-label {
  color: var(--text-on-accent);
  opacity: 1;
  font-weight: 500;
}

.systemsculpt-drag-message {
  background: var(--background-secondary);
  color: var(--text-accent);
  padding: 16px 24px;
  border-radius: 8px;
  font-size: 16px;
  box-shadow: 0 2px 8px rgb(0, 0, 0);
  border: 1px solid var(--background-modifier-border);
  animation: fade-in 0.2s ease;
  text-align: center;
  min-width: 200px;
  white-space: nowrap;
}


.systemsculpt-message-content {
  color: var(--text-normal);
}

.systemsculpt-message-label {
  color: var(--text-accent);
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Base Message Styles                                      ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-message {
  position: relative;
  width: auto;
  padding: 12px 16px;
  margin: 8px 4px;
  border-radius: 16px;
  
  /* Smooth transitions */
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Removed duplicate - using unified ultra-compact button styling */



.systemsculpt-message-button.systemsculpt-confirming {
  width: auto;
  min-width: 20px;
  padding: 4px 8px;
  transition: all 0.15s ease;
}

.systemsculpt-message-button.systemsculpt-confirming span {
  font-size: var(--chat-button-text-font-size);
  display: inline-block;
  vertical-align: middle;
}

.systemsculpt-message-button.systemsculpt-danger.systemsculpt-confirming {
  color: white;
  background-color: var(--background-modifier-error);
}

.systemsculpt-message-button.systemsculpt-danger.systemsculpt-confirming:hover {
  color: white;
  background-color: var(--background-modifier-error);
}

.systemsculpt-message-button.systemsculpt-danger:hover {
  color: white;
  background-color: var(--background-modifier-error);
}

.systemsculpt-message-button.systemsculpt-success {
  color: white;
  background-color: var(--background-modifier-success);
}

.systemsculpt-message-button.systemsculpt-success.systemsculpt-confirming {
  color: white;
  background-color: var(--interactive-accent);
}

.systemsculpt-message-button.systemsculpt-success.systemsculpt-confirming:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-message-button:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-message-container {
  padding: 8px 0;
  width: 100%;
}

.systemsculpt-message-content {
  color: var(--text-normal);
  margin: 0;
  padding: 0;
  display: grid;
  grid-template-columns: minmax(0, 1fr);
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content > * {
  clear: both;
  display: block;
}

.systemsculpt-message-content a {
  color: var(--text-accent);
  text-decoration: none;
}

.systemsculpt-message-content a:hover {
  text-decoration: underline;
}

.systemsculpt-message-content blockquote {
  margin: 0.75em 0;
  padding: 0.5em 1em;
  border-left: 3px solid var(--interactive-accent);
  background-color: var(--background-primary);
  border-radius: 0 4px 4px 0;
  display: block;
  width: 100%;
}

.systemsculpt-message-content code {
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content h6 {
  margin: 1em 0 0.5em;
  line-height: 1.3;
  display: block;
  width: 100%;
}

.systemsculpt-message-content li {
  margin: 0.25em 0;
}

.systemsculpt-message-content li > ol {
  margin: 0.25em 0;
}

.systemsculpt-message-content ol {
  margin: 0.75em 0;
  padding-left: 2em;
}

.systemsculpt-message-content p {
  margin: 0.5em 0;
  display: block;
  width: 100%;
}

.systemsculpt-message-content p:first-child {
  margin-top: 0;
}

.systemsculpt-message-content p:last-of-type {
  margin-bottom: 0;
}

/* Web Search Citations Styles */
.systemsculpt-citations-container {
  margin-top: 1.25rem;
  font-size: var(--chat-citation-font-size);
  color: var(--text-muted);
  background-color: var(--background-secondary);
  border-radius: 8px;
  padding: 0.75rem 1rem;
}

.systemsculpt-citations-divider {
  border: none;
  border-top: 1px solid var(--background-modifier-border);
  margin: 0.5rem 0;
}

.systemsculpt-citations-header {
  font-weight: 600;
  margin-bottom: 0.75rem;
  color: var(--text-normal);
  font-size: var(--chat-citation-header-font-size);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.systemsculpt-citations-header::before {
  content: "";
  display: inline-block;
  width: 16px;
  height: 16px;
  background-color: var(--text-accent);
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' d='M0 0h24v24H0z'/%3E%3Cpath d='M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm0 2c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 3c1.82 0 3.413.973 4.288 2.428l-1.714 1.029A3 3 0 0 0 12 9a3 3 0 0 0-3 3c0 .88.377 1.673.982 2.224l-1.453 1.358A5 5 0 0 1 7 12c0-2.76 2.24-5 5-5zm0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z' fill='color-mix(in srgb, rgb(128, 128, 128) 100%, var(--ss-layer-base))'/%3E%3C/svg%3E");
  mask-size: cover;
  mask-repeat: no-repeat;
}

.systemsculpt-citations-list {
  list-style-type: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.systemsculpt-citation-item {
  padding: 0.5rem 0.75rem;
  border-radius: 6px;
  background-color: var(--background-primary);
  border-left: 3px solid var(--text-accent);
  margin-bottom: 0.25rem;
}

.systemsculpt-citation-title {
  font-weight: 500;
  color: var(--text-accent);
  text-decoration: none;
  display: block;
  margin-bottom: 0.25rem;
}

.systemsculpt-citation-title:hover {
  text-decoration: underline;
}

.systemsculpt-citation-url {
  font-size: var(--chat-citation-url-font-size);
  color: var(--text-faint);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-citation-snippet {
  font-size: var(--chat-citation-font-size);
  color: var(--text-muted);
  line-height: 1.5;
  border-top: 1px dashed var(--background-modifier-border);
  padding-top: 0.5rem;
  margin-top: 0.25rem;
}

.systemsculpt-message-content pre {
  margin: 0;
  padding: 2em 1em 1em;
  background-color: var(--background-primary);
  border-radius: 8px;
  overflow-x: auto;
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content pre[class*="language-"]::before {
  content: attr(class);
  position: absolute;
  top: 0.5em;
  left: 1em;
  font-size: var(--chat-code-label-font-size);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  user-select: none;
  -webkit-user-select: none;
  pointer-events: none;
}

.systemsculpt-message-content::after {
  pointer-events: none;
}

.systemsculpt-message-content {
  color: var(--text-on-accent);
}

.systemsculpt-message-content ol {
  margin: 0.75em 0;
  padding-left: 2em;
}

.systemsculpt-message-text {
  line-height: 1.5;
  color: var(--text-normal);
  white-space: pre-wrap;
}

/* Legacy hover behavior removed - modern toolbar uses pure CSS */


/* Removed - using unified positioning */

.systemsculpt-message-content {
  color: var(--text-on-accent);
}

.systemsculpt-message-label {
  color: var(--text-on-accent);
  opacity: 1;
  font-weight: 500;
}

.systemsculpt-message-button.systemsculpt-danger.systemsculpt-confirming:hover {
  color: white;
  background-color: var(--background-modifier-error);
}

/* Removed duplicate hover rule */

.systemsculpt-notice-message {
  flex: 1;
  font-weight: 500;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  User Messages                                            ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-user-message {
  align-self: flex-end;
  max-width: 85%;
  margin: 8px 0;
  padding: 12px 16px;
  box-sizing: border-box;
  background: var(--background-secondary);
  border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 20%, var(--ss-layer-base));
  border-radius: 12px;
  box-shadow: 0 3px 10px color-mix(in srgb, rgb(0, 0, 0) 6%, var(--ss-layer-base)), 0 1px 3px color-mix(in srgb, rgb(0, 0, 0) 2%, var(--ss-layer-base));
  animation: slideInRight 0.3s ease-out;
}

.systemsculpt-user-message:hover {
  box-shadow: 
    0 6px 16px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 25%, var(--ss-layer-base)),
    0 2px 6px color-mix(in srgb, rgb(0, 0, 0) 8%, var(--ss-layer-base));
}

.systemsculpt-user-message .systemsculpt-message-content {
  color: var(--text-normal);
  line-height: 1.6;
}

.systemsculpt-user-message .systemsculpt-message-label {
  color: var(--text-accent);
  opacity: 0.8;
  font-weight: 600;
  font-size: 12px;
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.systemsculpt-message-content code {
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content h6 {
  margin: 1em 0 0.5em;
  line-height: 1.3;
  display: block;
  width: 100%;
}

/* Removed duplicate hover rule */

.systemsculpt-message-content pre[class*="language-"]::before {
  content: attr(class);
  position: absolute;
  top: 0.5em;
  left: 1em;
  font-size: var(--chat-code-label-font-size);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  user-select: none;
  -webkit-user-select: none;
  pointer-events: none;
}

.systemsculpt-message-button.systemsculpt-confirming span {
  font-size: var(--chat-button-text-font-size);
  display: inline-block;
  vertical-align: middle;
}

.systemsculpt-message:hover::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: -40px;
  height: 40px;
  z-index: 99;
  pointer-events: none;
}

.systemsculpt-message-button.systemsculpt-danger:hover {
  color: white;
  background-color: var(--background-modifier-error);
}

.systemsculpt-message-button.systemsculpt-danger.systemsculpt-confirming {
  color: white;
  background-color: var(--background-modifier-error);
}

.systemsculpt-message-button.systemsculpt-danger.systemsculpt-confirming:hover {
  color: white;
  background-color: var(--background-modifier-error);
}

.systemsculpt-message-button.systemsculpt-confirming {
  width: auto;
  min-width: 20px;
  padding: 4px 8px;
  transition: all 0.15s ease;
}

.systemsculpt-message-button.systemsculpt-confirming span {
  font-size: var(--chat-button-text-font-size);
  display: inline-block;
  vertical-align: middle;
}

.systemsculpt-message-content blockquote {
  margin: 0.75em 0;
  padding: 0.5em 1em;
  border-left: 3px solid var(--interactive-accent);
  background-color: var(--background-primary);
  border-radius: 0 4px 4px 0;
  display: block;
  width: 100%;
}

.systemsculpt-message-content p {
  margin: 0.5em 0;
  display: block;
  width: 100%;
}

.systemsculpt-message-content p:first-of-type {
  margin-top: 0;
}

.systemsculpt-message-content p:last-of-type {
  margin-bottom: 0;
}

.systemsculpt-message-content pre {
  margin: 0;
  padding: 2em 1em 1em;
  background-color: var(--background-primary);
  border-radius: 8px;
  overflow-x: auto;
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content pre[class*="language-"]::before {
  content: attr(class);
  position: absolute;
  top: 0.5em;
  left: 1em;
  font-size: var(--chat-code-label-font-size);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  user-select: none;
  -webkit-user-select: none;
  pointer-events: none;
}

.systemsculpt-message::after {
  content: "";
  position: absolute;
  top: -8px;
  left: -8px;
  right: -8px;
  bottom: -40px;
  pointer-events: none;
}

.systemsculpt-message-button:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-message-content a:hover {
  text-decoration: underline;
}

.systemsculpt-message-content::after {
  pointer-events: none;
}

/* Removed - using unified toolbar positioning */

.systemsculpt-message-edit-button:hover {
  color: var(--text-normal);
  background: var(--background-modifier-hover);
}

/* Assistant message specific styling */
.systemsculpt-assistant-message .systemsculpt-message-content {
  /* Styles for the general content area of an assistant message if needed */
}

/* Styling for the new wrapper around the assistant's textual response */
.systemsculpt-assistant-text-content-wrapper {
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-m); /* Medium radius, adjust as needed */
  padding: var(--size-4-3); /* Equivalent to 10px if base is 8px for var(--size-4-1) being 4px */
  margin-top: var(--size-4-2); /* Add some space above this container if it's not the first element */
  background-color: var(--background-secondary-alt); /* Slightly different background to distinguish if needed */
}

/* Ensure markdown within the new wrapper is styled correctly */
.systemsculpt-assistant-text-content-wrapper .markdown-rendered p:first-child {
  margin-top: 0;
}

.systemsculpt-assistant-text-content-wrapper .markdown-rendered p:last-of-type {
  margin-bottom: 0;
}

.systemsculpt-assistant-text-content-wrapper .markdown-rendered ul,
.systemsculpt-assistant-text-content-wrapper .markdown-rendered ol {
  margin-top: var(--size-4-2);
  margin-bottom: var(--size-4-2);
  padding-left: var(--size-4-5); /* Default list padding */
}

.systemsculpt-assistant-text-content-wrapper .markdown-rendered pre {
  margin-top: var(--size-4-2);
  margin-bottom: var(--size-4-2);
}


.systemsculpt-message-content pre.systemsculpt-code-block {
  margin: 1em 0;
  background-color: var(--background-primary-alt);
  border-radius: 8px;
  position: relative;
}

.systemsculpt-code-copy-button {
  display: none !important;
}

.systemsculpt-content-part pre,
.systemsculpt-content-part .markdown-rendered pre {
  margin: 1em 0;
  padding: 2em 1em 1em;
  background-color: var(--background-primary-alt, var(--background-primary));
  border-radius: 8px;
  overflow-x: auto;
  position: relative;
}

.systemsculpt-content-part pre code {
  user-select: text;
}


/* ========================================================================== */
/* == End Compact Drawer Grouping                                          == */
/* ========================================================================== */

/* ========================================================================== */
/* == Chat Font Size Classes                                              == */
/* ========================================================================== */

/* Define CSS custom properties for different text sizes */
.systemsculpt-messages-container {
  /* Default (medium) sizes */
  --chat-base-font-size: 1em;
  --chat-label-font-size: 0.8rem;
  --chat-citation-font-size: 0.85rem;
  --chat-citation-header-font-size: 0.9rem;
  --chat-citation-url-font-size: 0.8rem;
  --chat-code-label-font-size: 0.8em;
  --chat-button-text-font-size: 0.9em;
  --chat-compact-button-font-size: 9px;
}

/* Small size overrides */
.systemsculpt-messages-container.systemsculpt-chat-small {
  --chat-base-font-size: 0.75em;
  --chat-label-font-size: 0.7rem;
  --chat-citation-font-size: 0.75rem;
  --chat-citation-header-font-size: 0.8rem;
  --chat-citation-url-font-size: 0.7rem;
  --chat-code-label-font-size: 0.75em;
  --chat-button-text-font-size: 0.85em;
  --chat-compact-button-font-size: 8px;
}

/* Medium size (default) */
.systemsculpt-messages-container.systemsculpt-chat-medium {
  /* Uses default values defined above */
}

/* Large size overrides */
.systemsculpt-messages-container.systemsculpt-chat-large {
  --chat-base-font-size: 1.3em;
  --chat-label-font-size: 0.95rem;
  --chat-citation-font-size: 1rem;
  --chat-citation-header-font-size: 1.1rem;
  --chat-citation-url-font-size: 0.95rem;
  --chat-code-label-font-size: 0.9em;
  --chat-button-text-font-size: 1em;
  --chat-compact-button-font-size: 11px;
}

/* Apply the base font size to the container */
.systemsculpt-messages-container {
  font-size: var(--chat-base-font-size);
}

/* ========================================================================== */
/* == End Chat Font Size Classes                                          == */
/* ========================================================================== */


/* chat-view-messages-toolbar.css */
.systemsculpt-message-content,
.systemsculpt-content-part {
  position: relative;
  overflow: visible;
}

.systemsculpt-message {
  position: relative;
  z-index: 0;
}

.systemsculpt-message:hover {
  z-index: 12000;
}

.systemsculpt-message:hover .systemsculpt-message-content,
.systemsculpt-message-content:hover,
.systemsculpt-content-part:hover {
  z-index: 12000;
}

.systemsculpt-message-toolbar {
  position: absolute;
  top: 100%;
  left: 0;
  display: inline-flex;
  align-items: center;
  flex-wrap: nowrap;
  gap: 6px;
  padding: 4px;
  background: var(--background-secondary);
  border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 20%, var(--ss-layer-base));
  border-radius: 999px;
  box-shadow: 0 6px 20px color-mix(in srgb, rgb(0, 0, 0) 8%, var(--ss-layer-base)), 0 2px 6px color-mix(in srgb, rgb(0, 0, 0) 6%, var(--ss-layer-base));
  transform: translate3d(var(--ss-toolbar-shift-x, 0px), 6px, 0) scale(0.98);
  opacity: 0;
  pointer-events: none;
  z-index: 12001;
  transition: opacity 120ms ease, transform 160ms ease;
  white-space: nowrap;
  width: max-content;
  max-width: calc(100vw - 32px);
  overflow: visible;
}

/* Do not reserve extra space after content just because toolbar is positioned after it */
.systemsculpt-message-content > .systemsculpt-message-toolbar,
.systemsculpt-content-part > .systemsculpt-message-toolbar {
  margin-top: 0;
}

.systemsculpt-assistant-message .systemsculpt-message-toolbar {
  left: 0 !important;
  right: auto !important;
  top: 100% !important;
  bottom: auto !important;
  flex-direction: row !important;
}

.systemsculpt-user-message .systemsculpt-message-toolbar {
  left: auto !important;
  right: 0 !important;
  top: 100% !important;
  bottom: auto !important;
  flex-direction: row-reverse !important;
}

.systemsculpt-message-toolbar.ss-flip-up {
  top: auto;
  bottom: 100%;
  transform: translate3d(var(--ss-toolbar-shift-x, 0px), -6px, 0) scale(0.98);
}

.systemsculpt-message:hover .systemsculpt-message-toolbar,
.systemsculpt-message-content:hover > .systemsculpt-message-toolbar,
.systemsculpt-content-part:hover > .systemsculpt-message-toolbar {
  opacity: 1;
  transform: translate3d(var(--ss-toolbar-shift-x, 0px), 2px, 0) scale(1);
  pointer-events: auto;
  z-index: 12001;
}

.systemsculpt-message:hover .systemsculpt-message-toolbar.ss-flip-up,
.systemsculpt-message-content:hover > .systemsculpt-message-toolbar.ss-flip-up,
.systemsculpt-content-part:hover > .systemsculpt-message-toolbar.ss-flip-up {
  transform: translate3d(var(--ss-toolbar-shift-x, 0px), -2px, 0) scale(1);
}

.systemsculpt-toolbar-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 26px;
  height: 26px;
  padding: 0;
  border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 25%, var(--ss-layer-base));
  background: var(--background-primary);
  color: var(--text-muted);
  border-radius: 999px;
  cursor: pointer;
  transition: background 120ms ease, color 120ms ease, border-color 120ms ease;
}

.systemsculpt-toolbar-btn:hover {
  background: var(--background-modifier-hover);
  color: var(--text-normal);
  border-color: color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 35%, var(--ss-layer-base));
}

.systemsculpt-toolbar-btn.ss-success {
  background: var(--background-modifier-success);
  border-color: var(--background-modifier-success);
  color: var(--text-on-accent);
}

.systemsculpt-toolbar-btn.ss-confirm {
  background: var(--background-modifier-warning);
  border-color: var(--background-modifier-warning);
  color: var(--text-on-accent);
}

.systemsculpt-toolbar-btn svg {
  width: 14px;
  height: 14px;
}

@media (max-width: 700px) {
  .systemsculpt-message-toolbar {
    opacity: 1;
    pointer-events: auto;
    transform: translate3d(var(--ss-toolbar-shift-x, 0px), 2px, 0) scale(1);
    gap: 0;
    padding: 2px;
    background: var(--ss-layer-base);
    border: none;
    box-shadow: none;
  }

  .systemsculpt-message-toolbar .systemsculpt-toolbar-more {
    margin-right: 4px;
  }

  .systemsculpt-message-toolbar .systemsculpt-toolbar-btn {
    display: none;
  }

  .systemsculpt-message-toolbar.ss-open .systemsculpt-toolbar-btn,
  .systemsculpt-message-toolbar .systemsculpt-toolbar-more {
    display: inline-flex;
  }

  .systemsculpt-message-toolbar.ss-open {
    background: var(--background-secondary);
    border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 20%, var(--ss-layer-base));
    box-shadow: 0 6px 20px color-mix(in srgb, rgb(0, 0, 0) 8%, var(--ss-layer-base)), 0 2px 6px color-mix(in srgb, rgb(0, 0, 0) 6%, var(--ss-layer-base));
    gap: 6px;
    padding: 4px;
    border-radius: 999px;
  }
}


/* scroll-performance.css */
/**
 * Scroll Performance Optimizations
 * 
 * CSS optimizations specifically designed to improve scrolling performance
 * during AI message generation and large conversation handling
 */

/* ========================================================================== */
/* == Global Scroll Performance Hints                                     == */
/* ========================================================================== */

/* Optimize message containers for smooth scrolling - SAFE VERSION */
.systemsculpt-message {
  /* Enable hardware acceleration for smooth scrolling */
  transform: translateZ(0);
  /* Remove containment - it was breaking height calculation */
  /* contain: style paint; */
  /* Reduce repaints on scroll */
  backface-visibility: hidden;
}

/* Group container removed */

/* ========================================================================== */
/* == Toolbar Performance During Scrolling                               == */
/* ========================================================================== */

/* Reduce expensive effects when scrolling */
.systemsculpt-messages-container:not(:hover) .systemsculpt-message-button-toolbar,
.systemsculpt-messages-container:not(:hover) .systemsculpt-message-button-toolbar-collapsed,
.systemsculpt-messages-container:not(:hover) .systemsculpt-message-button-toolbar-expanded {
  /* Disable transitions during active scrolling for performance */
  transition: none !important;
  /* Force opacity to 0 to reduce rendering load */
  opacity: 0 !important;
  visibility: hidden !important;
}

/* Re-enable effects when scrolling stops */
.systemsculpt-messages-container:hover .systemsculpt-message-button-toolbar,
.systemsculpt-messages-container:hover .systemsculpt-message-button-toolbar-collapsed,
.systemsculpt-messages-container:hover .systemsculpt-message-button-toolbar-expanded {
  transition: opacity 0.15s ease, visibility 0.15s ease, transform 0.15s ease;
}

/* ========================================================================== */
/* == Content Optimization for Large Conversations                       == */
/* ========================================================================== */

/* Optimize code blocks and content for scrolling */
.systemsculpt-content-part pre,
.systemsculpt-message-content pre {
  /* Remove containment that breaks sizing */
  /* contain: layout style; */
  /* Reduce reflow impact */
  overflow: auto;
  /* Enable smooth scrolling within code blocks */
  scroll-behavior: auto; /* Override smooth to prevent conflicts */
}

/* Optimize content parts for scroll performance */
.systemsculpt-content-part {
  /* Remove containment to avoid sizing issues */
  /* contain: style paint; */
  /* Optimize for frequent updates during generation */
  will-change: auto; /* Reset will-change when not actively changing */
}

/* ========================================================================== */
/* == Responsive Scroll Optimizations                                     == */
/* ========================================================================== */

/* Mobile-specific scroll optimizations */
@media (max-width: 768px) {
  .systemsculpt-messages-container {
    /* Optimize touch scrolling */
    -webkit-overflow-scrolling: touch;
    /* Reduce momentum scrolling conflicts */
    overscroll-behavior-y: contain;
  }
  
  /* Only hide toolbars on very small screens (phones in portrait) */
  /* This preserves functionality on iPad split-view and larger screens */
}

/* Improved responsive toolbar handling for touch devices */
@media (max-width: var(--mobile-max-width)) {
  /* Only hide on very small screens like phones */
  .systemsculpt-message-button-toolbar,
  .systemsculpt-message-button-toolbar-collapsed,
  .systemsculpt-message-button-toolbar-expanded {
    /* Reduce complexity on very small screens only */
    display: none !important;
  }
}

/* Touch-friendly action buttons for devices without hover */
@media (hover: none) {
  /* Make collapsed toolbar visible by default on touch devices */
  .systemsculpt-message-button-toolbar-collapsed {
    opacity: var(--toolbar-opacity-partial) !important;
    visibility: visible !important;
    background: color-mix(in srgb, rgb(var(--background-primary-rgb)) 80%, var(--ss-layer-base)) !important;
    border: 1px solid var(--background-modifier-border) !important;
    border-radius: var(--toolbar-border-radius) !important;
    backdrop-filter: blur(var(--toolbar-backdrop-blur)) !important;
    -webkit-backdrop-filter: blur(var(--toolbar-backdrop-blur)) !important;
  }
  
  /* Full visibility when touched/active */
  .systemsculpt-message:active .systemsculpt-message-button-toolbar-collapsed,
  .systemsculpt-message-button-toolbar-collapsed:active {
    opacity: var(--toolbar-opacity-full) !important;
    transform: translateY(0) scale(var(--toolbar-scale-active)) !important;
  }
  
  /* Ensure buttons within collapsed toolbar are visible */
  .systemsculpt-message-button-toolbar-collapsed .systemsculpt-message-button {
    opacity: var(--toolbar-opacity-full) !important;
    visibility: visible !important;
  }
}

/* Tablet-friendly: Allow toolbars on larger touch devices */
@media (hover: none) and (min-width: var(--tablet-min-width)) {
  /* iPad and larger tablets should show toolbars */
  .systemsculpt-message-button-toolbar,
  .systemsculpt-message-button-toolbar-collapsed,
  .systemsculpt-message-button-toolbar-expanded {
    display: flex !important; /* Override any hiding rules */
  }
  
  /* Make collapsed toolbar more visible on tablets */
  .systemsculpt-message-button-toolbar-collapsed {
    opacity: var(--toolbar-opacity-visible) !important;
    visibility: visible !important;
  }
}

/* Desktop with fine pointer: Original hover behavior */
@media (hover: hover) and (pointer: fine) {
  /* Desktop users get original hover-based interaction */
  .systemsculpt-message-button-toolbar-collapsed {
    opacity: var(--toolbar-opacity-hidden);
    visibility: hidden;
  }
  
  .systemsculpt-message:hover .systemsculpt-message-button-toolbar-collapsed:not(.hidden) {
    opacity: var(--toolbar-opacity-full);
    visibility: visible;
  }
}

/* ========================================================================== */
/* == Animation Performance                                               == */
/* ========================================================================== */

/* Optimize animations for devices with limited GPU */
@media (prefers-reduced-motion: reduce) {
  .systemsculpt-reduced-motion .systemsculpt-messages-container {
    /* Disable smooth scrolling for reduced motion */
    scroll-behavior: auto !important;
  }
  
  .systemsculpt-reduced-motion .systemsculpt-message,
  /* group class removed */
  .systemsculpt-reduced-motion .systemsculpt-content-part {
    /* Remove hardware acceleration hints for reduced motion */
    transform: none;
    will-change: auto;
    contain: none;
  }
}

/* High performance mode for modern browsers - group class removed */

/* ========================================================================== */
/* == Scroll Snap Optimizations (Experimental)                           == */
/* ========================================================================== */

/* Optional: Enable scroll snapping for better UX (disabled by default) */
.systemsculpt-messages-container.scroll-snap-enabled {
  scroll-snap-type: y proximity;
}

.systemsculpt-messages-container.scroll-snap-enabled .systemsculpt-message {
  scroll-snap-align: start;
  scroll-snap-stop: normal;
}

/* ========================================================================== */
/* == Memory and GPU Optimizations                                        == */
/* ========================================================================== */

/* Optimize for GPU memory usage */
.systemsculpt-messages-container {
  /* Limit GPU layer creation */
  transform-style: flat;
  /* Optimize compositing */
  isolation: isolate;
}

/* Prevent unnecessary layer creation for hidden elements */
.systemsculpt-message-button-toolbar[style*="opacity: 0"],
.systemsculpt-message-button-toolbar-collapsed[style*="opacity: 0"],
.systemsculpt-message-button-toolbar-expanded[style*="opacity: 0"] {
  transform: none !important;
  will-change: auto !important;
}


/* modals.css */
/**
 * Modal Components
 *
 * Styles for all modal dialogs, popups, and overlays
 */

.ss-modal__textarea {
  width: 100%;
  padding: 8px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-family: var(--font-interface);
  font-size: var(--font-ui-medium);
  resize: vertical;
  box-sizing: border-box;
}


/*
 * Button styles have been moved to ss-buttons.css
 * Use .ss-button and .ss-button--secondary instead
 */

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/*
 * Button styles have been moved to ss-buttons.css
 * Use .ss-button and .ss-button--secondary instead
 */

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-header
  h2 {
  margin: 0;
  font-size: 1.3em;
  color: var(--text-normal);
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-mod-cta:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-text-modification-modal .systemsculpt-button:hover {
  background-color: var(--background-modifier-border-hover);
}

.systemsculpt-text-modification-modal .systemsculpt-input-section,
.systemsculpt-text-modification-modal .systemsculpt-preview-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-text-modification-modal .systemsculpt-modal-content {
  display: flex;
  gap: 20px;
  height: calc(100% - 120px);
  padding: 20px;
}

.systemsculpt-text-modification-modal .systemsculpt-modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  padding: 20px;
  border-top: 1px solid var(--background-modifier-border);
}

.systemsculpt-text-modification-modal .systemsculpt-preview-content {
  flex-grow: 1;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  overflow-y: auto;
  white-space: pre-wrap;
  font-family: var(--font-text);
  line-height: 1.5;
}

.systemsculpt-text-modification-modal .systemsculpt-textarea {
  flex-grow: 1;
  resize: none;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-family: var(--font-text);
  line-height: 1.5;
}

.systemsculpt-text-modification-modal label {
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-empty-text {
  font-size: 0.9em;
  text-align: center;
}

.systemsculpt-text-modification-modal .systemsculpt-modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  padding: 20px;
  border-top: 1px solid var(--background-modifier-border);
}

.systemsculpt-text-modification-modal .systemsculpt-preview-content {
  flex-grow: 1;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  overflow-y: auto;
  white-space: pre-wrap;
  font-family: var(--font-text);
  line-height: 1.5;
}

.systemsculpt-modal-buttons button {
  padding: 8px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
}

.systemsculpt-modal-buttons button.systemsculpt-mod-warning {
  background-color: var(--background-modifier-error);
  border: 1px solid var(--background-modifier-error);
  color: var(--text-on-accent);
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status-content {
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 2px;
  padding-top: 10px;
  border-top: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-modal-button-container button:hover {
  opacity: 0.9;
  transform: translateY(-1px);
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  padding-top: 10px;
  border-top: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
  position: sticky; /* Make it stick to the bottom */
  bottom: 0;
  background-color: var(--background-primary); /* Ensure it has a background */
  z-index: 1; /* Ensure it stays on top of scrolling content */
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-loading svg {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-model-selection-modal {
  height: min(85vh, 900px);
  width: clamp(300px, 95%, 1200px);
  padding: clamp(8px, 2vw, 16px);
  display: flex;
  flex-direction: column;
  gap: clamp(8px, 1.5vw, 16px);
  overflow: hidden;
  margin: 0 auto;
  border-radius: 8px;
  background: var(--background-primary);
  box-shadow: var(--shadow-l);
}

.systemsculpt-model-selection-modal {
  max-width: min(800px, 95vw);
  max-height: 80vh;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 12px !important;
  box-sizing: border-box;
  margin: 0 auto;
  align-items: center;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-button-primary:hover {
  background-color: var(--interactive-accent-hover) !important;
  transform: translateY(-1px);
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status {
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
  color: var(--text-muted);
  font-size: var(--font-ui-small);
  padding: var(--size-4-1) 0;
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status-content {
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-accent);
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status-text {
  color: var(--text-muted);
}

.systemsculpt-text-modification-modal .systemsculpt-preview-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-preset-buttons {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-header
  h2 {
  margin: 0;
  font-size: 1.3em;
  color: var(--text-normal);
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-back {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 4px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  cursor: pointer;
  font-size: 0.85em;
  transition: all 0.2s ease;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-back:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header h2 {
  margin: 0;
  font-size: 1.3em;
  color: var(--text-normal);
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-button {
  padding: 6px 14px;
  border-radius: 4px;
  font-size: 0.9em;
  cursor: pointer;
  transition: all 0.2s ease;
  border: none;
  height: 32px;
  min-width: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-button-primary {
  background-color: var(--interactive-accent) !important;
  color: var(--text-on-accent) !important;
  border: none !important;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-button-primary:hover {
  background-color: var(--interactive-accent-hover) !important;
  transform: translateY(-1px);
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-button-primary {
  background-color: var(--interactive-accent) !important;
  color: var(--text-on-accent) !important;
  border: none !important;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-button-primary:hover {
  background-color: var(--interactive-accent-hover) !important;
  transform: translateY(-1px);
}

.systemsculpt-context-modal {
  display: flex;
  flex-direction: column;
  height: 100vh;
  padding: 16px;
  background: var(--background-primary);
  overflow: hidden;
}

.systemsculpt-text-modification-modal .systemsculpt-button {
  padding: 8px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  background-color: var(--background-modifier-border);
  color: var(--text-normal);
  border: none;
  transition: background-color 0.2s ease;
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-loading {
  opacity: 0.7;
  cursor: not-allowed;
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-loading svg {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-mod-cta:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-text-modification-modal .systemsculpt-button:hover {
  background-color: var(--background-modifier-border-hover);
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  input::placeholder {
  color: var(--text-muted);
}

.systemsculpt-text-modification-modal .systemsculpt-input-section,
.systemsculpt-text-modification-modal .systemsculpt-preview-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  label {
  color: var(--text-normal);
  font-weight: 500;
  font-size: 0.9em;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-back:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}


.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-empty-icon {
  font-size: 2em;
  opacity: 0.5;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-back:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-list {
  flex-grow: 1;
  overflow-y: auto;
  padding-right: 4px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.systemsculpt-modal-content {
  padding: var(--size-4-4);
  display: flex;
  flex-direction: column;
  gap: var(--size-4-2);
}

.systemsculpt-modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: var(--size-4-2);
  padding: var(--size-4-2);
  border-top: 1px solid var(--background-modifier-border);
}

.systemsculpt-modal {
  max-width: 500px;
  border-radius: 8px;
  box-shadow: 0 4px 12px color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
}

.systemsculpt-modal {
  max-width: 600px;
  max-height: 80vh;
  border-radius: var(--radius-l);
  padding: var(--size-4-4);
  background-color: var(--background-primary);
  box-shadow: var(--shadow-l);
}

.systemsculpt-modal-button-container {
  display: flex;
  justify-content: flex-end;
  gap: var(--size-4-2);
  margin-top: var(--size-4-4);
}

.systemsculpt-modal-button-container button {
  padding: var(--size-4-1) var(--size-4-3);
  border-radius: var(--radius-s);
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
  transition: all 0.15s ease-in-out;
}

.systemsculpt-modal-button-container button.systemsculpt-mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-modal-button-container button:hover {
  opacity: 0.9;
  transform: translateY(-1px);
}

.systemsculpt-modal-button-container button:not(.systemsculpt-mod-cta) {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-modal-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 16px;
}

.systemsculpt-modal-buttons button {
  padding: 8px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
}

.systemsculpt-modal-buttons button.systemsculpt-mod-warning {
  background-color: var(--background-modifier-error);
  border: 1px solid var(--background-modifier-error);
  color: var(--text-on-accent);
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status-content {
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form {
  display: flex;
  flex-direction: column;
  gap: 14px;
  overflow: visible;
  padding: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 2px;
  padding-top: 10px;
  border-top: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header h2 {
  margin: 0;
  font-size: 1.3em;
  color: var(--text-normal);
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-presets {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 12px;
}


.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  select {
  padding: 6px 10px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 0.9em;
  width: 100%;
  height: 32px;
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  select:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  select {
  padding-right: 24px;
  appearance: none;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>');
  background-repeat: no-repeat;
  background-position: right 6px center;
  background-size: 16px;
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-preset-buttons {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-presets
  label {
  color: var(--text-normal);
  font-weight: 500;
  font-size: 0.9em;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-back {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 4px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  cursor: pointer;
  font-size: 0.85em;
  transition: all 0.2s ease;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-back:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form {
  display: flex;
  flex-direction: column;
  gap: 14px;
  overflow: visible;
  padding: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 2px;
  padding-top: 10px;
  border-top: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header h2 {
  margin: 0;
  font-size: 1.3em;
  color: var(--text-normal);
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-presets {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 12px;
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  input,
.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  select {
  padding: 6px 10px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 0.9em;
  width: 100%;
  height: 32px;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-presets {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 12px;
}

.systemsculpt-template-modal {
  max-width: 800px;
  width: 90vw;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header h2 {
  margin: 0;
  font-size: 1.3em;
  color: var(--text-normal);
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status-text {
  color: var(--text-muted);
}

.systemsculpt-chat-modal {
   max-width: min(800px, 95vw);
   max-height: 80vh;
   width: 100%;
   display: flex;
   flex-direction: column;
   gap: 12px;
   padding: 16px !important;
   box-sizing: border-box;
   margin: 0 auto;
   align-items: center;
   background-color: var(--background-primary);
}

.systemsculpt-text-modification-modal {
   width: 80vw;
   height: 80vh;
   max-width: 1200px;
   max-height: 800px;
}

.systemsculpt-extension-container .systemsculpt-extension-badge {
  display: inline-flex;
  align-items: center;
  padding: 2px 4px;
  margin-left: 4px;
  border-radius: 4px;
  font-size: 0.7em;
  background-color: var(--background-modifier-border);
  border: 1px solid var(--background-modifier-border);
}

/* Embedding-related styles have been moved to components/embeddings.css */


/* Hover preview tooltip */
.systemsculpt-hover-preview {
  position: absolute;
  z-index: 1000;
  max-width: 400px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 8px 12px;
  box-shadow: 0 4px 14px color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
  font-size: 0.9em;
  max-height: 300px;
  overflow-y: auto;
  pointer-events: none;
}


/* inputs.css */
/**
 * Input Components - Modern UI System
 *
 * Elegant form controls with glassmorphism and smooth interactions
 */


.systemsculpt-chat-search input {
  width: 100%;
  padding: 12px 16px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 1em;
  transition: all 0.2s ease;
}

.systemsculpt-chat-search input:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.systemsculpt-textarea:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-input-action-button.disabled:hover {
  background-color: var(--background-modifier-form-field);
  transform: none;
}


.systemsculpt-custom-input::placeholder {
  color: var(--text-muted);
}

.systemsculpt-textarea-modal {
  max-width: 800px;
  width: 90vw;
}

.systemsculpt-custom-input {
  width: 100%;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 14px;
  line-height: 1.4;
  transition: all 0.2s ease;
}

.systemsculpt-custom-input-container {
  position: relative;
  width: 100%;
}

.systemsculpt-custom-input::placeholder {
  color: var(--text-muted);
}

.systemsculpt-custom-input:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-input-action-button.disabled {
  background-color: var(--background-modifier-form-field);
  border-color: var(--background-modifier-border);
  color: var(--text-muted);
  cursor: not-allowed;
  transform: none;
}

.systemsculpt-input-action-button.disabled {
  opacity: 0.5;
  cursor: not-allowed;
  filter: grayscale(100%);
}

.systemsculpt-input-action-button.disabled:hover {
  background-color: var(--background-modifier-form-field);
  transform: none;
}

.systemsculpt-model-search input {
  width: 100%;
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  font-size: 14px;
  box-sizing: border-box;
}

.systemsculpt-providers-button {
  box-sizing: border-box !important;
  height: 32px !important;
  min-height: 32px !important;
  max-height: 32px !important;
  padding: 0 12px !important;
  border-radius: 4px;
  background-color: var(--background-secondary-alt) !important;
  border: 1px solid var(--background-modifier-border);
  font-size: 13px;
  color: var(--text-normal);
  line-height: 30px !important;
  transition: all 0.2s ease;
}

.systemsculpt-textarea-container {
  position: relative;
  width: 100%;
  height: 300px;
  display: flex;
  flex-direction: column;
}

.systemsculpt-custom-input-container {
  position: relative;
  width: 100%;
}

.systemsculpt-prompt-creation-title-input::placeholder {
  color: var(--text-muted);
}

.systemsculpt-input-action-button:hover {
  background-color: var(--background-modifier-hover);
  transform: translateY(-1px);
}

.systemsculpt-prompt-creation-title-input:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-text-modification-modal .systemsculpt-input-section,
.systemsculpt-text-modification-modal .systemsculpt-preview-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-custom-input:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-input-action-button:active {
  transform: translateY(0);
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Input Action Buttons - Unified Design                    ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-input-action-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  padding: 0;
  
  /* Modern glass effect */
  background: color-mix(in srgb, rgb(var(--background-secondary-rgb)) 30%, var(--ss-layer-base));
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 30%, var(--ss-layer-base));
  border-radius: 12px;
  
  color: var(--text-muted);
  cursor: pointer;
  
  /* Shadow and transitions */
  box-shadow: 
    0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 4%, var(--ss-layer-base)),
    inset 0 1px 0 color-mix(in srgb, rgb(255, 255, 255) 5%, var(--ss-layer-base));
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.systemsculpt-input-action-button:hover:not(.disabled) {
  background: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 15%, var(--ss-layer-base));
  border-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 40%, var(--ss-layer-base));
  color: var(--interactive-accent);
  transform: translateY(-2px); /* Remove scale to prevent size change */
  box-shadow: 
    0 6px 16px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 20%, var(--ss-layer-base)),
    inset 0 1px 0 color-mix(in srgb, rgb(255, 255, 255) 10%, var(--ss-layer-base));
}

.systemsculpt-input-action-button:active:not(.disabled) {
  transform: translateY(0); /* Remove scale to prevent size change */
}

/* Active/Enabled state - glowing primary color, no size/transform changes */
.systemsculpt-input-action-button.active:not(.disabled),
.systemsculpt-input-action-button.systemsculpt-is-enabled:not(.disabled) {
  background: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 35%, var(--ss-layer-base));  /* Brightest state */
  border-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 60%, var(--ss-layer-base));
  color: var(--interactive-accent);  /* Use accent color, not white */
  box-shadow: 
    0 8px 24px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 40%, var(--ss-layer-base)),
    0 3px 10px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 30%, var(--ss-layer-base)),
    inset 0 1px 0 color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 15%, var(--ss-layer-base));
}

.systemsculpt-input-action-button.active:not(.disabled):hover {
  /* Keep the same transform as regular hover - no additional scaling */
  transform: translateY(-2px);
  background: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 25%, var(--ss-layer-base));  /* Less bright for visual feedback */
  border-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 50%, var(--ss-layer-base));
  box-shadow: 
    0 6px 20px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 30%, var(--ss-layer-base)),
    0 2px 8px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 20%, var(--ss-layer-base)),
    inset 0 1px 0 color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 10%, var(--ss-layer-base));
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Recording Button - Active State                          ║
   ╚══════════════════════════════════════════════════════════╝ */

@keyframes recording-dot {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 1; }
}


.systemsculpt-input-action-button.disabled {
  opacity: 0.5;
  cursor: not-allowed;
  filter: grayscale(100%);
  background-color: var(--background-modifier-form-field);
  border-color: var(--background-modifier-border);
  color: var(--text-muted);
  transform: none;
}

.systemsculpt-input-action-button.disabled:hover {
  background-color: var(--background-modifier-form-field);
  transform: none;
}

.systemsculpt-context-search input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}


.systemsculpt-license-container .systemsculpt-setting-item-control input {
  flex: 1;
}

.systemsculpt-textarea {
  flex-grow: 1;
  resize: none;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-family: var(--font-text);
  line-height: 1.5;
}

.systemsculpt-textarea {
  width: 100%;
  flex-grow: 1;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 14px;
  line-height: 1.6;
  resize: none;
  transition: all 0.2s ease;
  overflow-y: auto;
}

.systemsculpt-textarea-container {
  position: relative;
  width: 100%;
  height: 300px;
  display: flex;
  flex-direction: column;
}

.systemsculpt-textarea-modal {
  max-width: 800px;
  width: 90vw;
}

.systemsculpt-textarea:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

/* Clean up - duplicate chat input styles removed (defined in chat.css) */

.systemsculpt-chat-search input:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.systemsculpt-context-search input {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  font-size: 16px;
  transition: all 0.2s ease;
}

.systemsculpt-context-search input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}



.systemsculpt-providers-button {
  box-sizing: border-box !important;
  height: 32px !important;
  min-height: 32px !important;
  max-height: 32px !important;
  padding: 0 12px !important;
  border-radius: 4px;
  background-color: var(--background-secondary-alt) !important;
  border: 1px solid var(--background-modifier-border);
  font-size: 13px;
  color: var(--text-normal);
  line-height: 30px !important;
  transition: all 0.2s ease;
}


.systemsculpt-prompt-creation-title-input::placeholder {
  color: var(--text-muted);
}

.systemsculpt-prompt-creation-title-input {
  width: 100%;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 14px;
  line-height: 1.4;
  transition: all 0.2s ease;
}

.systemsculpt-prompt-creation-title-input:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

/*
  Input action button styles removed - Now using ss-button component classes
  The systemsculpt-input-action-button class has been replaced with ss-button classes in the code
*/


/* loaders.css */
/**
 * Loader Components
 * 
 * Styles for loaders, spinners, and loading indicators
 */

/* Core spinner animation - this is the standard animation for all spinners */
@keyframes ss-spin {
  to {
    transform: rotate(360deg);
  }
}

/* Core loader styles */
.systemsculpt-loader {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: 0.5em;
}

.systemsculpt-loader svg {
  animation: ss-spin 1s linear infinite;
  width: 1em;
  height: 1em;
}

.systemsculpt-loader-container {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1em;
}

/* Message content wrappers for streaming responses */
.systemsculpt-content-wrapper {
  flex: 1;
  width: 100%;
}

.systemsculpt-indicator-container {
  position: relative;
  display: block;
  margin-top: 8px;
  pointer-events: none;
}

/* Note: Main streaming indicator styles moved to streaming-indicator.css */

/* Inline footnote under the generating indicator */
.systemsculpt-streaming-footnote {
  display: block;
  color: var(--text-muted);
  font-size: 0.85em;
  margin-top: 8px;
  line-height: 1.3;
}

/* Compact footnote layout */
.systemsculpt-streaming-footnote { display: block; }

.systemsculpt-streaming-footnote .ss-footnote-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 14px;
  height: 14px;
  color: var(--text-muted);
  position: relative;
  cursor: help;
  margin-right: 6px;
}

.systemsculpt-streaming-footnote .ss-footnote-text {
  color: var(--text-muted);
}

.systemsculpt-streaming-footnote .ss-footnote-tooltip {
  position: absolute;
  left: 0;
  top: 120%;
  max-width: 320px;
  white-space: normal;
  background: var(--background-secondary);
  color: var(--text-normal);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  padding: 8px 10px;
  box-shadow: var(--shadow-s);
  opacity: 0;
  pointer-events: none;
  transform: translateY(-4px);
  transition: opacity 120ms ease, transform 120ms ease;
  z-index: 1000;
}

.systemsculpt-streaming-footnote:hover .ss-footnote-icon .ss-footnote-tooltip,
.systemsculpt-streaming-footnote .ss-footnote-icon:hover .ss-footnote-tooltip,
.systemsculpt-streaming-footnote .ss-footnote-icon:focus .ss-footnote-tooltip {
  opacity: 1;
  transform: translateY(0);
}

/* Preview loading styles */
.systemsculpt-preview-loading {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  text-align: center;
  padding: 16px;
  min-height: 200px;
  position: absolute;
  inset: 0;
  background: var(--background-primary);
  z-index: 1;
}

.systemsculpt-preview-loading svg {
  width: 32px;
  height: 32px;
  animation: ss-spin 1s linear infinite;
}

/* Standard loading spinner */
.systemsculpt-loading-spinner {
  display: inline-flex;
  color: var(--text-muted);
}

.systemsculpt-loading-spinner svg {
  width: 1em;
  height: 1em;
  animation: ss-spin 1s linear infinite;
}

/* Loading text container */
.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 32px;
  width: 100%;
  height: 100%;
  min-height: 200px;
}

.systemsculpt-loading-text {
  color: var(--text-muted);
  font-size: 14px;
}

/* Standard inline loading state */
.systemsculpt-loading {
  display: inline-flex;
  align-items: center;
  color: var(--text-muted);
  position: relative;
  padding-left: 1.5em;
}

.systemsculpt-loading::before {
  content: "";
  position: absolute;
  left: 0;
  width: 1em;
  height: 1em;
  border: 2px solid currentColor;
  border-radius: 50%;
  border-right-color: var(--ss-layer-base);
  animation: ss-spin 0.8s linear infinite;
}

/* Button loading states have been moved to ss-buttons.css */
/* Use .ss-button.ss-loading instead */

.systemsculpt-progress-spinner {
  animation: ss-spin 2s linear infinite;
}

.systemsculpt-preview-loading svg {
  width: 32px;
  height: 32px;
  animation: ss-spin 1s linear infinite;
}

.systemsculpt-ss-button.systemsculpt-is-loading {
  position: relative;
  color: var(--ss-layer-base);
}

.systemsculpt-ss-button.systemsculpt-is-loading::after {
  content: "";
  position: absolute;
  width: 16px;
  height: 16px;
  border: 2px solid rgb(255, 255, 255);
  border-radius: 50%;
  border-top-color: currentColor;
  animation: ss-loading-spin 0.8s linear infinite;
  opacity: 1;
}

.systemsculpt-credit-balance.systemsculpt-loading {
  position: relative;
  color: var(--ss-layer-base);
}

.systemsculpt-credit-balance.systemsculpt-loading::after {
  content: "";
  position: absolute;
  left: 8px;
  top: 50%;
  width: 12px;
  height: 12px;
  border: 2px solid var(--text-muted);
  border-radius: 50%;
  border-top-color: var(--ss-layer-base);
  animation: token-loading 0.6s linear infinite;
}

.systemsculpt-content-container.systemsculpt-loading {
  opacity: 1;
  pointer-events: none;
}

.systemsculpt-context-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 32px;
  color: var(--text-muted);
}

.systemsculpt-context-loading svg {
  width: 24px;
  height: 24px;
  animation: ss-spin 1s linear infinite;
}

.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  gap: 1rem;
}

.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 32px;
  width: 100%;
  height: 100%;
  min-height: 200px;
}

.systemsculpt-loading-container svg {
  animation: ss-spin 1s linear infinite;
  width: 1.5em;
  height: 1.5em;
  margin-right: 0.5em;
}

.systemsculpt-loading-text {
  color: var(--text-muted);
  font-size: 14px;
}

.systemsculpt-loading-text {
  color: var(--text-muted);
  font-size: 14px;
}

.systemsculpt-context-loading svg {
  width: 24px;
  height: 24px;
  animation: ss-spin 1s linear infinite;
}

.systemsculpt-loading {
  opacity: 1;
  pointer-events: none;
}

.systemsculpt-loading {
  position: relative;
  color: var(--ss-layer-base);
}

.systemsculpt-loading::after {
  content: "";
  position: absolute;
  left: 8px;
  top: 50%;
  width: 12px;
  height: 12px;
  border: 2px solid var(--text-muted);
  border-radius: 50%;
  border-top-color: var(--ss-layer-base);
  animation: token-loading 0.6s linear infinite;
}

.systemsculpt-loading {
  display: inline;
  position: relative;
  margin-left: 0.1rem;
  margin-right: 0.1rem;
  margin-top: 0.15rem;
  animation: pulse 1.5s infinite;
  color: var(--text-accent);
  font-size: 0.8em;
  line-height: inherit;
  vertical-align: baseline;
  user-select: none;
}

.systemsculpt-loading {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
  color: var(--text-muted);
  font-size: 14px;
}

.systemsculpt-loading .systemsculpt-lucide-loader-2 {
  animation: ss-spin 1s linear infinite;
}

.systemsculpt-loading-animation {
  font-size: 24px;
  animation: pulse 1.5s infinite;
  color: var(--text-accent);
}

.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  gap: 1rem;
}

.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 32px;
  width: 100%;
  height: 100%;
  min-height: 200px;
}

.systemsculpt-loading-spinner {
  color: var(--text-muted);
  animation: ss-spin 2s linear infinite;
}

.systemsculpt-loading-spinner svg {
  width: 32px;
  height: 32px;
}

.systemsculpt-loading-text {
  color: var(--text-muted);
  font-size: 14px;
}

.systemsculpt-loading-text {
  color: var(--text-muted);
  font-size: 14px;
}

/* Spinner animation optimization - Apply transform-origin to center */
.systemsculpt-loader svg,
.systemsculpt-loading-spinner svg,
.systemsculpt-preview-loading svg,
.systemsculpt-context-loading svg,
.systemsculpt-loading::before,
.systemsculpt-ss-button.systemsculpt-is-loading::after,
.systemsculpt-loading .systemsculpt-lucide-loader-2 {
  transform-origin: center center;
}


/* streaming-indicator.css */
/**
 * Enhanced Streaming Indicator
 *
 * Modern streaming status indicator with typing dots animation
 * and live elapsed time display.
 */

/* Typing dots pulse animation */
@keyframes ss-typing-pulse {
  0%, 60%, 100% {
    opacity: 0.3;
    transform: scale(0.8);
  }
  30% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Fade in animation */
@keyframes ss-indicator-fade-in {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Fade out animation */
@keyframes ss-indicator-fade-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-4px);
  }
}

/* Main container */
.ss-streaming-indicator {
  display: inline-flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px 12px;
  background: var(--ss-layer-elevated);
  border: 1px solid var(--ss-border-soft);
  border-radius: var(--ss-radius-md);
  font-size: var(--ss-font-size-sm);
  color: var(--text-muted);
  margin-top: 8px;
  align-self: flex-start;
  opacity: 0;
  transform: translateY(4px);
  transition: border-color var(--ss-transition-fast), background var(--ss-transition-fast);
}

.ss-streaming-indicator.ss-visible {
  animation: ss-indicator-fade-in 0.2s ease forwards;
}

.ss-streaming-indicator.ss-hiding {
  animation: ss-indicator-fade-out 0.15s ease forwards;
}

/* Header row: dots + label */
.ss-streaming-header {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Typing dots container */
.ss-typing-dots {
  display: inline-flex;
  align-items: center;
  gap: 3px;
}

/* Individual dot */
.ss-dot {
  width: 6px;
  height: 6px;
  border-radius: var(--ss-radius-circle);
  background: var(--text-muted);
  animation: ss-typing-pulse 1.4s ease-in-out infinite;
  will-change: opacity, transform;
}

.ss-dot:nth-child(2) {
  animation-delay: 0.2s;
}

.ss-dot:nth-child(3) {
  animation-delay: 0.4s;
}

/* Status label */
.ss-streaming-label {
  font-weight: var(--ss-font-weight-medium);
  letter-spacing: 0.01em;
  transition: color var(--ss-transition-fast);
}

/* Metrics row */
.ss-streaming-metrics {
  display: flex;
  align-items: center;
  gap: 6px;
  font-family: var(--font-monospace);
  font-size: var(--ss-font-size-xs);
  color: var(--text-faint);
  opacity: 0.85;
}

/* Metric items */
.ss-metric {
  white-space: nowrap;
}

/* Status-specific styling: reasoning */
.ss-streaming-indicator[data-status="reasoning"] {
  border-color: var(--ss-border-accent-soft);
  background: var(--ss-surface-accent);
}

.ss-streaming-indicator[data-status="reasoning"] .ss-dot {
  background: var(--text-accent);
}

.ss-streaming-indicator[data-status="reasoning"] .ss-streaming-label {
  color: var(--text-accent);
}

/* Status-specific styling: tool_calls and executing_tools */
.ss-streaming-indicator[data-status="tool_calls"],
.ss-streaming-indicator[data-status="executing_tools"] {
  border-color: var(--ss-border-soft);
  background: var(--ss-layer-highlight);
}

.ss-streaming-indicator[data-status="tool_calls"] .ss-dot,
.ss-streaming-indicator[data-status="executing_tools"] .ss-dot {
  background: var(--text-normal);
}

.ss-streaming-indicator[data-status="tool_calls"] .ss-streaming-label,
.ss-streaming-indicator[data-status="executing_tools"] .ss-streaming-label {
  color: var(--text-normal);
}

/* Status-specific styling: content/preparing (default) */
.ss-streaming-indicator[data-status="content"],
.ss-streaming-indicator[data-status="preparing"] {
  border-color: var(--ss-border-soft);
}

.ss-streaming-indicator[data-status="content"] .ss-dot,
.ss-streaming-indicator[data-status="preparing"] .ss-dot {
  background: var(--text-muted);
}

/* Reduced motion: disable animations */
@media (prefers-reduced-motion: reduce) {
  .ss-streaming-indicator,
  .ss-streaming-indicator.ss-visible,
  .ss-streaming-indicator.ss-hiding {
    animation: none;
    opacity: 1;
    transform: none;
  }

  .ss-dot {
    animation: none;
    opacity: 0.6;
    transform: none;
  }
}


/* load-chat.css */
/* Load Chat Modal Styles */


/* Style the SearchComponent's input to mimic OmniSearch */
.systemsculpt-load-chat-modal .search-input-container input.search-input {
  flex: 1;
  border: none !important; /* Override default Obsidian styles */
  background: var(--ss-layer-base) !important; /* Override default Obsidian styles */
  font-size: 15px; /* Slightly smaller than OmniSearch for balance */
  color: var(--text-normal);
  padding: 6px 0 !important; /* Override default Obsidian styles */
  height: auto !important; /* Override default Obsidian styles */
  box-shadow: none !important; /* Override default Obsidian styles */
  outline: none !important; /* Override default Obsidian styles */
}

/* Hide the default magnifying glass icon from Obsidian's SearchComponent */
.systemsculpt-load-chat-modal .search-input-container .search-icon {
  display: none !important;
}

/* Adjust flex grow for the input container if SearchComponent wraps it */
.systemsculpt-load-chat-modal .search-input-container {
  flex-grow: 1;
  display: flex; /* Ensure input inside also behaves with flex */
}

.systemsculpt-chat-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-height: 70vh;
  overflow-y: auto;
  padding: 0 4px;
  margin-bottom: 16px;
}

.systemsculpt-section-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
  padding: 4px 8px;
  border-bottom: 1px solid var(--background-modifier-border);
  font-size: 14px;
  color: var(--text-accent);
  font-weight: 600;
}

.systemsculpt-section-icon {
  color: var(--text-accent);
}

.systemsculpt-section-title {
  font-weight: bold;
  font-size: 1rem;
}

.systemsculpt-chat-card {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  border-radius: 6px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  position: relative;
  cursor: pointer;
  transition: all 0.2s ease;
}

.systemsculpt-chat-card:hover {
  background-color: var(--background-secondary-alt);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-chat-card.is-selected {
  background-color: var(--background-modifier-hover);
  border-color: var(--text-accent);
}

.systemsculpt-favorite-button {
  position: absolute;
  top: 10px;
  left: 10px;
}

.systemsculpt-favorite-button .svg-icon {
  color: var(--text-faint);
}

.systemsculpt-favorite-button:hover .svg-icon {
  color: var(--text-accent);
}

.systemsculpt-badge-container {
  display: flex;
  gap: 8px;
  margin-left: 40px;
  flex-wrap: wrap;
}

.systemsculpt-model-badge,
.systemsculpt-context-badge,
.systemsculpt-prompt-badge {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.8rem;
  background-color: var(--background-modifier-border);
  color: var(--text-muted);
}

.systemsculpt-model-badge .svg-icon,
.systemsculpt-context-badge .svg-icon,
.systemsculpt-prompt-badge .svg-icon {
  width: 14px;
  height: 14px;
}

.systemsculpt-chat-preview {
  margin-top: 4px;
  font-size: 0.9rem;
  color: var(--text-normal);
  line-height: 1.4;
  max-height: 80px;
  overflow: hidden;
  text-overflow: ellipsis;
  position: relative;
}

.systemsculpt-chat-preview::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 20px;
  background: linear-gradient(var(--background-secondary), var(--background-secondary));
  pointer-events: none;
}

.systemsculpt-chat-card:hover .systemsculpt-chat-preview::after {
  background: linear-gradient(var(--background-secondary-alt), var(--background-secondary-alt));
}

.systemsculpt-chat-card.is-selected .systemsculpt-chat-preview::after {
  background: linear-gradient(var(--background-modifier-hover), var(--background-modifier-hover));
}

.systemsculpt-preview-message {
  white-space: pre-wrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-chat-meta {
  display: flex;
  justify-content: space-between;
  color: var(--text-muted);
  font-size: 0.8rem;
  margin-top: 8px;
}

.systemsculpt-chat-actions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
  padding-top: 8px;
  border-top: 1px solid var(--background-modifier-border);
}

.systemsculpt-chat-actions .clickable-icon {
  padding: 6px;
  border-radius: 4px;
}

.systemsculpt-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 40px 20px;
  text-align: center;
  color: var(--text-muted);
}

.systemsculpt-empty-state .svg-icon {
  width: 48px;
  height: 48px;
  opacity: 1;
}

/* --- Modal List Item Styles --- */

.systemsculpt-modal-list-item {
  padding: var(--size-4-2) var(--size-4-3);
  margin-bottom: var(--size-4-2);
  border-radius: var(--radius-s);
  cursor: pointer;
  border: 1px solid var(--ss-layer-base);
  transition: all 0.2s ease;
  background-color: var(--background-secondary);
  display: flex;
}

.systemsculpt-modal-list-item:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-modal-list-item.is-selected {
  background-color: var(--background-modifier-hover);
  border-color: var(--text-accent);
}

/* When an item is favorited, add visual distinction */
.systemsculpt-modal-list-item[data-favorite="true"] {
  /* border-left: 3px solid var(--color-yellow); */ /* Existing border for favorite */
  background-color: rgb(255, 217, 0);
}

.systemsculpt-modal-list-item-content {
  flex: 1;
  margin-left: 4px;
  overflow: hidden;
}

.systemsculpt-modal-list-item-title {
  font-weight: 600;
  margin-bottom: 4px;
  color: var(--text-normal);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 14px;
  line-height: 1.4;
  padding-right: 8px;
}

.systemsculpt-modal-list-item-preview {
  margin-bottom: 8px;
  font-size: 13px;
  color: var(--text-muted);
  line-height: 1.4;
  max-height: 3.5em;
  overflow: hidden;
  position: relative;
}

.systemsculpt-modal-list-item-preview::after {
  content: "";
  position: absolute;
  bottom: 0;
  right: 0;
  width: 30%;
  height: 1.4em;
  background: linear-gradient(to right, var(--ss-layer-base), var(--background-secondary));
  pointer-events: none;
}

.systemsculpt-modal-list-item:hover .systemsculpt-modal-list-item-preview::after {
  background: linear-gradient(to right, var(--ss-layer-base), var(--background-modifier-hover));
}

.systemsculpt-modal-list-item.is-selected .systemsculpt-modal-list-item-preview::after {
  background: linear-gradient(to right, var(--ss-layer-base), var(--background-modifier-hover));
}

.systemsculpt-modal-message {
  margin-bottom: 4px;
  line-height: 1.4;
  font-size: 13px;
}

.systemsculpt-modal-list-item-meta {
  display: flex;
  justify-content: space-between;
  color: var(--text-faint);
  font-size: 0.75rem;
  margin-top: 4px;
}

.systemsculpt-modal-list-item-date,
.systemsculpt-modal-list-item-count {
  white-space: nowrap;
}

.systemsculpt-modal-empty-state {
  text-align: center;
  padding: 32px 24px;
  color: var(--text-muted);
  font-size: 14px;
}


/* Favorites UI Enhancements */
.systemsculpt-chat-favorite {
  display: flex;
  align-items: flex-start;
  justify-content: center;
  margin-right: 8px;
  margin-top: 4px;
}

.systemsculpt-modal-list-item[data-favorite="true"] {
  /* border-left: 3px solid var(--color-yellow); */ /* Existing border for favorite */
  background-color: rgb(255, 217, 0);
}

.systemsculpt-modal-list-item[data-favorite="true"]:hover {
  background-color: rgb(255, 217, 0);
  /* border-color: var(--color-yellow-hover); */
}

.systemsculpt-modal-list-item[data-favorite="true"].is-selected {
  /* border-color: var(--color-yellow); */
  background-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 10%, var(--ss-layer-base));
}

/* Dark theme adjustments */
.theme-dark .systemsculpt-modal-list-item[data-favorite="true"] {
  /* border-left-color: var(--color-yellow); */
  background-color: rgb(255, 217, 0);
}

.theme-dark .systemsculpt-modal-list-item[data-favorite="true"]:hover {
  background-color: rgb(255, 217, 0);
  /* border-left-color: var(--color-yellow-hover); */
}

/* Responsive styles */
@media (max-width: 768px) {
  .systemsculpt-modal-list-item-meta {
    flex-direction: column;
    gap: 4px;
  }
  
  .systemsculpt-chat-favorite {
    margin-top: 2px;
  }
}

/* --- New Load Chat Modal Styles --- */

/* Basic Modal Structure */
.systemsculpt-load-chat-modal-new .modal-content {
    display: flex;
    flex-direction: column;
    height: 70vh; /* Adjust height as needed */
    padding: 0; /* Remove default padding if standard modal adds it */
}

.systemsculpt-load-chat-modal-new h2 {
    padding: var(--size-4-3) var(--size-4-6);
    margin: 0;
    border-bottom: 1px solid var(--background-modifier-border);
    font-size: var(--font-ui-large);
}

/* Search Container */
.systemsculpt-modal-search-container {
    padding: var(--size-4-3) var(--size-4-6);
    border-bottom: 1px solid var(--background-modifier-border);
    width: 100%;
    box-sizing: border-box;
}

.systemsculpt-modal-search-input {
    width: 100%;
    padding: var(--size-4-2) var(--size-4-3);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--radius-s);
    background-color: var(--background-secondary);
    box-sizing: border-box;
}

/* List Container */
.systemsculpt-modal-list-container {
    flex-grow: 1;
    overflow-y: auto;
    padding: var(--size-4-3) var(--size-4-6);
}

/* Section Header */
.systemsculpt-modal-section-header {
    font-size: 1.1rem;
    margin: 0 0 var(--size-4-2) 0;
    padding-bottom: var(--size-4-1);
    border-bottom: 1px solid var(--background-modifier-border);
    color: var(--text-accent);
    text-transform: uppercase;
    font-weight: 600;
    letter-spacing: 0.5px;
}

/* Chat List Item */
.systemsculpt-modal-list-item {
    padding: var(--size-4-2) var(--size-4-3);
    margin-bottom: var(--size-4-2);
    border-radius: var(--radius-s);
    cursor: pointer;
    border: 1px solid var(--ss-layer-base); /* For selection border */
    transition: background-color 0.1s ease-in-out;
    background-color: var(--background-secondary);
}

.systemsculpt-modal-list-item:hover {
    background-color: var(--background-modifier-hover);
}

.systemsculpt-modal-list-item.is-selected {
    background-color: var(--background-modifier-active);
    border-color: var(--interactive-accent);
}

/* Title */
.systemsculpt-modal-list-item-title {
    font-weight: 500;
    margin-bottom: var(--size-4-1);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-size: 1.1em;
}

/* Preview */
.systemsculpt-modal-list-item-preview {
    margin-bottom: var(--size-4-1);
    font-size: 0.9em;
    color: var(--text-muted);
    max-height: 100px;
    overflow: hidden;
    position: relative;
}

/* Message (inside preview) */
.systemsculpt-modal-message {
    margin-bottom: var(--size-4-1);
    white-space: pre-wrap;
    word-break: break-word;
}

/* Metadata */
.systemsculpt-modal-list-item-meta {
    display: flex;
    justify-content: space-between;
    color: var(--text-muted);
    font-size: 0.8em;
}

.systemsculpt-modal-list-item-date,
.systemsculpt-modal-list-item-count {
    opacity: 0.8;
}

/* Empty State */
.systemsculpt-modal-empty-state {
    text-align: center;
    padding: var(--size-4-8);
    color: var(--text-faint);
}

/* Footer */
.systemsculpt-modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: var(--size-4-3);
    padding: var(--size-4-3) var(--size-4-6);
    border-top: 1px solid var(--background-modifier-border);
    background-color: var(--background-secondary);
}

/* Buttons */
.systemsculpt-modal-button {
    padding: var(--size-4-1) var(--size-4-3);
    border-radius: var(--radius-s);
    font-size: var(--font-ui-small);
    cursor: pointer;
    background-color: var(--interactive-normal);
    color: var(--text-normal);
    border: 1px solid var(--background-modifier-border);
}

.systemsculpt-modal-button:hover {
    background-color: var(--interactive-hover);
}

.systemsculpt-modal-button:active {
    background-color: var(--interactive-accent);
    color: var(--text-on-accent);
}

.systemsculpt-modal-button:disabled {
    background-color: var(--background-modifier-form-field);
    color: var(--text-faint);
    cursor: not-allowed;
    opacity: 1;
}

.systemsculpt-modal-button.mod-cta {
    background-color: var(--interactive-accent);
    color: var(--text-on-accent);
}

.systemsculpt-modal-button.mod-cta:hover {
    background-color: var(--interactive-accent-hover);
}

.systemsculpt-modal-button.mod-cancel {
    background-color: var(--ss-layer-base);
}


/* Responsive Adjustments */
@media (max-width: 768px) {
    .systemsculpt-modal-list-item-meta {
        flex-direction: column;
        gap: var(--size-4-1);
    }
}

.systemsculpt-modal-list-item-date,
.systemsculpt-modal-list-item-tokens {
  color: var(--text-muted);
  opacity: 1;
} 


/* tooltips.css */
/**
 * Tooltip Components
 * 
 * Styles for tooltips, popovers, and help text
 */

.systemsculpt-model-description.systemsculpt-has-tooltip {
  cursor: help;
}

.systemsculpt-has-tooltip {
  cursor: help;
}

.systemsculpt-has-tooltip {
  cursor: help;
}



/* checkboxes.css */
/**
 * Checkbox styles for SystemSculpt
 * 
 * This file contains styles for custom checkboxes that match Obsidian's design system.
 */

/* Custom checkbox container */
.systemsculpt-checkbox-container {
  display: flex;
  align-items: center;
  position: relative;
  padding-left: 28px;
  margin-bottom: 8px;
  cursor: pointer;
  user-select: none;
}

/* Hide the browser's default checkbox */
.systemsculpt-checkbox-container input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

/* Create a custom checkbox */
.systemsculpt-checkbox {
  position: absolute;
  top: 0;
  left: 0;
  height: 18px;
  width: 18px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 3px;
  transition: all 0.2s ease;
}

/* On mouse-over, add a background color */
.systemsculpt-checkbox-container:hover input ~ .systemsculpt-checkbox {
  background-color: var(--background-secondary);
}

/* When the checkbox is checked, add accent background */
.systemsculpt-checkbox-container input:checked ~ .systemsculpt-checkbox {
  background-color: var(--interactive-accent);
  border-color: var(--interactive-accent);
}

/* Create the checkmark/indicator (hidden when not checked) */
.systemsculpt-checkbox:after {
  content: "";
  position: absolute;
  display: none;
}

/* Show the checkmark when checked */
.systemsculpt-checkbox-container input:checked ~ .systemsculpt-checkbox:after {
  display: block;
}

/* Style the checkmark/indicator */
.systemsculpt-checkbox-container .systemsculpt-checkbox:after {
  left: 6px;
  top: 2px;
  width: 5px;
  height: 10px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

/* Disabled state */
.systemsculpt-checkbox-container.disabled {
  opacity: 1;
  cursor: not-allowed;
}

.systemsculpt-checkbox-container.disabled input ~ .systemsculpt-checkbox {
  background-color: var(--background-secondary);
  border-color: var(--background-modifier-border);
}

/* Toggle switch variant */
.systemsculpt-toggle {
  position: relative;
  display: inline-block;
  width: 36px;
  height: 20px;
}

.systemsculpt-toggle input {
  opacity: 0;
  width: 0;
  height: 0;
}

.systemsculpt-toggle-slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--background-modifier-border);
  transition: .4s;
  border-radius: 34px;
}

.systemsculpt-toggle-slider:before {
  position: absolute;
  content: "";
  height: 16px;
  width: 16px;
  left: 2px;
  bottom: 2px;
  background-color: var(--background-primary);
  transition: .4s;
  border-radius: 50%;
}

.systemsculpt-toggle input:checked + .systemsculpt-toggle-slider {
  background-color: var(--interactive-accent);
}

.systemsculpt-toggle input:checked + .systemsculpt-toggle-slider:before {
  transform: translateX(16px);
}


/* buttons.css */
/**
 * Button styles for SystemSculpt
 * 
 * This file contains styles for buttons that match Obsidian's design system.
 * These styles complement the ss-buttons.css file with additional button variants.
 */

/* Base button styles */
.systemsculpt-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 12px;
  border-radius: 4px;
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
  cursor: pointer;
  transition: all 0.05s ease;
  border: 1px solid var(--ss-layer-base);
  gap: 6px;
}

/* Button variants */
.systemsculpt-button-primary {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-button-primary:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-button-secondary {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
  border-color: var(--background-modifier-border);
}

.systemsculpt-button-secondary:hover {
  background-color: var(--background-secondary);
}

.systemsculpt-button-danger {
  background-color: var(--background-modifier-error);
  color: var(--text-on-accent);
}

.systemsculpt-button-danger:hover {
  background-color: var(--text-error);
}

.systemsculpt-button-ghost {
  background-color: var(--ss-layer-base);
  color: var(--text-muted);
}

.systemsculpt-button-ghost:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-button-link {
  background-color: var(--ss-layer-base);
  color: var(--text-accent);
  padding: 0;
  border: none;
  text-decoration: underline;
}

.systemsculpt-button-link:hover {
  color: var(--text-accent-hover);
  text-decoration: none;
}

/* Button sizes */
.systemsculpt-button-small {
  padding: 4px 8px;
  font-size: var(--font-ui-smaller);
}

.systemsculpt-button-large {
  padding: 8px 16px;
  font-size: var(--font-ui-medium);
}

/* Button states */
.systemsculpt-button:disabled,
.systemsculpt-button.disabled {
  opacity: 1;
  cursor: not-allowed;
  pointer-events: none;
}

.systemsculpt-button.loading {
  position: relative;
  color: var(--ss-layer-base);
}

.systemsculpt-button.loading::after {
  content: "";
  position: absolute;
  width: 16px;
  height: 16px;
  border: 2px solid rgb(255, 255, 255);
  border-radius: 50%;
  border-top-color: currentColor;
  animation: spin 0.8s linear infinite;
}

/* Icon button */
.systemsculpt-icon-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 4px;
  background-color: var(--ss-layer-base);
  color: var(--text-muted);
  cursor: pointer;
  transition: all 0.05s ease;
  border: none;
}

.systemsculpt-icon-button:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-icon-button svg {
  width: 16px;
  height: 16px;
}

/* Button group */
.systemsculpt-button-group {
  display: inline-flex;
}

.systemsculpt-button-group .systemsculpt-button {
  border-radius: 0;
}

.systemsculpt-button-group .systemsculpt-button:first-child {
  border-top-left-radius: 4px;
  border-bottom-left-radius: 4px;
}

.systemsculpt-button-group .systemsculpt-button:last-child {
  border-top-right-radius: 4px;
  border-bottom-right-radius: 4px;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}


/* icons.css */
/**
 * Icon styles for SystemSculpt
 * 
 * This file contains styles for icons used throughout the plugin.
 */

/* Base icon styles */
.systemsculpt-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  color: currentColor;
  flex-shrink: 0;
}

/* Icon sizes */
.systemsculpt-icon-xs {
  width: 12px;
  height: 12px;
}

.systemsculpt-icon-sm {
  width: 16px;
  height: 16px;
}

.systemsculpt-icon-md {
  width: 20px;
  height: 20px;
}

.systemsculpt-icon-lg {
  width: 24px;
  height: 24px;
}

.systemsculpt-icon-xl {
  width: 32px;
  height: 32px;
}

/* Icon colors */
.systemsculpt-icon-muted {
  color: var(--text-muted);
}

.systemsculpt-icon-normal {
  color: var(--text-normal);
}

.systemsculpt-icon-accent {
  color: var(--text-accent);
}

.systemsculpt-icon-error {
  color: var(--text-error);
}

.systemsculpt-icon-success {
  color: var(--background-modifier-success);
}

.systemsculpt-icon-warning {
  color: var(--color-yellow);
}

/* Icon with background */
.systemsculpt-icon-with-bg {
  padding: 6px;
  border-radius: 4px;
  background-color: var(--background-secondary);
}

/* Icon button */
.systemsculpt-icon-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border-radius: 4px;
  background-color: var(--ss-layer-base);
  color: var(--text-muted);
  cursor: pointer;
  transition: all 0.2s ease;
  border: none;
}

.systemsculpt-icon-btn:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

/* Animated icons */
.systemsculpt-icon-spin {
  animation: systemsculpt-spin 1s linear infinite;
}

.systemsculpt-icon-pulse {
  animation: systemsculpt-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes systemsculpt-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes systemsculpt-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
}

/* Icon with text */
.systemsculpt-icon-with-text {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.systemsculpt-icon-with-text .systemsculpt-icon {
  flex-shrink: 0;
}

/* Icon list */
.systemsculpt-icon-list {
  display: flex;
  gap: 4px;
}

/* Icon grid */
.systemsculpt-icon-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(32px, 1fr));
  gap: 8px;
}


/* tables.css */
/**
 * Table styles for SystemSculpt
 * 
 * This file contains styles for tables used throughout the plugin.
 */

/* Base table styles */
.systemsculpt-table {
  width: 100%;
  border-collapse: collapse;
  margin: 1rem 0;
  font-size: var(--font-ui-small);
  border-radius: 4px;
  overflow: hidden;
}

.systemsculpt-table th,
.systemsculpt-table td {
  padding: 8px 12px;
  text-align: left;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-table th {
  background-color: var(--background-secondary-alt);
  font-weight: var(--font-medium);
  color: var(--text-normal);
  white-space: nowrap;
}

.systemsculpt-table tr:last-child td {
  border-bottom: none;
}

.systemsculpt-table tr:nth-child(even) {
  background-color: var(--background-secondary);
}

.systemsculpt-table tr:hover {
  background-color: var(--background-modifier-hover);
}

/* Compact table */
.systemsculpt-table-compact th,
.systemsculpt-table-compact td {
  padding: 4px 8px;
  font-size: var(--font-ui-smaller);
}

/* Bordered table */
.systemsculpt-table-bordered th,
.systemsculpt-table-bordered td {
  border: 1px solid var(--background-modifier-border);
}

/* Striped table */
.systemsculpt-table-striped tr:nth-child(odd) {
  background-color: var(--background-secondary);
}

.systemsculpt-table-striped tr:nth-child(even) {
  background-color: var(--background-primary);
}

/* Table with fixed layout */
.systemsculpt-table-fixed {
  table-layout: fixed;
}

.systemsculpt-table-fixed td {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Table with hover effect */
.systemsculpt-table-hover tr:hover {
  background-color: var(--background-modifier-hover);
}

/* Table with sticky header */
.systemsculpt-table-sticky-header {
  position: relative;
}

.systemsculpt-table-sticky-header thead th {
  position: sticky;
  top: 0;
  z-index: 1;
  background-color: var(--background-secondary-alt);
}

/* Table container with scrolling */
.systemsculpt-table-container {
  width: 100%;
  overflow-x: auto;
  margin: 1rem 0;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
}

/* Table with actions column */
.systemsculpt-table .actions-column {
  width: 100px;
  text-align: right;
  white-space: nowrap;
}

/* Table cell alignments */
.systemsculpt-table .align-left {
  text-align: left;
}

.systemsculpt-table .align-center {
  text-align: center;
}

.systemsculpt-table .align-right {
  text-align: right;
}

/* Table with row selection */
.systemsculpt-table tr.selected {
  background-color: var(--background-modifier-hover);
}

/* Table footer */
.systemsculpt-table tfoot td {
  background-color: var(--background-secondary-alt);
  font-weight: var(--font-medium);
}


/* recorder.css */
/* Floating host wrapper used on desktop */
.ss-recorder-panel-host {
  position: fixed;
  top: 72px;
  right: 24px;
  z-index: 1100;
  transform: translateY(16px);
  opacity: 0;
  transition: opacity 160ms ease, transform 180ms ease;
  pointer-events: none;
}

.ss-recorder-panel-host.ss-recorder-panel--visible {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.ss-recorder-panel-host.platform-ui-mobile {
  top: auto;
  right: 12px;
  left: 12px;
  bottom: 18px;
  max-width: 440px;
  margin: 0 auto;
  transform: translateY(12px);
}

.ss-recorder-panel-host .ss-recorder-mini {
  pointer-events: auto;
}

/* Minimal recorder widget shared by desktop + mobile */

.ss-recorder-mini {
  --ss-recorder-border: var(--background-modifier-border);
  --ss-recorder-card-bg: var(--background-primary);
  width: min(280px, 100%);
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 14px;
  border: 1px solid var(--ss-recorder-border);
  border-radius: var(--radius-m, 12px);
  background: var(--background-secondary);
  box-shadow: var(--modal-shadow, 0 2px 8px rgba(0, 0, 0, 0.2));
}

.ss-recorder-mini[data-state="recording"] {
  border-color: var(--interactive-accent);
}

.ss-recorder-mini__header {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

.ss-recorder-mini__header-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.ss-recorder-mini__live {
  font-size: 10px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid var(--ss-recorder-border);
  background: var(--background-primary);
  color: var(--text-muted);
  width: fit-content;
}

.ss-recorder-mini[data-state="recording"] .ss-recorder-mini__live {
  color: var(--interactive-accent);
  border-color: var(--interactive-accent);
}

.ss-recorder-mini__heading {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.ss-recorder-mini__title {
  margin: 0;
  font-size: 14px;
  font-weight: 600;
}

.ss-recorder-mini__status {
  font-size: 12px;
  color: var(--text-muted);
}

.ss-recorder-mini__stop {
  align-self: flex-start;
}

.ss-recorder-mini__timer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-radius: var(--radius-s, 8px);
  border: 1px solid var(--ss-recorder-border);
  padding: 6px 10px;
  font-family: var(--font-monospace, "SFMono-Regular", "JetBrains Mono", ui-monospace, monospace);
  background: var(--background-primary);
}

.ss-recorder-mini__timer-label {
  font-size: 11px;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.ss-recorder-mini__timer-value {
  font-size: 22px;
  font-weight: 600;
  color: var(--text-normal);
}

.ss-recorder-mini__settings-section {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ss-recorder-mini__settings-toggle {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  border: 1px solid var(--ss-recorder-border);
  border-radius: var(--radius-s, 8px);
  background: var(--ss-recorder-card-bg);
  color: var(--text-normal);
  font-size: 13px;
  font-weight: 600;
  padding: 8px 12px;
  cursor: pointer;
  text-align: left;
}

.ss-recorder-mini__settings-section[data-collapsed="true"] .ss-recorder-mini__settings-toggle {
  border-bottom-left-radius: var(--radius-s, 8px);
  border-bottom-right-radius: var(--radius-s, 8px);
}

.ss-recorder-mini__settings-section[data-collapsed="true"] .ss-recorder-mini__settings {
  display: none;
}

.ss-recorder-mini__settings-toggle-label {
  flex: 1;
}

.ss-recorder-mini__settings-toggle-icon {
  width: 16px;
  height: 16px;
}

.ss-recorder-mini__settings-toggle-icon svg {
  width: 16px;
  height: 16px;
}

.ss-recorder-mini__settings {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 4px;
}

.ss-recorder-mini__setting {
  border: 1px solid var(--ss-recorder-border);
  border-radius: var(--radius-s, 10px);
  padding: 12px 14px;
  background: var(--ss-recorder-card-bg);
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.ss-recorder-mini__setting[data-enabled="true"] {
  border-color: var(--interactive-accent);
}

.ss-recorder-mini__setting[data-locked="true"] {
  opacity: 0.85;
}

.ss-recorder-mini__setting-row {
  display: flex;
  align-items: center;
  gap: 10px;
}

.ss-recorder-mini__setting-title {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-normal);
  flex: 1;
  padding-inline-start: 6px;
}

.ss-recorder-mini__setting-title--stacked {
  padding-inline-start: 0;
}

.ss-recorder-mini__setting-control {
  display: flex;
  align-items: center;
  margin-left: auto;
}

.ss-recorder-mini__setting-description {
  font-size: 11px;
  color: var(--text-muted);
  text-align: center;
  padding: 0 6px;
}

.ss-recorder-mini__setting--mic {
  gap: 10px;
}

.ss-recorder-mini__mic-control {
  display: flex;
  align-items: stretch;
  width: 100%;
  border: 1px solid var(--ss-recorder-border);
  border-radius: var(--radius-s, 8px);
  overflow: hidden;
  background: var(--background-primary);
}

.ss-recorder-mini__mic-control .dropdown {
  flex: 1;
  min-width: 0;
  border: none;
  margin: 0;
  padding: 4px 8px;
}

.ss-recorder-mini__mic-refresh {
  border: none;
  border-left: 1px solid var(--ss-recorder-border);
  background: var(--background-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 8px;
  min-width: 32px;
}

.ss-recorder-mini__mic-status {
  font-size: 11px;
  color: var(--text-faint);
  text-align: center;
}

@media (max-width: 600px) {
  .ss-recorder-mini {
    width: 100%;
  }

  .ss-recorder-mini__header {
    flex-direction: column;
  }

  .ss-recorder-mini__stop {
    align-self: stretch;
    text-align: center;
  }
}


/* floating-widget.css */
/* SystemSculpt Floating Widget Base Styling */

.systemsculpt-floating-widget {
  position: fixed;
  z-index: 1000;
  background-color: var(--background-primary);
  color: var(--text-normal);
  padding: 0;
  border-radius: 8px;
  box-shadow: 0 4px 20px color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
  display: flex;
  flex-direction: column;
  border: 1px solid var(--background-modifier-border);
  transition: transform 0.3s ease, opacity 0.3s ease;
  transform: translateY(-10px);
  opacity: 0;
  min-width: 250px;
  max-width: 500px;
}

.systemsculpt-floating-widget.visible {
  transform: translateY(0);
  opacity: 1;
}

.systemsculpt-floating-widget-title {
  font-size: 16px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: move;
  user-select: none;
  padding: 12px 15px;
  border-bottom: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
  border-radius: 8px 8px 0 0;
}

.systemsculpt-floating-widget-title svg {
  color: var(--text-accent);
  flex-shrink: 0;
}

.systemsculpt-floating-widget-content {
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  flex: 1;
  overflow: hidden;
}

/* Hover effects */
.systemsculpt-floating-widget:hover {
  box-shadow: 0 6px 25px color-mix(in srgb, rgb(0, 0, 0) 20%, var(--ss-layer-base));
}

.systemsculpt-floating-widget-title:hover {
  background-color: var(--background-modifier-hover);
}

/* Active state when dragging */
.systemsculpt-floating-widget-title:active {
  cursor: grabbing;
  background-color: var(--background-modifier-active);
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .systemsculpt-floating-widget {
    max-width: calc(100vw - 40px);
    min-width: calc(100vw - 40px);
  }
}

/* Animation keyframes */
@keyframes float-in {
  from {
    transform: translateY(-20px) scale(0.95);
    opacity: 0;
  }
  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

@keyframes float-out {
  from {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  to {
    transform: translateY(-20px) scale(0.95);
    opacity: 0;
  }
}

/* Specific positioning classes */
.systemsculpt-floating-widget--top-right {
  top: 50px;
  right: 20px;
}

.systemsculpt-floating-widget--bottom-right {
  bottom: 20px;
  right: 20px;
}

.systemsculpt-floating-widget--top-left {
  top: 50px;
  left: 20px;
}

.systemsculpt-floating-widget--bottom-left {
  bottom: 20px;
  left: 20px;
}

.systemsculpt-floating-widget--center {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.systemsculpt-floating-widget--center.visible {
  transform: translate(-50%, -50%);
}


/* quick-edit-widget.css */
/* SystemSculpt Quick Edit Widget Styling */

.systemsculpt-quick-edit-widget {
  /* Inherits base floating widget styles */
  max-height: 80vh;
  overflow: hidden;
}

/* Input Section */
.ss-quick-edit-input-section {
  display: flex;
  gap: 8px;
  align-items: center;
  margin-bottom: 12px;
  flex-direction: column;
  width: 100%;
}

.ss-quick-edit-input {
  width: 100%;
  padding: 8px 12px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 14px;
  font-family: var(--font-interface);
  outline: none;
  transition: border-color 0.2s ease;
  resize: vertical;
  line-height: 1.4;
  min-height: 72px;
}

.ss-quick-edit-input:focus {
  border-color: var(--text-accent);
  box-shadow: 0 0 0 2px var(--text-accent-hover);
}

.ss-quick-edit-input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  background-color: var(--background-secondary);
}

.ss-quick-edit-action-row {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
}

.ss-quick-edit-submit-btn {
  padding: 8px 16px;
  background-color: var(--text-accent);
  color: var(--text-on-accent);
  border: none;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s ease, transform 0.1s ease;
  white-space: nowrap;
}

.ss-quick-edit-submit-btn:hover:not(:disabled) {
  background-color: var(--text-accent-hover);
  transform: translateY(-1px);
}

.ss-quick-edit-submit-btn:active:not(:disabled) {
  transform: translateY(0);
}

.ss-quick-edit-submit-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

.ss-quick-edit-cancel-btn {
  padding: 8px 12px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background: var(--ss-layer-base);
  color: var(--text-muted);
  font-size: 13px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.ss-quick-edit-cancel-btn:hover:not(:disabled) {
  background-color: var(--background-modifier-hover);
}

.ss-quick-edit-confirm-row {
  display: flex;
  gap: 8px;
  margin-top: 8px;
  width: 100%;
}

.ss-quick-edit-confirm-btn {
  padding: 8px 14px;
  border: none;
  border-radius: 6px;
  background-color: var(--text-success);
  color: #fff;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.ss-quick-edit-confirm-btn:hover:not(:disabled) {
  background-color: color-mix(in srgb, rgb(46, 204, 113) 85%, var(--ss-layer-base));
}

.ss-quick-edit-discard-btn {
  padding: 8px 14px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background: var(--ss-layer-base);
  color: var(--text-muted);
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.ss-quick-edit-discard-btn:hover:not(:disabled) {
  background-color: var(--background-modifier-hover);
}

.ss-quick-edit-status {
  font-size: 12px;
  color: var(--text-muted);
  margin-top: 4px;
  white-space: pre-wrap;
}

.ss-quick-edit-status--success {
  color: var(--text-success);
}

.ss-quick-edit-status--error {
  color: var(--text-error);
}

/* Activity Log */
.ss-quick-edit-activity-log {
  margin-top: 8px;
  padding: 8px 10px;
  background: var(--background-secondary);
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  max-height: 120px;
  overflow-y: auto;
}

.ss-quick-edit-activity-entry {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 0;
  font-size: 12px;
  color: var(--text-muted);
  border-bottom: 1px solid var(--background-modifier-border);
}

.ss-quick-edit-activity-entry:last-child {
  border-bottom: none;
}

.ss-quick-edit-activity-entry--active {
  color: var(--text-normal);
}

.ss-quick-edit-activity-check {
  color: var(--text-success);
  font-size: 11px;
  flex-shrink: 0;
}

.ss-quick-edit-activity-spinner {
  color: var(--text-accent);
  font-size: 11px;
  flex-shrink: 0;
  animation: ss-quick-edit-spin 1s linear infinite;
}

@keyframes ss-quick-edit-spin {
  0% { content: "◐"; }
  25% { content: "◓"; }
  50% { content: "◑"; }
  75% { content: "◒"; }
  100% { content: "◐"; }
}

.ss-quick-edit-activity-text {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Proposal Summary */
.ss-quick-edit-proposal-summary {
  margin-top: 8px;
  padding: 10px 12px;
  background: color-mix(in srgb, var(--text-accent) 10%, var(--background-primary));
  border-radius: 6px;
  border: 1px solid color-mix(in srgb, var(--text-accent) 30%, var(--background-modifier-border));
}

.ss-quick-edit-proposal-header {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 6px;
}

.ss-quick-edit-proposal-item {
  font-size: 13px;
  color: var(--text-normal);
  padding: 3px 0;
  display: flex;
  align-items: center;
  gap: 6px;
}

/* Assistant response */
.ss-quick-edit-response,
.ss-quick-edit-modal__response {
  margin-top: 8px;
  padding: 10px 12px;
  background: var(--background-secondary);
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
}

.ss-quick-edit-response-header,
.ss-quick-edit-modal__response-header {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 6px;
}

.ss-quick-edit-response-body,
.ss-quick-edit-modal__response-body {
  font-size: 13px;
  color: var(--text-normal);
  white-space: pre-wrap;
}

.ss-quick-edit-modal {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.ss-quick-edit-modal__input {
  width: 100%;
  padding: 8px 12px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 14px;
  font-family: var(--font-interface);
  line-height: 1.4;
  resize: vertical;
  min-height: 100px;
  transition: border-color 0.2s ease;
}

.ss-quick-edit-modal__input:focus {
  border-color: var(--text-accent);
  box-shadow: 0 0 0 2px var(--text-accent-hover);
}

.ss-quick-edit-modal__status {
  font-size: 12px;
  color: var(--text-muted);
  white-space: pre-wrap;
}

.ss-quick-edit-modal__status--success {
  color: var(--text-success);
}

.ss-quick-edit-modal__status--error {
  color: var(--text-error);
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .systemsculpt-quick-edit-widget {
    width: calc(100vw - 20px) !important;
    max-width: none;
    left: 10px !important;
    right: 10px !important;
    bottom: 10px !important;
  }
  
  .ss-quick-edit-input-section {
    flex-direction: column;
    gap: 8px;
  }
  
  .ss-quick-edit-input {
    width: 100%;
  }
  
  .ss-quick-edit-action-row,
  .ss-quick-edit-confirm-row {
    flex-direction: column;
  }

  .ss-quick-edit-submit-btn,
  .ss-quick-edit-cancel-btn,
  .ss-quick-edit-confirm-btn,
  .ss-quick-edit-discard-btn {
    width: 100%;
  }
}

/* Focus trap for accessibility */
.systemsculpt-quick-edit-widget:focus-within {
  box-shadow: 0 6px 30px color-mix(in srgb, rgb(0, 0, 0) 25%, var(--ss-layer-base));
}


/* quick-edit-editor-diff.css */
/* Quick Edit – in-editor diff overlay (CodeMirror) */

.ss-qe-editor-diff-actions {
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  padding: 2px 10px;
  border-left: 3px solid var(--background-modifier-border);
  background: color-mix(in srgb, var(--background-secondary) 75%, transparent);
  font-family: var(--font-interface);
}

.ss-qe-editor-diff-actions button {
  flex: 0 0 auto;
  margin: 0 !important;
}

.ss-qe-editor-diff-actions button + button {
  margin-left: 10px !important;
}

.ss-qe-editor-diff-widget {
  display: block;
  margin: 0;
  padding: 0;
}

.ss-qe-editor-diff-widget__code {
  display: block;
  padding: 2px 10px;
  font-family: var(--font-monospace);
  font-size: var(--font-ui-smaller);
  line-height: 1.6;
  white-space: pre-wrap;
  word-break: break-word;
  overflow-wrap: anywhere;
  border-left: 3px solid transparent;
}

.ss-qe-editor-diff-widget--added .ss-qe-editor-diff-widget__code {
  background: color-mix(in srgb, rgb(var(--color-green-rgb, 46, 204, 113)) 10%, var(--background-primary));
  border-left-color: var(--color-green);
  color: var(--text-normal);
}

.ss-qe-editor-diff-widget--removed .ss-qe-editor-diff-widget__code {
  background: color-mix(in srgb, rgb(var(--color-red-rgb, 231, 76, 60)) 10%, var(--background-primary));
  border-left-color: var(--color-red);
  color: var(--text-normal);
  text-decoration: line-through;
  opacity: 0.8;
}


/* meeting-processor.css */
.ss-meeting-processor {
  display: grid;
  grid-template-columns: minmax(0, 1.25fr) minmax(0, 1fr);
  gap: 14px;
}

@media (max-width: 960px) {
  .ss-meeting-processor {
    grid-template-columns: 1fr;
  }
}

.ss-meeting-processor__column {
  border: 1px solid var(--background-modifier-border);
  border-radius: 10px;
  padding: 12px;
  background: var(--background-primary);
  box-shadow: 0 6px 20px color-mix(in srgb, rgb(0, 0, 0) 14%, var(--ss-layer-base));
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.ss-meeting-processor__column--panel {
  background: color-mix(in srgb, var(--background-primary) 92%, var(--interactive-accent) 8%);
}

.ss-meeting-processor__section-title {
  font-size: 15px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
}

.ss-meeting-processor__section-hint {
  color: var(--text-muted);
  font-size: 12px;
  margin-top: -4px;
}

.ss-meeting-processor__search {
  position: relative;
}

.ss-meeting-processor__search-input {
  width: 100%;
  padding: 10px 12px 10px 34px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  background: var(--background-primary);
  color: var(--text-normal);
}

.ss-meeting-processor__search-input:focus {
  outline: 1px solid var(--interactive-accent);
  border-color: var(--interactive-accent);
}

.ss-meeting-processor__search-icon {
  position: absolute;
  top: 50%;
  left: 10px;
  transform: translateY(-50%);
  color: var(--text-muted);
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.ss-meeting-processor__list {
  max-height: 420px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 2px;
}

.ss-meeting-processor__file {
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 10px;
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 8px;
  cursor: pointer;
  background: var(--ss-layer-base);
  transition: border-color 0.15s ease, background 0.15s ease;
}

.ss-meeting-processor__file:hover {
  border-color: var(--interactive-accent-hover);
}

.ss-meeting-processor__file.is-selected {
  border-color: var(--interactive-accent);
  background: color-mix(in srgb, var(--interactive-accent) 10%, var(--ss-layer-base));
}

.ss-meeting-processor__file-name {
  font-weight: 600;
}

.ss-meeting-processor__file-path {
  color: var(--text-muted);
  font-size: 12px;
}

.ss-meeting-processor__file-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: var(--text-muted);
  font-size: 12px;
}

.ss-meeting-processor__file-badge-icon svg {
  width: 14px;
  height: 14px;
}

.ss-meeting-processor__empty {
  border: 1px dashed var(--background-modifier-border);
  border-radius: 8px;
  padding: 12px;
  text-align: center;
  color: var(--text-muted);
}

.ss-meeting-processor__empty-icon {
  margin-bottom: 6px;
  color: var(--text-muted);
  display: flex;
  justify-content: center;
}

.ss-meeting-processor__empty-text {
  font-size: 13px;
}

.ss-meeting-processor__more {
  color: var(--text-muted);
  font-size: 12px;
  text-align: right;
}

.ss-meeting-processor__dropzone {
  border: 1.5px dashed var(--background-modifier-border);
  border-radius: 12px;
  padding: 16px;
  background: var(--background-primary);
  display: flex;
  flex-direction: column;
  gap: 6px;
  cursor: pointer;
  transition: border-color 0.15s ease, background 0.15s ease;
}

.ss-meeting-processor__dropzone:hover {
  border-color: var(--interactive-accent-hover);
}

.ss-meeting-processor__dropzone.is-dragging {
  border-color: var(--interactive-accent);
  background: color-mix(in srgb, var(--interactive-accent) 12%, var(--background-primary));
}

.ss-meeting-processor__drop-main {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
}

.ss-meeting-processor__drop-sub {
  color: var(--text-muted);
  font-size: 12px;
}

.ss-meeting-processor__drop-hint {
  font-size: 12px;
  color: var(--text-muted);
}

.ss-meeting-processor__drop-icon svg {
  width: 16px;
  height: 16px;
}

.ss-meeting-processor__selection {
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 10px;
  background: var(--background-primary);
  min-height: 80px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.ss-modal--scrollable .ss-modal__content {
  overflow-y: auto;
}

.ss-meeting-processor__preview {
  margin-top: 4px;
  padding: 8px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  background: var(--ss-layer-base);
}

.ss-meeting-processor__audio {
  width: 100%;
}

.ss-meeting-processor__selection-path {
  color: var(--text-muted);
  font-size: 12px;
  word-break: break-all;
}

.ss-meeting-processor__selection-empty {
  color: var(--text-muted);
  font-size: 13px;
}

.ss-meeting-processor__file-input {
  display: none;
}

.ss-meeting-processor__process-btn {
  margin-left: 8px;
}

.ss-meeting-processor__progress {
  display: none;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  margin-bottom: 10px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  background: var(--ss-layer-base);
  font-size: 13px;
  color: var(--text-muted);
}

/* Options step */
.ss-meeting-processor--options {
  grid-template-columns: 1fr;
}

.ss-meeting-processor__option-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 10px;
}

.ss-meeting-processor__option {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 10px;
  align-items: flex-start;
  padding: 10px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  background: var(--ss-layer-base);
}

.ss-meeting-processor__option-checkbox {
  margin-top: 2px;
}

.ss-meeting-processor__option-title {
  font-weight: 600;
}

.ss-meeting-processor__option-desc {
  color: var(--text-muted);
  font-size: 12px;
}

.ss-meeting-processor__field {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin-top: 10px;
}

.ss-meeting-processor__field-label {
  font-weight: 600;
  font-size: 13px;
}

.ss-meeting-processor__field-input {
  width: 100%;
  padding: 8px 10px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  background: var(--background-primary);
  color: var(--text-normal);
}

.ss-meeting-processor__field-hint {
  color: var(--text-muted);
  font-size: 12px;
  margin-top: 4px;
}


/* youtube-canvas.css */
/**
 * YouTube Canvas Modal
 * Modal for extracting YouTube transcripts and creating notes
 */

.ss-youtube-canvas-modal {
  --youtube-accent: #ff0000;
  --youtube-accent-soft: color-mix(in srgb, #ff0000 15%, var(--background-primary));
}

/* Enable scrolling for modal content */
.ss-youtube-canvas-modal .ss-modal__content {
  overflow-y: auto;
  flex: 1;
  min-height: 0;
}

/* Input Section */
.ss-youtube-canvas-modal__input-section {
  margin-bottom: var(--ss-space-md);
}

.ss-youtube-canvas-modal__input-wrapper {
  position: relative;
}

.ss-youtube-canvas-modal__input-icon {
  position: absolute;
  top: 50%;
  left: 12px;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  pointer-events: none;
  z-index: 1;
}

.ss-youtube-canvas-modal__input-icon svg {
  width: 16px;
  height: 16px;
}

.ss-youtube-canvas-modal__input {
  width: 100%;
  padding: 12px 14px 12px 40px !important;
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--ss-radius-lg);
  background: var(--background-primary);
  color: var(--text-normal);
  font-size: var(--ss-font-size-md);
  transition: border-color var(--ss-transition-fast), box-shadow var(--ss-transition-fast);
  box-sizing: border-box;
}

.ss-youtube-canvas-modal__input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: var(--ss-shadow-focus);
}

.ss-youtube-canvas-modal__input::placeholder {
  color: var(--text-muted);
}

/* Preview Section */
.ss-youtube-canvas-modal__preview {
  display: flex;
  gap: var(--ss-space-md);
  padding: var(--ss-space-md);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--ss-radius-lg);
  background: var(--ss-layer-muted);
  margin-bottom: var(--ss-space-md);
}

.ss-youtube-canvas-modal__thumbnail {
  flex-shrink: 0;
  width: 160px;
  height: 90px;
  border-radius: var(--ss-radius-md);
  overflow: hidden;
  background: var(--background-modifier-hover);
}

.ss-youtube-canvas-modal__thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.ss-youtube-canvas-modal__info {
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: var(--ss-space-xs);
  min-width: 0;
  flex: 1;
}

.ss-youtube-canvas-modal__title {
  font-size: var(--ss-font-size-lg);
  font-weight: var(--ss-font-weight-bold);
  color: var(--text-normal);
  line-height: 1.3;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.ss-youtube-canvas-modal__channel {
  font-size: var(--ss-font-size-sm);
  color: var(--text-muted);
}

/* Transcript Section */
.ss-youtube-canvas-modal__transcript {
  margin-bottom: var(--ss-space-md);
}

.ss-youtube-canvas-modal__transcript-header {
  display: flex;
  align-items: center;
  gap: var(--ss-space-sm);
  margin-bottom: var(--ss-space-sm);
  font-weight: var(--ss-font-weight-medium);
  color: var(--text-normal);
}

.ss-youtube-canvas-modal__transcript-lang {
  font-size: var(--ss-font-size-sm);
  color: var(--text-muted);
  font-weight: var(--ss-font-weight-normal);
}

.ss-youtube-canvas-modal__transcript-preview {
  max-height: 150px;
  overflow-y: auto;
  padding: var(--ss-space-md);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--ss-radius-lg);
  background: var(--ss-layer-base);
  font-size: var(--ss-font-size-sm);
  color: var(--text-muted);
  line-height: 1.6;
  white-space: pre-wrap;
}

/* Status */
.ss-youtube-canvas-modal__status {
  padding: var(--ss-space-sm) var(--ss-space-md);
  border-radius: var(--ss-radius-md);
  font-size: var(--ss-font-size-sm);
  text-align: center;
  margin-bottom: var(--ss-space-md);
}

.ss-youtube-canvas-modal__status--info {
  background: var(--ss-layer-muted);
  color: var(--text-muted);
}

.ss-youtube-canvas-modal__status--success {
  background: var(--ss-surface-success);
  color: var(--color-green, #2ecc71);
}

.ss-youtube-canvas-modal__status--error {
  background: var(--ss-surface-danger);
  color: var(--color-red, #e74c3c);
}

/* Folder Selector */
.ss-youtube-canvas-modal__folder-section {
  display: flex;
  align-items: center;
  gap: var(--ss-space-sm);
  margin-bottom: var(--ss-space-md);
  padding: var(--ss-space-sm) var(--ss-space-md);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--ss-radius-lg);
  background: var(--ss-layer-muted);
}

.ss-youtube-canvas-modal__folder-label {
  display: flex;
  align-items: center;
  gap: var(--ss-space-xs);
  font-size: var(--ss-font-size-sm);
  color: var(--text-muted);
  white-space: nowrap;
}

.ss-youtube-canvas-modal__folder-label svg {
  width: 14px;
  height: 14px;
}

.ss-youtube-canvas-modal__folder-input {
  flex: 1;
  padding: var(--ss-space-xs) var(--ss-space-sm);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--ss-radius-md);
  background: var(--background-primary);
  color: var(--text-normal);
  font-size: var(--ss-font-size-sm);
}

.ss-youtube-canvas-modal__folder-input:focus {
  outline: none;
  border-color: var(--interactive-accent);
}

/* Toggle Section */
.ss-youtube-canvas-modal__toggles {
  display: flex;
  flex-wrap: wrap;
  gap: var(--ss-space-md);
  margin-bottom: var(--ss-space-md);
  padding: var(--ss-space-md);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--ss-radius-lg);
  background: var(--ss-layer-muted);
}

.ss-youtube-canvas-modal__toggle {
  display: flex;
  align-items: center;
  gap: var(--ss-space-sm);
  cursor: pointer;
}

.ss-youtube-canvas-modal__toggle-checkbox {
  width: 16px;
  height: 16px;
  cursor: pointer;
  accent-color: var(--interactive-accent);
}

.ss-youtube-canvas-modal__toggle-label {
  display: flex;
  align-items: center;
  gap: var(--ss-space-xs);
  font-size: var(--ss-font-size-sm);
  color: var(--text-normal);
  cursor: pointer;
  user-select: none;
}

.ss-youtube-canvas-modal__toggle-icon {
  display: flex;
  align-items: center;
  color: var(--text-muted);
}

.ss-youtube-canvas-modal__toggle-icon svg {
  width: 14px;
  height: 14px;
}

.ss-youtube-canvas-modal__toggle-generated {
  display: flex;
  align-items: center;
  color: var(--color-green, #2ecc71);
  margin-left: var(--ss-space-xs);
}

.ss-youtube-canvas-modal__toggle-generated svg {
  width: 14px;
  height: 14px;
}

/* Tab Bar */
.ss-youtube-canvas-modal__tab-bar {
  display: flex;
  gap: 0;
  border-bottom: 1px solid var(--background-modifier-border);
  margin-bottom: var(--ss-space-md);
}

.ss-youtube-canvas-modal__tab {
  padding: var(--ss-space-sm) var(--ss-space-md);
  font-size: var(--ss-font-size-sm);
  font-weight: var(--ss-font-weight-medium);
  color: var(--text-muted);
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all var(--ss-transition-fast);
  display: flex;
  align-items: center;
  gap: var(--ss-space-xs);
}

.ss-youtube-canvas-modal__tab:hover {
  color: var(--text-normal);
  background: var(--background-modifier-hover);
}

.ss-youtube-canvas-modal__tab--active {
  color: var(--interactive-accent);
  border-bottom-color: var(--interactive-accent);
}

.ss-youtube-canvas-modal__tab-spinner {
  display: flex;
  animation: ss-youtube-canvas-spin 1s linear infinite;
}

.ss-youtube-canvas-modal__tab-spinner svg {
  width: 12px;
  height: 12px;
}

@keyframes ss-youtube-canvas-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Tab Content - same height as transcript preview */
.ss-youtube-canvas-modal__tab-content {
  min-height: 150px;
  max-height: 150px;
  overflow-y: auto;
  padding: var(--ss-space-md);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--ss-radius-lg);
  background: var(--ss-layer-base);
  margin-bottom: var(--ss-space-md);
}

.ss-youtube-canvas-modal__tab-content-text {
  font-size: var(--ss-font-size-sm);
  color: var(--text-normal);
  line-height: 1.6;
  white-space: pre-wrap;
}

/* Responsive adjustments */
@media (max-width: 600px) {
  .ss-youtube-canvas-modal__preview {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .ss-youtube-canvas-modal__thumbnail {
    width: 100%;
    max-width: 280px;
    height: auto;
    aspect-ratio: 16 / 9;
  }

  .ss-youtube-canvas-modal__toggles {
    justify-content: center;
  }

  .ss-youtube-canvas-modal__tab-bar {
    flex-wrap: wrap;
  }
}


/* custom-endpoint.css */
/**
 * Custom Endpoint Settings Styles
 *
 * Styles for the custom transcription endpoint settings in the recorder tab
 */

.ss-custom-endpoint-settings {
  margin-top: 12px;
  padding: 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
}

.ss-custom-endpoint-info {
  margin-bottom: 12px;
  padding: 8px 10px;
  border-radius: 4px;
  background-color: var(--background-primary);
  border-left: 3px solid var(--text-accent);
  font-size: 12px;
  color: var(--text-muted);
  line-height: 1.4;
}

.ss-custom-endpoint-settings .setting-item {
  border-top: none;
  padding-top: 12px;
}

.ss-custom-endpoint-settings .setting-item:first-child {
  padding-top: 0;
}

/* Preset buttons container */
.ss-custom-endpoint-settings .setting-item-control {
  flex-wrap: wrap;
  gap: 8px;
}

/* Preset buttons */
.ss-custom-endpoint-settings button {
  min-width: 80px;
}

/* Model selection container */
.ss-model-selection-container {
  display: flex;
  width: 100%;
}

/* Model dropdown */
.ss-model-selection-container select {
  width: 100%;
  margin-right: 0;
}

/* Model text input */
.ss-model-selection-container input {
  width: 100%;
}


/* favorite-toggle.css */
/* Favorite Toggle Component Styles */

.systemsculpt-favorite-toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.05s ease;
  position: relative;
  margin: 0 4px;
  overflow: visible;
}

.systemsculpt-favorite-toggle:hover {
  background-color: var(--interactive-hover);
}

.systemsculpt-favorite-toggle.is-active {
  transform: scale(0.95);
}

.systemsculpt-favorite-toggle.is-focused {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
  outline: none;
}

/* Icon wrapper allows for better animation control */
.systemsculpt-favorite-icon-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  z-index: 2;
}

/* Enhanced star icon appearance */
.systemsculpt-favorite-toggle .systemsculpt-favorite-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.05s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* Favorited state styling */
.systemsculpt-favorite-toggle.is-favorite .systemsculpt-favorite-icon .svg-icon,
.systemsculpt-favorite-toggle.is-favorite .systemsculpt-favorite-icon svg,
.systemsculpt-favorite-toggle.is-favorite svg {
  color: var(--color-yellow) !important;
  fill: var(--color-yellow) !important;
  stroke: var(--color-yellow) !important;
  filter: drop-shadow(0 0 4px color-mix(in srgb, rgb(255, 217, 0) 50%, var(--ss-layer-base)));
  opacity: 1 !important;
  visibility: visible !important;
}

/* Unfavorited state styling */
.systemsculpt-favorite-toggle:not(.is-favorite) .systemsculpt-favorite-icon .svg-icon,
.systemsculpt-favorite-toggle:not(.is-favorite) .systemsculpt-favorite-icon svg,
.systemsculpt-favorite-toggle:not(.is-favorite) svg {
  color: var(--text-muted);
  fill: var(--ss-layer-base);
  stroke: var(--text-muted);
  stroke-width: 1px;
}

/* Hover effects for unfavorited state */
.systemsculpt-favorite-toggle:not(.is-favorite):hover .systemsculpt-favorite-icon .svg-icon,
.systemsculpt-favorite-toggle:not(.is-favorite).is-focused .systemsculpt-favorite-icon .svg-icon {
  color: var(--text-normal);
  stroke: var(--text-normal);
}

/* Hover effects for favorited state */
.systemsculpt-favorite-toggle.is-favorite:hover .systemsculpt-favorite-icon .svg-icon,
.systemsculpt-favorite-toggle.is-favorite.is-focused .systemsculpt-favorite-icon .svg-icon {
  filter: drop-shadow(0 0 5px color-mix(in srgb, rgb(255, 217, 0) 50%, var(--ss-layer-base)));
  transform: scale(1.1);
}

/* Animation for toggling favorite status */
.systemsculpt-favorite-toggle .systemsculpt-favorite-icon .svg-icon {
  transition: transform 0.05s cubic-bezier(0.175, 0.885, 0.32, 1.275),
              color 0.05s ease,
              fill 0.05s ease,
              filter 0.05s ease;
}

.systemsculpt-favorite-toggle.is-active .systemsculpt-favorite-icon .svg-icon {
  transform: scale(0.9);
}

/* Animation feedback element for status change */
.systemsculpt-favorite-feedback {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 24px;
  height: 24px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
}

/* Animation for adding to favorites */
.systemsculpt-favorite-feedback.animate-favorite {
  animation: favorite-pulse 0.1s ease-out forwards;
}

/* Animation for removing from favorites */
.systemsculpt-favorite-feedback.animate-unfavorite {
  animation: unfavorite-pulse 0.1s ease-out forwards;
}

@keyframes favorite-pulse {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 0;
    background-color: color-mix(in srgb, rgb(255, 217, 0) 0%, var(--ss-layer-base));
  }
  30% {
    opacity: 0.6;
    background-color: color-mix(in srgb, rgb(255, 217, 0) 30%, var(--ss-layer-base));
  }
  100% {
    transform: translate(-50%, -50%) scale(2);
    opacity: 0;
    background-color: color-mix(in srgb, rgb(255, 217, 0) 0%, var(--ss-layer-base));
  }
}

@keyframes unfavorite-pulse {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0;
    background-color: color-mix(in srgb, rgb(255, 255, 255) 0%, var(--ss-layer-base));
  }
  30% {
    opacity: 0.3;
    background-color: color-mix(in srgb, rgb(200, 200, 200) 20%, var(--ss-layer-base));
  }
  100% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 0;
    background-color: color-mix(in srgb, rgb(200, 200, 200) 0%, var(--ss-layer-base));
  }
}

/* Load Chat Modal Integrations */
.systemsculpt-chat-favorite {
  margin-right: 8px;
}

.systemsculpt-modal-list-item {
  display: flex;
  align-items: flex-start;
}

.systemsculpt-modal-list-item .systemsculpt-favorite-toggle {
  height: 28px;
  width: 28px;
  margin: 0;
  transform: translateY(2px);
}

.systemsculpt-modal-list-item .systemsculpt-favorite-toggle:hover {
  background-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 10%, var(--ss-layer-base));
}

/* Highlight for favorited items in the list */
.systemsculpt-modal-list-item.has-favorite {
  border-left: 3px solid var(--color-yellow);
  background-color: color-mix(in srgb, rgb(255, 217, 0) 3%, var(--ss-layer-base));
}

.systemsculpt-modal-list-item.has-favorite:hover {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 7%, var(--ss-layer-base));
}

.systemsculpt-modal-list-item.has-favorite.is-selected {
  background-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 10%, var(--ss-layer-base));
  border-left-color: var(--color-yellow);
}

/* Favorites filter toggle in search bar */
.systemsculpt-favorites-filter {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  transition: all 0.05s ease;
  white-space: nowrap;
  font-size: 0.85rem;
}

.systemsculpt-favorites-filter:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-favorites-filter.is-active {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 10%, var(--ss-layer-base));
  border-color: color-mix(in srgb, rgb(255, 217, 0) 30%, var(--ss-layer-base));
}

.systemsculpt-favorites-filter.is-active svg {
  color: var(--color-yellow);
  fill: var(--color-yellow);
}

/* Favorites filter toggle states */
.systemsculpt-favorites-filter.is-focused {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
  outline: none;
}

.systemsculpt-favorites-filter.is-clicking {
  transform: scale(0.95);
}

/* Animation for favorites filter */
.systemsculpt-favorites-filter {
  transition: transform 0.05s ease, background-color 0.05s ease, box-shadow 0.05s ease, border-color 0.05s ease;
}

/* Improve icon in favorites filter */
.systemsculpt-favorites-filter .systemsculpt-favorites-icon {
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-favorites-filter.is-active .systemsculpt-favorites-icon svg {
  color: var(--color-yellow);
  fill: var(--color-yellow);
  filter: drop-shadow(0 0 2px color-mix(in srgb, rgb(255, 217, 0) 40%, var(--ss-layer-base)));
}

/* Responsive styles */
@media (max-width: 768px) {
  .systemsculpt-favorites-filter span:not(.svg-icon) {
    display: none;
  }
  
  .systemsculpt-favorites-filter {
    padding: 8px;
  }
}

/* Make sure dark theme has good contrast */
.theme-dark .systemsculpt-favorites-filter.is-active {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 15%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-modal-list-item.has-favorite {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 5%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-modal-list-item.has-favorite:hover {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 10%, var(--ss-layer-base));
}

/* Model list favorite toggle positioning - improved position and size */
.ss-modal-item .systemsculpt-favorite-toggle {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 34px;
  height: 34px;
  margin: 0;
  border-radius: 50%;
  background-color: var(--ss-layer-base);
}

.ss-modal-item:hover .systemsculpt-favorite-toggle,
.ss-modal-item:focus-within .systemsculpt-favorite-toggle {
  background-color: var(--background-modifier-hover);
}

/* Make favorited items in list more visible */
.ss-modal-item.ss-selected .systemsculpt-favorite-toggle.is-favorite {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 10%, var(--ss-layer-base));
}

/* Favorites filter toggle styles moved to standardized-modal.css */

/* Empty state for favorites */
.systemsculpt-favorites-empty-state {
  text-align: center;
  padding: 32px 24px;
  color: var(--text-muted);
  font-size: 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 240px;
  background-color: var(--background-secondary);
  border-radius: 8px;
  margin: 16px;
  box-shadow: inset 0 0 0 1px var(--background-modifier-border);
}

.systemsculpt-favorites-empty-state .svg-icon {
  font-size: 40px;
  margin-bottom: 20px;
  color: var(--text-faint);
  opacity: 0.8;
}

.systemsculpt-favorites-empty-state h4 {
  margin-bottom: 12px;
  font-weight: 600;
  color: var(--text-normal);
  font-size: 16px;
}

.systemsculpt-favorites-empty-state p {
  max-width: 300px;
  margin: 0 auto;
  line-height: 1.6;
}

/* Model Selection Modal enhancements */
.systemsculpt-model-selection-modal .systemsculpt-list {
  --favorite-accent-color: color-mix(in srgb, rgb(255, 217, 0) 10%, var(--ss-layer-base));
}

/* Create a subtle highlight for favorited models in the list */
.systemsculpt-model-selection-modal .ss-modal-item.has-favorite {
  background-color: var(--favorite-accent-color);
  border-left: 2px solid var(--color-yellow);
}

.systemsculpt-model-selection-modal .ss-modal-item.has-favorite:hover {
  background-color: var(--background-modifier-hover);
  border-left-color: var(--color-yellow);
}

.systemsculpt-model-selection-modal .ss-modal-item.has-favorite.ss-selected {
  background-color: var(--interactive-accent);
  border-left-color: var(--color-yellow);
}

/* IMPORTANT: Ensure all model items are fully opaque regardless of filter state */
.systemsculpt-model-selection-modal .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Prevent any parent container from making items semi-transparent */
.systemsculpt-model-selection-modal .ss-modal__list .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Ensure items remain fully visible even when not favorited */
.systemsculpt-model-selection-modal .ss-modal__item:not(.has-favorite) {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Make favorites more distinctive */
.systemsculpt-model-selection-modal .ss-modal-item.has-favorite::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 8px;
  transform: translateY(-50%);
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background-color: var(--color-yellow);
  box-shadow: 0 0 4px color-mix(in srgb, rgb(255, 217, 0) 50%, var(--ss-layer-base));
}

/* Add fade in animation for favorites - updated to not affect opacity */
@keyframes favorite-fade-in {
  from {
    transform: translateY(-5px);
  }
  to {
    transform: translateY(0);
  }
}

.systemsculpt-model-selection-modal .systemsculpt-favorites-filter.is-active + * .ss-modal-item {
  animation: favorite-fade-in 0.3s ease-out forwards;
  opacity: 1 !important; /* Ensure full opacity during animation */
}

/* Optimize the position of the favorite button in the list */
.systemsculpt-model-selection-modal .ss-modal-item .systemsculpt-favorite-toggle {
  z-index: 5;
}

/* Filter container styles moved to standardized-modal.css */

/* Enhanced visibility for favorite toggle buttons in list items */
.systemsculpt-favorite-button-container {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Use a more visible star */
.systemsculpt-favorite-toggle {
  background: color-mix(in srgb, rgb(0, 0, 0) 8%, var(--ss-layer-base));
  border-radius: 50%;
  width: 28px;
  height: 28px;
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  z-index: 20;
}

.systemsculpt-favorite-toggle:hover {
  transform: scale(1.2);
  transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  background-color: color-mix(in srgb, rgb(0, 0, 0) 12%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-favorite-toggle {
  background: color-mix(in srgb, rgb(255, 255, 255) 8%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-favorite-toggle:hover {
  background-color: color-mix(in srgb, rgb(255, 255, 255) 15%, var(--ss-layer-base));
}

/* Make the star icon more visible */
.systemsculpt-favorite-toggle .systemsculpt-favorite-icon .svg-icon {
  width: 18px;
  height: 18px;
}

/* Make the favorited star more vibrant */
.systemsculpt-favorite-toggle.is-favorite .systemsculpt-favorite-icon .svg-icon {
  color: var(--color-yellow);
  fill: var(--color-yellow);
  filter: drop-shadow(0 0 4px color-mix(in srgb, rgb(255, 217, 0) 50%, var(--ss-layer-base)));
}

/* Optimize spacing for list items in the modal */
.systemsculpt-model-selection-modal .ss-modal__item {
  position: relative;
}

/* Create a clearer hover effect for the list item's favorite toggle */
.systemsculpt-model-selection-modal .ss-modal__item:hover .systemsculpt-favorite-toggle {
  background: color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-model-selection-modal .ss-modal__item:hover .systemsculpt-favorite-toggle {
  background: color-mix(in srgb, rgb(255, 255, 255) 15%, var(--ss-layer-base));
}

/* Ensure the favorite toggle has proper positioning context */
.systemsculpt-model-selection-modal [role="button"],
.systemsculpt-favorite-toggle[role="button"] {
  position: relative;
}

/* Fix: Ensure all model items have full opacity regardless of favorites filter state */
.systemsculpt-model-selection-modal .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Ensure items remain fully visible when favorites filter is active */
.systemsculpt-favorites-filter.is-active ~ * .ss-modal__item,
.systemsculpt-model-selection-modal.favorites-active .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Remove any inherited opacity from parent containers */
.systemsculpt-model-selection-modal .ss-modal__list,
.systemsculpt-model-selection-modal .ss-modal__content {
  opacity: 1 !important;
}

/* Make favorites more noticeable in the list */
.systemsculpt-model-selection-modal .has-favorite {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 5%, var(--ss-layer-base));
}

.systemsculpt-model-selection-modal .has-favorite:hover {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 10%, var(--ss-layer-base));
}

/* Completely revised model list item layout */
.ss-modal__item {
  display: grid;
  grid-template-columns: auto 1fr auto auto;
  grid-template-areas: "icon content badge favorite";
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  position: relative;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.05s ease;
}

/* Style for the model icon */
.ss-modal__item-icon {
  grid-area: icon;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

/* Style for the main content area */
.ss-modal__item-content {
  grid-area: content;
  min-width: 0; /* Allows content to shrink properly */
  overflow: hidden;
}

/* Style for the provider badge */
.ss-modal__item .systemsculpt-provider-badge,
.ss-modal__item .provider-badge {
  grid-area: badge;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.8em;
  white-space: nowrap;
  background-color: var(--background-modifier-success);
  color: var(--text-on-accent);
  margin: 0 4px;
}

/* Different colors for different providers */
.ss-modal__item[data-provider="openai"] .provider-badge {
  background-color: #10a37f; /* OpenAI green */
}

.ss-modal__item[data-provider="anthropic"] .provider-badge {
  background-color: #b300ff; /* Anthropic purple */
}

.ss-modal__item[data-provider="openrouter"] .provider-badge {
  background-color: #0066cc; /* OpenRouter blue */
}

/* Style for the favorite toggle container */
.systemsculpt-favorite-button-container {
  grid-area: favorite;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 5;
  position: relative;
  width: 36px;
  height: 36px;
  margin: 0;
}

/* Style for the favorite toggle button - removing absolute positioning */
.systemsculpt-favorite-toggle {
  display: flex;
  visibility: visible;
  opacity: 1;
  cursor: pointer;
  color: var(--text-muted);
  transition: all 0.05s ease;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: color-mix(in srgb, rgb(0, 0, 0) 8%, var(--ss-layer-base));
  align-items: center;
  justify-content: center;
}

/* Remove absolute positioning from favorite toggle in modal items */
.ss-modal-item .systemsculpt-favorite-toggle {
  position: relative;
  right: auto;
  top: auto;
  transform: none;
}

/* Star color when favorited */
/* Ensure all SVGs in favorited state are yellow and visible */
.systemsculpt-favorite-toggle.is-favorite svg {
  color: var(--color-yellow) !important;
  fill: var(--color-yellow) !important;
  stroke: var(--color-yellow) !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Hover effect for star */
.systemsculpt-favorite-toggle:hover {
  transform: scale(1.2);
}

/* Hover effect for non-favorited star in light theme */
body:not(.theme-dark) .systemsculpt-favorite-toggle:not(.is-favorite):hover svg {
  color: color-mix(in srgb, rgb(255, 204, 0) 70%, var(--ss-layer-base));
}

/* Hover effect for non-favorited star in dark theme */
.theme-dark .systemsculpt-favorite-toggle:not(.is-favorite):hover svg {
  color: color-mix(in srgb, rgb(255, 204, 0) 70%, var(--ss-layer-base));
}

/* Make items with favorites stand out with subtle highlighting */
.ss-modal__item.has-favorite {
  background-color: color-mix(in srgb, rgb(255, 204, 0) 5%, var(--ss-layer-base));
  border-left: 2px solid var(--color-yellow);
}

.ss-modal__item.has-favorite:hover {
  background-color: color-mix(in srgb, rgb(255, 204, 0) 8%, var(--ss-layer-base));
}

/* Focused state for keyboard navigation */
.ss-modal__item:focus-visible {
  outline: 2px solid var(--interactive-accent);
  outline-offset: -1px;
}

/* Add subtle transition for hover effects */
.ss-modal__item {
  transition: background-color 0.05s ease;
}

.ss-modal__item:hover {
  /* Removed lift effect */
}

/* Add focus animation for the favorite toggle */
.systemsculpt-favorite-toggle:focus-visible {
  outline: 2px solid var(--interactive-accent);
  outline-offset: 2px;
  animation: pulse-focus 1.5s infinite;
}

@keyframes pulse-focus {
  0% {
    box-shadow: 0 0 0 0 color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 40%, var(--ss-layer-base));
  }
  70% {
    box-shadow: 0 0 0 6px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 0%, var(--ss-layer-base));
  }
  100% {
    box-shadow: 0 0 0 0 color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 0%, var(--ss-layer-base));
  }
}

/* Handle long text in model names and descriptions */
.ss-modal__item-title {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

.ss-modal__item-description {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

/* Ensure proper touch target sizes for mobile */
@media (max-width: 768px) {
  .systemsculpt-favorite-toggle {
    width: 36px;
    height: 36px;
    min-width: 36px; /* Ensure minimum touch target size */
  }
  
  /* Reduce badge text size on small screens */
  .ss-modal__item .systemsculpt-provider-badge,
  .ss-modal__item .provider-badge {
    font-size: 0.75em;
    padding: 2px 4px;
  }
}

/* Responsive adjustments for smaller screens */
@media (max-width: 500px) {
  .ss-modal__item {
    gap: 8px;
    padding: 8px;
  }
  
  /* Adjust font sizes for smaller screens */
  .ss-modal__item-title {
    font-size: 14px;
  }
  
  .ss-modal__item-description {
    font-size: 12px;
  }
  
  /* Further reduce gap for very small screens */
  @media (max-width: 375px) {
    .ss-modal__item {
      gap: 6px;
/* Filter row improvement styles moved to standardized-modal.css */
      padding: 6px;
    }
    
    /* For very narrow screens, allow provider badges to wrap text */
    .ss-modal__item .systemsculpt-provider-badge,
    .ss-modal__item .provider-badge {
      white-space: normal;
      text-align: center;
      line-height: 1.2;
      max-width: 70px;
    }
  }
} 


/* daily-setup.css */
.systemsculpt-daily-navigator {
  max-width: min(560px, 92vw);
}

.systemsculpt-daily-navigator .modal-content {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.daily-navigator-header h2 {
  margin: 0;
  font-size: 1.3em;
}

.daily-navigator-subtitle {
  margin: 4px 0 12px;
  color: var(--text-muted);
}

.daily-navigator-quick-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.daily-navigator-quick-actions button {
  flex: 1 1 200px;
  min-width: 180px;
}

.daily-navigator-submit {
  align-self: flex-start;
}

.daily-navigator-recent {
  margin-top: 8px;
}

.daily-navigator-recent h3 {
  font-size: 1em;
  margin-bottom: 8px;
}

.daily-navigator-recent-list {
  display: grid;
  gap: 8px;
}

.daily-navigator-recent-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 12px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  cursor: pointer;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.daily-navigator-recent-item:hover,
.daily-navigator-recent-item:focus {
  border-color: color-mix(in srgb, var(--interactive-accent) 55%, var(--ss-layer-base));
  box-shadow: 0 4px 10px color-mix(in srgb, rgb(0, 0, 0) 8%, var(--ss-layer-base));
}

.daily-navigator-recent-label {
  font-weight: 500;
}

.daily-navigator-recent-item .is-available {
  color: var(--text-success);
}

.daily-navigator-recent-item .is-missing {
  color: var(--text-warning);
}

.daily-navigator-empty {
  color: var(--text-muted);
  font-style: italic;
}

@media (max-width: 600px) {
  .daily-navigator-quick-actions button {
    flex: 1 1 100%;
  }
}


/* progress-modal.css */
/**
 * Progress Modal Component
 *
 * Styles for the document conversion progress modal
 */

/* Main modal container */
.systemsculpt-progress-modal {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: var(--ss-color-bg-primary, var(--background-primary, #ffffff));
  border-radius: 12px;
  padding: 20px;
  width: 350px;
  max-width: 90vw;
  box-shadow: 0 4px 20px color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
  z-index: 1000; /* Above most elements but not settings modals */
  display: flex;
  flex-direction: column;
  gap: 16px;
  border: 1px solid var(--background-modifier-border);
  animation: slide-in-right 0.3s ease forwards;
}

/* Modal header */
.systemsculpt-progress-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 8px;
}

.systemsculpt-progress-title {
  font-size: 1.2em;
  font-weight: 600;
  color: var(--text-normal);
  margin: 0;
  flex: 1;
}

.systemsculpt-progress-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-accent);
  font-size: 1.4em;
}

/* Progress bar */
.systemsculpt-progress-bar-track {
  width: 100%;
  height: 10px;
  background: var(--background-modifier-border);
  border-radius: 5px;
  overflow: hidden;
}

.systemsculpt-progress-bar {
  height: 100%;
  background: var(--interactive-accent);
  border-radius: 5px;
  transition: width 0.25s ease;
  width: 0%;
}

/* Progress status */
.systemsculpt-progress-status {
  display: flex;
  align-items: center;
  gap: 10px;
  color: var(--text-normal);
  font-size: 0.95em;
  margin: 8px 0;
  padding: 8px 12px;
  background: var(--background-secondary);
  border-radius: 6px;
}

.systemsculpt-progress-status-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-accent);
}

.systemsculpt-progress-status-text {
  flex: 1;
  min-width: 0;
}

.systemsculpt-progress-percent {
  color: var(--text-muted);
  font-variant-numeric: tabular-nums;
}

/* Progress steps */
.systemsculpt-progress-steps {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 8px;
}

.systemsculpt-progress-step {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  border-radius: 6px;
  background: var(--background-secondary);
  transition: all 0.2s ease;
}

.systemsculpt-progress-step-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--background-modifier-border);
  color: var(--text-muted);
}

.systemsculpt-progress-step-text {
  flex: 1;
  font-size: 0.9em;
  color: var(--text-muted);
}

/* Active step */
.systemsculpt-progress-step.active {
  background: rgb(var(--interactive-accent-rgb));
}

.systemsculpt-progress-step.active .systemsculpt-progress-step-icon {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-progress-step.active .systemsculpt-progress-step-text {
  color: var(--text-normal);
  font-weight: 500;
}

.systemsculpt-progress-step.error {
  background: color-mix(in srgb, rgb(var(--color-red-rgb)) 10%, var(--ss-layer-base));
  border: 1px solid color-mix(in srgb, rgb(var(--color-red-rgb)) 30%, var(--ss-layer-base));
}

/* Completed step */
.systemsculpt-progress-step.completed .systemsculpt-progress-step-icon {
  background: var(--color-green);
  color: white;
}

/* Buttons */
.systemsculpt-progress-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 8px;
}

.systemsculpt-progress-button {
  padding: 8px 16px;
  border-radius: 6px;
  font-size: 0.9em;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  background: var(--background-modifier-border);
  color: var(--text-normal);
  border: none;
}

.systemsculpt-progress-button:hover {
  background: var(--background-modifier-border-hover);
  transform: translateY(-1px);
}

.systemsculpt-progress-button.primary {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-progress-button.primary:hover {
  background: var(--interactive-accent-hover);
}

.systemsculpt-progress-detail {
  font-size: 0.85em;
  color: var(--text-muted);
  margin-top: 4px;
}

.systemsculpt-progress-detail.is-hidden {
  display: none;
}

.systemsculpt-progress-modal.is-complete .systemsculpt-progress-bar {
  background: var(--text-success);
}

.systemsculpt-progress-modal.is-error .systemsculpt-progress-bar {
  background: var(--color-red);
}

/* Completion dialog */
.systemsculpt-completion-dialog {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: var(--ss-color-bg-primary, var(--background-primary, #ffffff));
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 4px 20px color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: 16px;
  border: 1px solid var(--background-modifier-border);
  max-width: 350px;
  animation: slide-in-right 0.3s ease forwards;
}

@keyframes slide-in-right {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.systemsculpt-completion-header {
  display: flex;
  align-items: center;
  gap: 12px;
}

.systemsculpt-completion-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-green);
  font-size: 1.4em;
}

.systemsculpt-completion-title {
  font-size: 1.1em;
  font-weight: 600;
  color: var(--text-normal);
  margin: 0;
  flex: 1;
}

.systemsculpt-completion-message {
  color: var(--text-muted);
  font-size: 0.9em;
  line-height: 1.5;
}

.systemsculpt-completion-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

/* Animation for spinner */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.systemsculpt-spinner {
  animation: spin 1s linear infinite;
}


/* model-indicator.css */
/**
 * Model Indicator Component
 * 
 * Styles for the model indicator in chat view
 */

/* Base chip style for compact, tabbable pills */
.systemsculpt-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 9999px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  font-size: 12px;
  line-height: 1;
  cursor: pointer;
  transition: background-color 0.15s ease, color 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease;
  white-space: nowrap;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Ensure inner text truncates cleanly inside pills */
.systemsculpt-chip span {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 100%;
}

/* Keep legacy classes working while using the shared chip look */
.systemsculpt-model-indicator {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 9999px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  font-size: 12px;
  line-height: 1;
  cursor: pointer;
  transition: background-color 0.15s ease, color 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease;
  white-space: nowrap;
}

.systemsculpt-chip:hover,
.systemsculpt-model-indicator:hover {
  background-color: var(--background-secondary-alt);
  color: var(--text-normal);
  border-color: var(--interactive-accent);
}

.systemsculpt-chip:focus-visible,
.systemsculpt-model-indicator:focus-visible {
  outline: 2px solid var(--interactive-accent);
  outline-offset: 2px;
}

.systemsculpt-model-indicator.systemsculpt-no-model {
  font-style: italic;
  color: var(--text-muted);
}

.systemsculpt-model-indicator-icon {
  display: inline-flex;
  align-items: center;
  margin-right: 6px;
  color: var(--text-muted);
  flex-shrink: 0;
}

.systemsculpt-model-indicator-icon svg {
  width: 14px;
  height: 14px;
}

.systemsculpt-chip:hover .systemsculpt-model-indicator-icon,
.systemsculpt-model-indicator:hover .systemsculpt-model-indicator-icon {
  color: var(--text-normal);
}

.systemsculpt-model-indicator-arrow {
  margin-left: auto;
  display: flex;
  align-items: center;
  color: var(--text-muted);
  flex-shrink: 0;
}

.systemsculpt-model-indicator-arrow svg {
  width: 14px;
  height: 14px;
}

/* Locked system prompt state when agent mode is active */
.systemsculpt-system-prompt-locked {
  opacity: 0.7;
  cursor: default !important;
  pointer-events: none; /* Prevent all interactions */
}

.systemsculpt-system-prompt-locked:hover {
  background-color: var(--ss-layer-base) !important; /* Remove hover effect */
}

.systemsculpt-system-prompt-locked .systemsculpt-model-indicator-arrow {
  color: var(--text-accent);
}

.systemsculpt-system-prompt-locked .systemsculpt-model-indicator-arrow svg {
  color: var(--text-accent);
}

/* Locked model state when agent mode is active */
.systemsculpt-model-locked {
  opacity: 0.7;
  cursor: default !important;
  pointer-events: none; /* Prevent all interactions */
}

.systemsculpt-model-locked:hover {
  background-color: var(--ss-layer-base) !important; /* Remove hover effect */
}

.systemsculpt-model-locked .systemsculpt-model-indicator-arrow {
  color: var(--text-accent);
}

.systemsculpt-model-locked .systemsculpt-model-indicator-arrow svg {
  color: var(--text-accent);
}

/* Inline pill sizing for compact row placement */
.systemsculpt-model-indicator-section.inline .systemsculpt-chip {
  max-width: 280px;
}


/* resume-chat.css */
/* Resume Chat Button Container */
.systemsculpt-resume-chat-button {
  position: sticky;
  top: 0;
  display: flex;
  justify-content: flex-end;
  padding: 16px;
  padding-right: 50px !important; /* 50px from right edge */
  background: var(--background-primary);
  border-bottom: 1px solid var(--background-modifier-border);
  z-index: 10;
  margin-bottom: 16px;
  margin-left: 0;
  margin-right: 0;
}

/* Resume Chat Button */
.systemsculpt-resume-chat-btn {
  padding: 12px 24px;
  font-size: 16px;
  font-weight: 600;
  background: var(--interactive-accent) !important;
  color: var(--text-on-accent) !important;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgb(0, 0, 0);
  display: flex;
  align-items: center;
  gap: 8px;
}

.systemsculpt-resume-chat-btn:hover {
  background: var(--interactive-accent-hover) !important;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgb(0, 0, 0);
}

.systemsculpt-resume-chat-btn:active {
  transform: translateY(0);
  box-shadow: 0 1px 2px rgb(0, 0, 0);
}

/* Add icon to button */
.systemsculpt-resume-chat-btn::before {
  content: "";
  width: 20px;
  height: 20px;
  background-color: currentColor;
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z'%3E%3C/path%3E%3C/svg%3E");
  mask-repeat: no-repeat;
  mask-size: contain;
  mask-position: center;
}

/* Dark mode adjustments */
.theme-dark .systemsculpt-resume-chat-button {
  background: var(--background-primary);
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .systemsculpt-resume-chat-button {
    padding: 12px;
  }

  .systemsculpt-resume-chat-btn {
    padding: 10px 20px;
    font-size: 14px;
  }

  .systemsculpt-resume-chat-btn::before {
    width: 18px;
    height: 18px;
  }
}

/* Reading mode specific adjustments */
.markdown-reading-view .systemsculpt-resume-chat-button {
  margin-top: 0;
  margin-left: -16px;
  margin-right: -16px;
  border-radius: 0;
  padding-right: 50px !important; /* Maintain 50px from right edge */
}

/* Source mode specific adjustments */
.cm-editor .systemsculpt-resume-chat-button {
  position: absolute;
  top: 0;
  right: 0;
  left: auto;
  background: var(--ss-layer-base);
  border: none;
  padding: 8px;
  padding-right: 50px !important; /* Maintain 50px from right edge */
}


/* diff-viewer.css */
/**
 * Diff Viewer Styles - Optimized for tool call UI
 */

.systemsculpt-diff-viewer {
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  background: var(--background-primary);
  overflow: hidden;
  font-size: var(--font-ui-smaller);
}

/* Compact Header */
.systemsculpt-diff-header {
  padding: 6px 10px;
  background: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-diff-file-info {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.systemsculpt-diff-filename {
  font-family: var(--font-monospace);
  font-weight: 500;
  color: var(--text-normal);
  font-size: var(--font-ui-smaller);
  flex-shrink: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.systemsculpt-diff-stats {
  font-family: var(--font-monospace);
  font-size: var(--font-ui-smallest);
  font-weight: 600;
  padding: 2px 6px;
  border-radius: var(--radius-xs);
  background: var(--background-modifier-form-field);
  color: var(--text-muted);
  flex-shrink: 0;
  min-width: fit-content;
}

.systemsculpt-diff-stats.systemsculpt-diff-no-changes {
  color: var(--text-faint);
  background: var(--background-modifier-hover);
}

/* Individual spans for additions and deletions */
.systemsculpt-diff-additions {
  color: var(--color-green);
}

.systemsculpt-diff-deletions {
  color: var(--color-red);
}

.systemsculpt-diff-total {
  color: var(--text-muted);
}

/* Background colors based on what types of changes exist */
.systemsculpt-diff-stats.systemsculpt-diff-has-additions {
  background: color-mix(in srgb, rgb(var(--color-green-rgb)) 10%, var(--ss-layer-base));
}

.systemsculpt-diff-stats.systemsculpt-diff-has-deletions {
  background: color-mix(in srgb, rgb(var(--color-red-rgb)) 10%, var(--ss-layer-base));
}

.systemsculpt-diff-stats.systemsculpt-diff-has-additions.systemsculpt-diff-has-deletions {
  background: color-mix(in srgb, rgb(var(--color-orange-rgb)) 10%, var(--ss-layer-base));
}

/* Content */
.systemsculpt-diff-content {
  max-height: clamp(120px, 30vh, 200px);
  overflow-y: auto;
  font-family: var(--font-monospace);
}

.systemsculpt-diff-no-changes-notice {
  padding: 16px;
  text-align: center;
  color: var(--text-faint);
  font-style: italic;
  font-size: var(--font-ui-smaller);
}

/* Hunks */
.systemsculpt-diff-hunk {
  border-bottom: 1px solid var(--background-modifier-border-focus);
}

.systemsculpt-diff-hunk:last-child {
  border-bottom: none;
}

.systemsculpt-diff-hunk-separated {
  margin-top: 8px;
  border-top: 2px solid var(--background-modifier-border);
  position: relative;
}

.systemsculpt-diff-hunk-separated::before {
  content: '⋯';
  position: absolute;
  top: -10px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--background-primary);
  color: var(--text-faint);
  padding: 0 8px;
  font-size: var(--font-ui-smallest);
}

.systemsculpt-diff-hunk-header {
  font-family: var(--font-monospace);
  font-size: var(--font-ui-smallest);
  padding: 6px 10px;
  color: var(--text-muted);
  background: var(--background-modifier-hover);
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-diff-lines {
  /* Container for lines in a hunk */
}

/* Lines */
.systemsculpt-diff-line {
  display: flex;
  align-items: stretch;
  min-height: 18px;
  line-height: 18px;
  font-size: var(--font-ui-smaller);
  border-left: 2px solid var(--ss-layer-base);
}

.systemsculpt-diff-line-added {
  background: color-mix(in srgb, rgb(var(--color-green-rgb)) 8%, var(--ss-layer-base));
  border-left-color: var(--color-green);
}

.systemsculpt-diff-line-removed {
  background: color-mix(in srgb, rgb(var(--color-red-rgb)) 8%, var(--ss-layer-base));
  border-left-color: var(--color-red);
}

.systemsculpt-diff-line-unchanged {
  background: var(--background-primary);
  opacity: 0.7;
}

.systemsculpt-diff-line:hover {
  background: var(--background-modifier-hover);
}

.systemsculpt-diff-line-added:hover {
  background: color-mix(in srgb, rgb(var(--color-green-rgb)) 12%, var(--ss-layer-base));
}

.systemsculpt-diff-line-removed:hover {
  background: color-mix(in srgb, rgb(var(--color-red-rgb)) 12%, var(--ss-layer-base));
}

/* Line numbers (optional, compact) */

.systemsculpt-diff-line-number {
  min-width: 36px;
  color: var(--text-faint);
  font-size: var(--font-ui-smallest);
  text-align: right;
  padding: 0 4px;
  background: var(--background-modifier-hover);
  border-right: 1px solid var(--background-modifier-border);
  user-select: none;
  flex-shrink: 0;
}

.systemsculpt-diff-line-number-old {
  border-left: 1px solid var(--background-modifier-border);
}

.systemsculpt-diff-line-number-new {
  border-right: 1px solid var(--background-modifier-border);
}

.systemsculpt-diff-line-added .systemsculpt-diff-line-number-new {
  color: var(--color-green);
}

.systemsculpt-diff-line-removed .systemsculpt-diff-line-number-old {
  color: var(--color-red);
}

/* Prefix symbols */
.systemsculpt-diff-prefix {
  width: 16px;
  text-align: center;
  font-weight: 600;
  user-select: none;
  padding: 0 2px;
  flex-shrink: 0;
}

.systemsculpt-diff-line-added .systemsculpt-diff-prefix {
  color: var(--color-green);
}

.systemsculpt-diff-line-removed .systemsculpt-diff-prefix {
  color: var(--color-red);
}

.systemsculpt-diff-line-unchanged .systemsculpt-diff-prefix {
  color: var(--ss-layer-base);
}

/* Line content */
.systemsculpt-diff-line-content {
  flex: 1;
  padding: 0 6px;
  white-space: pre-wrap;
  word-break: break-word;
  min-width: 0;
  overflow-wrap: break-word;
  font-family: var(--font-monospace);
}

/* Dark theme adjustments */
.theme-dark .systemsculpt-diff-line-added {
  background: color-mix(in srgb, rgb(34, 197, 94) 8%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-diff-line-removed {
  background: color-mix(in srgb, rgb(239, 68, 68) 8%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-diff-line-added:hover {
  background: color-mix(in srgb, rgb(34, 197, 94) 12%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-diff-line-removed:hover {
  background: color-mix(in srgb, rgb(239, 68, 68) 12%, var(--ss-layer-base));
}

/* Light theme adjustments */
.theme-light .systemsculpt-diff-line-added {
  background: color-mix(in srgb, rgb(34, 197, 94) 6%, var(--ss-layer-base));
}

.theme-light .systemsculpt-diff-line-removed {
  background: color-mix(in srgb, rgb(239, 68, 68) 6%, var(--ss-layer-base));
}

.theme-light .systemsculpt-diff-line-added:hover {
  background: color-mix(in srgb, rgb(34, 197, 94) 10%, var(--ss-layer-base));
}

.theme-light .systemsculpt-diff-line-removed:hover {
  background: color-mix(in srgb, rgb(239, 68, 68) 10%, var(--ss-layer-base));
}

.systemsculpt-diff-truncated {
  padding: 6px 10px;
  font-size: var(--font-ui-smallest);
  color: var(--text-muted);
  border-top: 1px solid var(--background-modifier-border);
  background: var(--background-secondary);
}

/* Responsive design */
@media (max-width: 600px) {
  .systemsculpt-diff-line-number {
    min-width: 24px;
  }

  .systemsculpt-diff-prefix {
    width: 14px;
  }
  
  .systemsculpt-diff-line-content {
    padding: 0 4px;
  }
} 


/* chat-structured-block.css */
/* Shared tree-style layout for chat view structured content */
.systemsculpt-chat-structured-block {
  margin: 6px 0;
  font-family: var(--font-monospace);
  font-size: inherit;
}

.systemsculpt-chat-structured-header {
  display: flex;
  align-items: center;
  gap: 4px;
  margin-bottom: 1px;
  font-weight: 600;
  color: var(--text-normal);
  font-size: inherit;
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-chat-structured-bullet {
  width: 1.6ch;
  height: 1.6ch;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--text-accent);
  font-size: inherit;
  line-height: 1;
}

.systemsculpt-chat-structured-bullet.is-active {
  border: 2px solid var(--text-muted);
  border-top-color: var(--ss-layer-base);
  border-radius: 50%;
  animation: systemsculpt-chat-structured-spin 1s linear infinite;
  color: var(--ss-layer-base);
}

.systemsculpt-chat-structured-lines {
  display: flex;
  flex-direction: column;
  gap: 3px;
  margin: 0;
}

.systemsculpt-chat-structured-line {
  display: flex;
  align-items: flex-start;
  gap: 6px;
  font-size: inherit;
  color: var(--text-muted);
  user-select: text;
  -webkit-user-select: text;
  line-height: 1.35;
  padding: 0;
}

.systemsculpt-chat-structured-line-actions {
  display: inline-flex;
  gap: 4px;
  margin-left: auto;
}

.systemsculpt-chat-structured-line-actions .ss-button {
  font-size: var(--font-ui-smallest);
  line-height: 1.2;
}

.systemsculpt-chat-structured-line-prefix {
  min-width: 4ch;
  flex-shrink: 0;
  text-align: right;
  color: var(--text-faint);
  white-space: pre;
}

.systemsculpt-chat-tree .systemsculpt-chat-structured-line-prefix {
  text-align: right;
}

.systemsculpt-chat-structured-line-text {
  flex: 1;
  white-space: pre-wrap;
  word-break: break-word;
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-chat-structured-line-text .systemsculpt-chat-structured-label {
  color: var(--text-normal);
  font-weight: 600;
}

.systemsculpt-chat-structured-line-text .systemsculpt-chat-structured-detail {
  color: var(--text-muted);
}

.systemsculpt-chat-tree.systemsculpt-chat-tree--empty .systemsculpt-chat-structured-lines {
  display: none;
}

@keyframes systemsculpt-chat-structured-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}


/* chat-activity-block.css */
/**
 * Activity Drawer - Consolidated container for reasoning and tool call blocks
 * 
 * Groups consecutive non-content parts (reasoning + tool calls) into a single
 * collapsible drawer that auto-collapses after streaming to highlight the answer.
 */

/* ═══════════════════════════════════════════════════════════════════════════
   Activity Drawer Container
   ═══════════════════════════════════════════════════════════════════════════ */

.systemsculpt-activity-drawer {
  margin: 6px 0;
  border-radius: 8px;
  background: color-mix(in srgb, rgb(var(--background-secondary-rgb)) 20%, var(--ss-layer-base));
  border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 30%, var(--ss-layer-base));
  overflow: hidden;
  transition: border-color 0.15s ease;
}

.systemsculpt-activity-drawer:hover {
  border-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 40%, var(--ss-layer-base));
}

.systemsculpt-activity-drawer.needs-approval {
  border-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 55%, var(--ss-layer-base));
}

/* ═══════════════════════════════════════════════════════════════════════════
   Activity Drawer Header (always visible summary line)
   ═══════════════════════════════════════════════════════════════════════════ */

.systemsculpt-activity-drawer-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  cursor: pointer;
  user-select: none;
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  transition: background 0.15s ease, color 0.15s ease;
}

.systemsculpt-activity-drawer-header:hover {
  background: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 8%, var(--ss-layer-base));
  color: var(--text-normal);
}

.systemsculpt-activity-drawer-icon {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
  color: var(--text-accent);
  transition: transform 0.15s ease;
}

.systemsculpt-activity-drawer-icon svg {
  width: 14px;
  height: 14px;
}

.systemsculpt-activity-drawer-title {
  flex: 1;
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-activity-drawer-count {
  font-size: var(--font-ui-smaller);
  color: var(--text-faint);
  background: color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 50%, var(--ss-layer-base));
  padding: 2px 6px;
  border-radius: 10px;
}

.systemsculpt-activity-drawer-status {
  font-size: var(--font-ui-smaller);
  color: var(--text-faint);
  background: color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 50%, var(--ss-layer-base));
  padding: 2px 6px;
  border-radius: 10px;
}

.systemsculpt-activity-drawer-status:empty {
  display: none;
}

.systemsculpt-activity-drawer.needs-approval .systemsculpt-activity-drawer-status {
  color: var(--text-accent);
  background: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 18%, var(--ss-layer-base));
  border: 1px solid color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 35%, var(--ss-layer-base));
}

.systemsculpt-activity-drawer.tools-active .systemsculpt-activity-drawer-status {
  color: var(--text-muted);
  background: color-mix(in srgb, rgb(var(--background-secondary-rgb)) 45%, var(--ss-layer-base));
}

.systemsculpt-activity-drawer-chevron {
  width: 12px;
  height: 12px;
  flex-shrink: 0;
  color: var(--text-muted);
  transition: transform 0.15s ease;
}

.systemsculpt-activity-drawer-chevron svg {
  width: 12px;
  height: 12px;
}

/* ═══════════════════════════════════════════════════════════════════════════
   Activity Drawer Content (collapsible body)
   ═══════════════════════════════════════════════════════════════════════════ */

.systemsculpt-activity-drawer-content {
  padding: 0 12px 10px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* ═══════════════════════════════════════════════════════════════════════════
   Collapsed State
   ═══════════════════════════════════════════════════════════════════════════ */

.systemsculpt-activity-drawer.is-collapsed .systemsculpt-activity-drawer-content {
  display: none;
}

.systemsculpt-activity-drawer.is-collapsed .systemsculpt-activity-drawer-chevron {
  transform: rotate(-90deg);
}

/* ═══════════════════════════════════════════════════════════════════════════
   Streaming State (expanded with pulsing indicator)
   ═══════════════════════════════════════════════════════════════════════════ */

.systemsculpt-activity-drawer.is-streaming .systemsculpt-activity-drawer-icon {
  animation: activity-pulse 1.2s ease-in-out infinite;
}

@keyframes activity-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

/* ═══════════════════════════════════════════════════════════════════════════
   Compact Nested Blocks (reasoning and tool calls inside activity drawer)
   ═══════════════════════════════════════════════════════════════════════════ */

.systemsculpt-activity-drawer .systemsculpt-reasoning-wrapper,
.systemsculpt-activity-drawer .systemsculpt-tool-call-group {
  margin: 0;
  background: transparent;
  border: none;
  box-shadow: none;
  padding: 0;
}

.systemsculpt-activity-drawer .systemsculpt-chat-structured-header {
  padding: 4px 0;
  font-size: var(--font-ui-smaller);
  gap: 4px;
}

.systemsculpt-activity-drawer .systemsculpt-chat-structured-bullet {
  width: 1.2ch;
  height: 1.2ch;
}

.systemsculpt-activity-drawer .systemsculpt-reasoning-scroll-container {
  max-height: 80px;
  margin-top: 0;
  margin-left: -4px;
  padding: 0 10px 4px 4px;
  background: color-mix(in srgb, rgb(var(--background-secondary-rgb)) 60%, var(--ss-layer-base));
  border-radius: 6px;
  scrollbar-gutter: stable;
}

.systemsculpt-activity-drawer .systemsculpt-chat-structured-lines {
  gap: 2px;
}

.systemsculpt-activity-drawer .systemsculpt-chat-structured-line {
  font-size: var(--font-ui-smaller);
  line-height: 1.3;
}

/* ═══════════════════════════════════════════════════════════════════════════
   Inline Collapsible Blocks

   Inline collapsible containers for reasoning and tool call blocks that appear
   in chronological order within the message flow (replacing the separate drawer).
   ═══════════════════════════════════════════════════════════════════════════ */

.systemsculpt-inline-collapsible {
  margin: 6px 0;
  border-radius: 8px;
  background: color-mix(in srgb, rgb(var(--background-secondary-rgb)) 20%, var(--ss-layer-base));
  border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 30%, var(--ss-layer-base));
  overflow: hidden;
  transition: border-color 0.15s ease;
}

.systemsculpt-inline-collapsible:hover {
  border-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 40%, var(--ss-layer-base));
}

/* ─────────────────────────────────────────────────────────────────────────────
   Inline Block Header
   ───────────────────────────────────────────────────────────────────────────── */

.systemsculpt-inline-collapsible-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  cursor: pointer;
  user-select: none;
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  transition: background 0.15s ease, color 0.15s ease;
}

.systemsculpt-inline-collapsible-header:hover {
  background: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 8%, var(--ss-layer-base));
  color: var(--text-normal);
}

.systemsculpt-inline-collapsible-icon {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
  transition: transform 0.15s ease;
}

.systemsculpt-inline-collapsible-icon svg {
  width: 14px;
  height: 14px;
}

.systemsculpt-inline-collapsible-title {
  flex: 1;
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-inline-collapsible-chevron {
  width: 12px;
  height: 12px;
  flex-shrink: 0;
  color: var(--text-muted);
  transition: transform 0.15s ease;
}

.systemsculpt-inline-collapsible-chevron svg {
  width: 12px;
  height: 12px;
}

/* ─────────────────────────────────────────────────────────────────────────────
   Inline Block Content
   ───────────────────────────────────────────────────────────────────────────── */

.systemsculpt-inline-collapsible-content {
  padding: 0 12px 10px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* ─────────────────────────────────────────────────────────────────────────────
   Collapsed State
   ───────────────────────────────────────────────────────────────────────────── */

.systemsculpt-inline-collapsible.is-collapsed .systemsculpt-inline-collapsible-content {
  display: none;
}

.systemsculpt-inline-collapsible.is-collapsed .systemsculpt-inline-collapsible-chevron {
  transform: rotate(-90deg);
}

/* ─────────────────────────────────────────────────────────────────────────────
   Streaming State
   ───────────────────────────────────────────────────────────────────────────── */

.systemsculpt-inline-collapsible.is-streaming .systemsculpt-inline-collapsible-icon {
  animation: activity-pulse 1.2s ease-in-out infinite;
}

/* ─────────────────────────────────────────────────────────────────────────────
   Type-Specific Styling
   ───────────────────────────────────────────────────────────────────────────── */

/* Reasoning blocks */
.systemsculpt-inline-reasoning .systemsculpt-inline-collapsible-icon {
  color: var(--text-accent);
}

/* Tool call blocks */
.systemsculpt-inline-tool_call .systemsculpt-inline-collapsible-icon {
  color: var(--color-orange);
}

/* ─────────────────────────────────────────────────────────────────────────────
   Inline Reasoning Content
   ───────────────────────────────────────────────────────────────────────────── */

.systemsculpt-inline-reasoning .systemsculpt-inline-reasoning-text {
  max-height: 120px;
  overflow-y: auto;
  padding: 4px 8px;
  background: color-mix(in srgb, rgb(var(--background-secondary-rgb)) 60%, var(--ss-layer-base));
  border-radius: 6px;
  font-size: var(--font-ui-smaller);
  line-height: 1.4;
  color: var(--text-muted);
  scrollbar-gutter: stable;
}

/* ─────────────────────────────────────────────────────────────────────────────
   Inline Tool Call Content
   ───────────────────────────────────────────────────────────────────────────── */

.systemsculpt-inline-tool_call .systemsculpt-inline-tool-detail {
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
  padding: 4px 0;
}

.systemsculpt-inline-tool_call .systemsculpt-inline-tool-status {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-ui-smaller);
  padding: 2px 6px;
  border-radius: 4px;
  background: color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 50%, var(--ss-layer-base));
}

.systemsculpt-inline-tool_call .systemsculpt-inline-tool-status.is-success {
  color: var(--color-green);
}

.systemsculpt-inline-tool_call .systemsculpt-inline-tool-status.is-error {
  color: var(--color-red);
}

.systemsculpt-inline-tool_call .systemsculpt-inline-tool-status.is-pending {
  color: var(--text-muted);
}

/* ─────────────────────────────────────────────────────────────────────────────
   Inline Tool Call Content Elements
   ───────────────────────────────────────────────────────────────────────────── */

.systemsculpt-inline-tool-line {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: var(--font-ui-small);
}

.systemsculpt-inline-tool-summary {
  color: var(--text-muted);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.systemsculpt-inline-tool-error {
  font-size: var(--font-ui-smaller);
  color: var(--color-red);
  margin-top: 4px;
  padding-left: 4px;
}


/* tool-call-ui.css */
/* Tool-call specific overrides for shared structured layout */
.systemsculpt-tool-call-group[data-group-status="failed"] .systemsculpt-chat-structured-title {
  color: var(--color-red);
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-tool-call-group[data-group-status="denied"] .systemsculpt-chat-structured-title {
  color: var(--color-orange);
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-tool-call-group .systemsculpt-chat-structured-bullet.is-failed {
  color: var(--color-red);
}

.systemsculpt-tool-call-group .systemsculpt-chat-structured-bullet.is-denied {
  color: var(--color-orange);
}

.systemsculpt-tool-call-group .systemsculpt-chat-structured-line[data-state="failed"] {
  color: var(--color-red);
}

.systemsculpt-tool-call-group .systemsculpt-chat-structured-line[data-state="denied"] {
  color: var(--color-orange);
}

/* Token badge for inline tool call display (legacy support) */
.systemsculpt-tool-inline .systemsculpt-tool-tokens {
  margin-left: 6px;
  color: var(--text-muted);
  font-size: 0.85em;
}
/**
 * Tool Call UI Enhancements - Compact display for file operations
 */

/* Write File Preview */
.systemsculpt-tool-call-content-preview {
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  background: var(--background-primary);
  overflow: hidden;
  margin-top: 8px;
}

.systemsculpt-tool-call-content-header {
  padding: 6px 10px;
  background: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-tool-call-content-info {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.systemsculpt-tool-call-content-filename {
  font-family: var(--font-monospace);
  font-weight: 500;
  color: var(--text-normal);
  font-size: var(--font-ui-smaller);
  flex-shrink: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.systemsculpt-tool-call-content-stats {
  font-family: var(--font-monospace);
  font-size: var(--font-ui-smallest);
  color: var(--text-muted);
  background: var(--background-modifier-form-field);
  padding: 2px 6px;
  border-radius: var(--radius-xs);
  flex-shrink: 0;
}

.systemsculpt-tool-call-content-body {
  max-height: clamp(100px, 25vh, 160px);
  overflow-y: auto;
}

.systemsculpt-tool-call-content-code {
  margin: 0;
  padding: 10px;
  background: var(--background-primary);
  border: none;
  font-family: var(--font-monospace);
  font-size: var(--font-ui-smaller);
  line-height: 1.4;
  color: var(--text-normal);
  white-space: pre-wrap;
  word-wrap: break-word;
  overflow-x: auto;
}

.systemsculpt-tool-call-content-code code {
  background: none;
  padding: 0;
  font-family: inherit;
  font-size: inherit;
  color: inherit;
}

.systemsculpt-tool-call-content-truncated {
  padding: 6px 10px;
  background: var(--background-modifier-hover);
  border-top: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  font-size: var(--font-ui-smallest);
  font-style: italic;
  text-align: center;
}

/* Edit File Preview */
.systemsculpt-tool-call-edits-preview {
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  background: var(--background-primary);
  overflow: hidden;
  margin-top: 8px;
}

.systemsculpt-tool-call-edits-header {
  padding: 6px 10px;
  background: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
  font-family: var(--font-monospace);
  font-weight: 500;
  color: var(--text-normal);
  font-size: var(--font-ui-smaller);
}

.systemsculpt-tool-call-edits-list {
  padding: 8px;
}

.systemsculpt-tool-call-edit-item {
  margin-bottom: 8px;
}

.systemsculpt-tool-call-edit-item:last-child {
  margin-bottom: 0;
}

.systemsculpt-tool-call-edit-remove,
.systemsculpt-tool-call-edit-add {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 6px;
  border-radius: var(--radius-xs);
  font-family: var(--font-monospace);
  font-size: var(--font-ui-smaller);
  line-height: 1.3;
}

.systemsculpt-tool-call-edit-remove {
  background: color-mix(in srgb, rgb(var(--color-red-rgb)) 8%, var(--ss-layer-base));
  border-left: 2px solid var(--color-red);
  margin-bottom: 2px;
}

.systemsculpt-tool-call-edit-add {
  background: color-mix(in srgb, rgb(var(--color-green-rgb)) 8%, var(--ss-layer-base));
  border-left: 2px solid var(--color-green);
}

.systemsculpt-tool-call-edit-prefix {
  font-weight: 600;
  width: 12px;
  text-align: center;
  flex-shrink: 0;
}

.systemsculpt-tool-call-edit-remove .systemsculpt-tool-call-edit-prefix {
  color: var(--color-red);
}

.systemsculpt-tool-call-edit-add .systemsculpt-tool-call-edit-prefix {
  color: var(--color-green);
}

.systemsculpt-tool-call-edit-text {
  white-space: pre-wrap;
  word-break: break-word;
  flex: 1;
  min-width: 0;
}

.systemsculpt-tool-call-edits-more {
  padding: 6px 10px;
  background: var(--background-modifier-hover);
  border-top: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  font-size: var(--font-ui-smallest);
  font-style: italic;
  text-align: center;
  font-family: var(--font-monospace);
}

/* Dark theme adjustments */
.theme-dark .systemsculpt-tool-call-edit-remove {
  background: color-mix(in srgb, rgb(239, 68, 68) 8%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-tool-call-edit-add {
  background: color-mix(in srgb, rgb(34, 197, 94) 8%, var(--ss-layer-base));
}

/* Light theme adjustments */
.theme-light .systemsculpt-tool-call-edit-remove {
  background: color-mix(in srgb, rgb(239, 68, 68) 6%, var(--ss-layer-base));
}

.theme-light .systemsculpt-tool-call-edit-add {
  background: color-mix(in srgb, rgb(34, 197, 94) 6%, var(--ss-layer-base));
}

/* Responsive design */
@media (max-width: 600px) {
  .systemsculpt-tool-call-content-info {
    flex-direction: column;
    align-items: flex-start;
    gap: 4px;
  }
  
  .systemsculpt-tool-call-content-stats {
    align-self: flex-end;
  }
  
  .systemsculpt-tool-call-edit-remove,
  .systemsculpt-tool-call-edit-add {
    padding: 3px 5px;
    gap: 4px;
  }
} 


/* tool-results.css */
/**
 * Tool Call Results - Modal-specific styling
 *
 * Simplified styles for tool call result display in modals
 */

/* ╔══════════════════════════════════════════════════════════╗
   ║  Modal Sections                                           ║
   ╚══════════════════════════════════════════════════════════╝ */

.ss-modal__section {
  margin-bottom: 24px;
}

.ss-modal__section-header {
  margin-bottom: 12px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.ss-modal__section-title {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-normal);
}

.ss-modal__section-title--success {
  color: var(--text-success);
}

.ss-modal__section-title--error {
  color: var(--text-error);
}

.ss-modal__section-content {
  padding: 0;
}

.ss-modal__subsection {
  margin-bottom: 16px;
}

.ss-modal__subsection-title {
  margin: 0 0 8px 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-muted);
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Table Display                                            ║
   ╚══════════════════════════════════════════════════════════╝ */

.ss-modal__table {
  width: 100%;
  border-collapse: collapse;
}

.ss-modal__table td {
  padding: 8px 12px;
  border-bottom: 1px solid var(--background-modifier-border);
  vertical-align: top;
}

.ss-modal__table-key {
  width: 30%;
  color: var(--text-muted);
}

.ss-modal__table-value {
  color: var(--text-normal);
  word-break: break-word;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Code Display                                              ║
   ╚══════════════════════════════════════════════════════════╝ */

.ss-modal__code {
  margin: 0;
  padding: 12px;
  background: var(--background-secondary);
  border-radius: 6px;
  font-family: var(--font-monospace);
  font-size: 13px;
  line-height: 1.5;
  color: var(--text-normal);
  white-space: pre-wrap;
  word-break: break-word;
  border: 1px solid var(--background-modifier-border);
}

.ss-modal__code--scrollable {
  max-height: clamp(140px, 35vh, 200px);
  overflow-y: auto;
}

.ss-modal__code::-webkit-scrollbar {
  width: 8px;
}

.ss-modal__code::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 4px;
}

.ss-modal__inline-code {
  padding: 2px 4px;
  background: var(--background-modifier-form-field);
  border-radius: 3px;
  font-family: var(--font-monospace);
  font-size: 0.9em;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Text Display                                             ║
   ╚══════════════════════════════════════════════════════════╝ */

.ss-modal__text--muted {
  color: var(--text-muted);
  font-style: italic;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Summary Display                                          ║
   ╚══════════════════════════════════════════════════════════╝ */

.ss-modal__summary {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 10px 14px;
  background: var(--background-modifier-form-field);
  border-radius: 6px;
  margin-bottom: 12px;
  font-size: 14px;
  color: var(--text-muted);
}

.ss-modal__summary-text {
  line-height: 1.4;
}

.ss-modal__summary-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.ss-modal__summary-actions .ss-button {
  margin: 0;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Grid Display                                             ║
   ╚══════════════════════════════════════════════════════════╝ */

.ss-modal__grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 8px;
  margin-top: 12px;
}

.ss-modal__grid-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: var(--background-secondary);
  border-radius: 6px;
  transition: background-color 0.2s ease;
  border: 1px solid var(--ss-layer-base);
}

.ss-modal__grid-item:hover {
  background: var(--background-modifier-hover);
  border-color: var(--background-modifier-border);
}

.ss-modal__grid-item--directory {
  background: var(--background-secondary);
}

.ss-modal__grid-item--file {
  background: var(--background-secondary);
}

.ss-modal__icon {
  font-size: 16px;
  flex-shrink: 0;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  List Display                                             ║
   ╚══════════════════════════════════════════════════════════╝ */

.ss-modal__list {
  margin: 12px 0;
  padding-left: 24px;
}

.ss-modal__list li {
  margin-bottom: 6px;
  line-height: 1.5;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Error Display                                            ║
   ╚══════════════════════════════════════════════════════════╝ */

.ss-modal__error {
  padding: 0;
  background: color-mix(in srgb, rgb(var(--color-red-rgb)) 3%, var(--ss-layer-base));
  border: 1px solid color-mix(in srgb, rgb(var(--color-red-rgb)) 20%, var(--ss-layer-base));
  border-radius: 8px;
  overflow: hidden;
}

.ss-modal__error-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 16px;
  background: color-mix(in srgb, rgb(var(--color-red-rgb)) 5%, var(--ss-layer-base));
  border-bottom: 1px solid color-mix(in srgb, rgb(var(--color-red-rgb)) 15%, var(--ss-layer-base));
}

.ss-modal__error-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  color: var(--text-error);
}

.ss-modal__error-icon svg {
  width: 20px;
  height: 20px;
}

.ss-modal__error-content {
  padding: 14px 16px;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Mobile Responsiveness                                    ║
   ╚══════════════════════════════════════════════════════════╝ */

@media (max-width: 600px) {
  .ss-modal__grid {
    grid-template-columns: 1fr;
  }
  
  .ss-modal__code--scrollable {
    max-height: 300px;
  }
  
  .ss-modal__grid-item {
    padding: 6px 10px;
  }
}


/* tool-states.css */
/**
 * Tool Call States - Simplified inline display styling
 */

/* ╔══════════════════════════════════════════════════════════╗
   ║  Inline Tool Call Display                                 ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-tool-inline {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  font-size: 14px;
  min-height: 36px;
  /* Ensure inline tool call fills the assistant container width */
  width: 100%;
  box-sizing: border-box;
  /* Allow children to shrink correctly so actions never overflow */
  min-width: 0;
  /* Ensure the inline row never visually overflows its parent */
  overflow: hidden;
}

.systemsculpt-tool-inline:hover {
  background: var(--background-modifier-hover);
}

/* Tool name */
.systemsculpt-tool-name {
  font-weight: 500;
  color: var(--text-normal);
  /* Take remaining space, allow shrinking, and ellipsize */
  flex: 1 1 auto;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Status text */
.systemsculpt-tool-status {
  color: var(--text-muted);
  font-size: 13px;
  flex: 0 0 auto;
  white-space: nowrap;
}

/* Actions container */
.systemsculpt-tool-actions {
  margin-left: auto;
  display: flex;
  gap: 6px;
  align-items: center;
  /* Keep buttons visible; they should not shrink below intrinsic width */
  flex-shrink: 0;
  min-width: max-content;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Status Icons                                             ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-tool-status-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  flex-shrink: 0;
  /* Keep icon visible even when text truncates */
  min-width: 18px;
}

.systemsculpt-tool-status-icon svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-tool-status-icon--success {
  color: var(--text-success);
  animation: checkmark 0.3s ease-out;
}

.systemsculpt-tool-status-icon--error {
  color: var(--text-error);
}

.systemsculpt-tool-status-icon--denied {
  color: var(--text-warning);
}

.systemsculpt-tool-status-icon--pending {
  color: var(--text-muted);
}

.systemsculpt-tool-status-icon--executing {
  color: var(--interactive-accent);
}

@keyframes checkmark {
  from {
    transform: scale(0) rotate(-45deg);
    opacity: 0;
  }
  to {
    transform: scale(1) rotate(0);
    opacity: 1;
  }
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Simple Loading Spinner                                   ║
   ╚══════════════════════════════════════════════════════════╝ */

.systemsculpt-spinning {
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Inline diff preview attached under a tool call */
.systemsculpt-inline-diff {
  margin-top: 8px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background: var(--background-primary);
}

/* Header/actions removed for a cleaner inline diff */

.systemsculpt-inline-diff__body {
  max-height: none;
  overflow: visible;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Mobile Optimizations                                     ║
   ╚══════════════════════════════════════════════════════════╝ */

@media (max-width: 600px) {
  .systemsculpt-tool-inline {
    padding: 6px 10px;
    font-size: 13px;
    flex-wrap: wrap;
  }
  
  .systemsculpt-tool-actions {
    width: 100%;
    margin-top: 8px;
    justify-content: flex-end;
  }
  
  .systemsculpt-tool-status-icon {
    width: 16px;
    height: 16px;
  }
  
  .systemsculpt-tool-status-icon svg {
    width: 14px;
    height: 14px;
  }
}


/* notices.css */
/* 
  Custom styles for SystemSculpt Notices
*/

.systemsculpt-notice-title {
  font-weight: bold;
  margin-bottom: 4px;
}

.systemsculpt-notice-path {
  font-family: var(--font-monospace);
  font-size: 0.9em;
  color: var(--text-accent);
  padding: 4px 8px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  margin-bottom: 4px;
  word-break: break-all; /* Ensure long paths wrap */
}

.systemsculpt-notice-message {
  font-size: 0.9em;
  /* Removed opacity to look more like a vanilla notice */
}

.system-sculpt-notice {
  padding: 10px 15px;
  border-radius: var(--radius-m);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* Tool compatibility warning banner in ChatView */
.systemsculpt-tool-warning-banner {
  display: none;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  margin: 0 8px 8px 8px;
  background-color: var(--background-modifier-error);
  border: 1px solid var(--background-modifier-error-hover);
  border-radius: var(--radius-m);
  color: var(--text-error);
  font-size: var(--font-ui-small);
}

.systemsculpt-tool-warning-icon {
  flex-shrink: 0;
  display: flex;
  align-items: center;
}

.systemsculpt-tool-warning-icon svg {
  width: 16px;
  height: 16px;
  stroke: var(--text-error);
}

.systemsculpt-tool-warning-text {
  flex: 1;
}

/* Agent Status Modal styles */
.systemsculpt-agent-status-section {
  margin-bottom: 16px;
}

.systemsculpt-agent-status-section h3 {
  margin: 0 0 8px 0;
  font-size: var(--font-ui-medium);
  font-weight: 600;
}

.systemsculpt-agent-status-section p {
  margin: 0;
}

.systemsculpt-agent-status-tools {
  margin: 0;
  padding-left: 20px;
  list-style: none;
}

.systemsculpt-agent-status-tools > li {
  margin-bottom: 8px;
}

.systemsculpt-agent-status-tools ul {
  margin: 4px 0 0 0;
  padding-left: 16px;
  list-style: disc;
  font-size: var(--font-ui-small);
  color: var(--text-muted);
}

.systemsculpt-agent-status-more {
  font-style: italic;
  color: var(--text-faint);
} 

/* update-drawer.css */
/* 
  SystemSculpt Update Notification Drawer
  Minimal, native Obsidian styling
*/

.systemsculpt-update-drawer {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 280px;
  max-width: calc(100vw - 40px);
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  box-shadow: var(--shadow-s);
  z-index: 9999;
  transform: translateY(10px);
  opacity: 0;
  transition: transform 0.2s ease, opacity 0.2s ease;
  font-family: var(--font-interface);
  font-size: var(--font-ui-small);
}

.systemsculpt-update-drawer.visible {
  transform: translateY(0);
  opacity: 1;
}

/* Simple header without colored background */
.systemsculpt-update-drawer-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px 8px 16px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-update-drawer-title {
  font-weight: var(--font-weight-medium);
  font-size: var(--font-ui-small);
  color: var(--text-normal);
}

/* Minimal close button */
.systemsculpt-update-drawer-close {
  cursor: pointer;
  width: 16px;
  height: 16px;
  position: relative;
  opacity: 0.5;
  transition: opacity 0.15s ease;
  background: var(--ss-layer-base);
  border: none;
  outline: none;
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-update-drawer-close:hover,
.systemsculpt-update-drawer-close:focus-visible {
  opacity: 1;
}

.systemsculpt-update-drawer-close::before,
.systemsculpt-update-drawer-close::after {
  content: '';
  position: absolute;
  width: 1px;
  height: 10px;
  background: var(--text-muted);
}

.systemsculpt-update-drawer-close::before {
  transform: rotate(45deg);
}

.systemsculpt-update-drawer-close::after {
  transform: rotate(-45deg);
}

/* Content area */
.systemsculpt-update-drawer-content {
  padding: 8px 16px 16px 16px;
}

.systemsculpt-update-drawer-message {
  margin-bottom: 12px;
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  line-height: 1.3;
}

/* Simple version display */
.systemsculpt-update-drawer-versions {
  margin-bottom: 16px;
  font-family: var(--font-monospace);
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
  text-align: center;
}

.systemsculpt-update-drawer-current {
  opacity: 0.6;
}

.systemsculpt-update-drawer-latest {
  color: var(--text-normal);
  font-weight: var(--font-weight-medium);
}

.systemsculpt-update-drawer-arrow {
  margin: 0 6px;
  opacity: 0.5;
}

/* Simple button matching Obsidian's style */
.systemsculpt-update-drawer-button {
  width: 100%;
  padding: 6px 12px;
  font-size: var(--font-ui-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border: 1px solid var(--interactive-accent);
  border-radius: var(--button-radius);
  transition: all 0.15s ease;
  outline: none;
}

.systemsculpt-update-drawer-button:hover {
  background: var(--interactive-accent-hover);
  border-color: var(--interactive-accent-hover);
}

.systemsculpt-update-drawer-button:focus-visible {
  outline: 2px solid var(--background-modifier-border-focus);
  outline-offset: 1px;
}

/* Mobile responsive */
@media (max-width: 768px) {
  .systemsculpt-update-drawer {
    bottom: 16px;
    right: 16px;
    left: 16px;
    width: auto;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .systemsculpt-update-drawer {
    transition: opacity 0.15s ease;
    transform: none;
  }
  
  .systemsculpt-update-drawer.visible {
    transform: none;
  }
}


/* slash-commands.css */
/**
 * Slash Command Menu Styles
 * 
 * A sleek dropdown menu that appears when users type "/" in the chat input.
 * Follows Obsidian's native UI patterns and is responsive for mobile devices.
 */

/* Main menu container */
.systemsculpt-slash-command-menu {
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  box-shadow: 0 4px 16px color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
  min-width: 400px;
  max-width: 500px;
  max-height: 300px;
  overflow: hidden;
  font-family: var(--font-interface);
  z-index: 1000;
  display: none;
}

/* Search container (now at bottom) */
.systemsculpt-slash-search-container {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  border-top: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
  gap: 8px;
  border-bottom-left-radius: 8px;
  border-bottom-right-radius: 8px;
}

/* Search icon */
.systemsculpt-slash-search-icon {
  color: var(--text-muted);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
}

.systemsculpt-slash-search-icon svg {
  width: 16px;
  height: 16px;
}

/* Search input */
.systemsculpt-slash-search-input {
  flex: 1;
  background: var(--ss-layer-base);
  border: none;
  outline: none;
  color: var(--text-normal);
  font-size: 14px;
  font-family: var(--font-interface);
  padding: 4px 0;
}

.systemsculpt-slash-search-input::placeholder {
  color: var(--text-muted);
}

/* Results container (now at top) */
.systemsculpt-slash-results-container {
  max-height: 240px;
  overflow-y: auto;
  background-color: var(--background-primary);
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
}

/* Result item */
.systemsculpt-slash-result-item {
  display: flex;
  align-items: center;
  padding: 10px 12px;
  cursor: pointer;
  border-bottom: 1px solid var(--background-modifier-border);
  transition: background-color 0.1s ease;
  gap: 12px;
}

.systemsculpt-slash-result-item:last-child {
  border-bottom: none;
}

.systemsculpt-slash-result-item:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-slash-result-item.is-selected {
  background-color: var(--background-modifier-active-hover);
}

/* Result icon */
.systemsculpt-slash-result-icon {
  color: var(--text-muted);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
}

.systemsculpt-slash-result-icon svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-slash-result-item.is-selected .systemsculpt-slash-result-icon {
  color: var(--interactive-accent);
}

/* Result content */
.systemsculpt-slash-result-content {
  flex: 1;
  min-width: 0; /* Allow text to truncate */
}

/* Result title */
.systemsculpt-slash-result-title {
  font-weight: 500;
  font-size: 14px;
  color: var(--text-normal);
  margin-bottom: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-slash-result-item.is-selected .systemsculpt-slash-result-title {
  color: var(--interactive-accent);
}

/* Result description */
.systemsculpt-slash-result-description {
  font-size: 12px;
  color: var(--text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Scrollbar styling for results container */
.systemsculpt-slash-results-container::-webkit-scrollbar {
  width: 4px;
}

.systemsculpt-slash-results-container::-webkit-scrollbar-track {
  background: var(--background-modifier-border);
}

.systemsculpt-slash-results-container::-webkit-scrollbar-thumb {
  background: var(--text-muted);
  border-radius: 2px;
}

.systemsculpt-slash-results-container::-webkit-scrollbar-thumb:hover {
  background: var(--text-normal);
}

/* Empty state (when no commands match search) */
.systemsculpt-slash-empty-state {
  padding: 20px;
  text-align: center;
  color: var(--text-muted);
  font-size: 12px;
}

/* Mobile responsive design */
@media (max-width: 600px) {
  .systemsculpt-slash-command-menu {
    min-width: 320px;
    max-width: calc(100vw - 20px);
    left: 10px !important;
    right: 10px !important;
    width: auto !important;
  }
  
  .systemsculpt-slash-search-container {
    padding: 10px 14px;
  }
  
  .systemsculpt-slash-search-input {
    font-size: 16px; /* Prevent zoom on iOS */
  }
  
  .systemsculpt-slash-result-item {
    padding: 12px 14px;
    gap: 14px;
  }
  
  .systemsculpt-slash-result-title {
    font-size: 15px;
  }
  
  .systemsculpt-slash-result-description {
    font-size: 13px;
  }
}

/* Small mobile screens */
@media (max-width: 400px) {
  .systemsculpt-slash-command-menu {
    min-width: 280px;
  }
  
  .systemsculpt-slash-result-item {
    padding: 10px 12px;
  }
}

/* High DPI displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .systemsculpt-slash-command-menu {
    box-shadow: 0 4px 16px color-mix(in srgb, rgb(0, 0, 0) 20%, var(--ss-layer-base));
  }
}

/* Dark theme adjustments */
.theme-dark .systemsculpt-slash-command-menu {
  box-shadow: 0 4px 16px color-mix(in srgb, rgb(0, 0, 0) 30%, var(--ss-layer-base));
}

/* Animation for menu appearance */
.systemsculpt-slash-command-menu {
  transform-origin: top left;
  animation: systemsculpt-slash-menu-appear 0.1s ease-out;
}

@keyframes systemsculpt-slash-menu-appear {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(-5px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* Focus states for accessibility */
.systemsculpt-slash-search-input:focus {
  /* No visible focus ring since the container handles focus styling */
}

.systemsculpt-slash-search-container:focus-within {
  background-color: var(--background-modifier-hover);
}

/* Selection highlighting for keyboard navigation */
.systemsculpt-slash-result-item.is-selected {
  outline: 2px solid var(--interactive-accent);
  outline-offset: -2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .systemsculpt-slash-command-menu {
    border-width: 2px;
  }
  
  .systemsculpt-slash-result-item.is-selected {
    outline-width: 3px;
  }
} 


/* agent-selection-menu.css */
/* Agent Selection Menu - triggered by /agent command */
.agent-selection-menu {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  box-shadow: 0 4px 16px color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Header */
.agent-selection-header {
  padding: 12px 16px;
  border-bottom: 1px solid var(--background-modifier-border);
  background: var(--background-secondary);
}

.agent-selection-title-container {
  display: flex;
  align-items: center;
  gap: 8px;
}

.agent-selection-icon {
  display: flex;
  align-items: center;
  color: var(--text-accent);
}

.agent-selection-title {
  font-weight: 600;
  font-size: 14px;
  color: var(--text-normal);
}

/* Items container */
.agent-selection-items {
  overflow-y: auto;
  max-height: 320px;
  padding: 4px;
}

.agent-selection-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.15s ease;
  position: relative;
}

.agent-selection-item:hover {
  background: var(--background-modifier-hover);
}

.agent-selection-item.is-selected {
  background: var(--background-modifier-active-hover);
}

.agent-selection-item-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  flex-shrink: 0;
  color: var(--text-muted);
  margin-top: 2px;
}

.agent-selection-item.is-selected .agent-selection-item-icon {
  color: var(--text-accent);
}

.agent-selection-item-content {
  flex: 1;
  min-width: 0;
}

.agent-selection-item-name {
  font-weight: 500;
  font-size: 13px;
  color: var(--text-normal);
  margin-bottom: 2px;
}

.agent-selection-item-description {
  font-size: 11px;
  color: var(--text-muted);
  line-height: 1.4;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
}

.agent-selection-item-badge {
  position: absolute;
  right: 12px;
  top: 12px;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  font-size: 10px;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Empty state */
.agent-selection-empty {
  padding: 32px 16px;
  text-align: center;
  color: var(--text-muted);
  font-size: 13px;
}

/* Search input */
.agent-selection-search {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  border-top: 1px solid var(--background-modifier-border);
  background: var(--background-secondary);
}

.agent-selection-search-icon {
  display: flex;
  align-items: center;
  color: var(--text-muted);
  flex-shrink: 0;
}

.agent-selection-search-input {
  flex: 1;
  background: var(--ss-layer-base);
  border: none;
  outline: none;
  font-size: 13px;
  color: var(--text-normal);
  padding: 0;
}

.agent-selection-search-input::placeholder {
  color: var(--text-muted);
}

.agent-selection-search-input:focus {
  outline: none;
}

/* Scrollbar styling */
.agent-selection-items::-webkit-scrollbar {
  width: 8px;
}

.agent-selection-items::-webkit-scrollbar-track {
  background: var(--ss-layer-base);
}

.agent-selection-items::-webkit-scrollbar-thumb {
  background: var(--background-modifier-border);
  border-radius: 4px;
}

.agent-selection-items::-webkit-scrollbar-thumb:hover {
  background: var(--text-muted);
}


/* mermaid.css */
/* Mermaid diagram enhancements – SystemSculpt */

/* Ensure diagram containers can host absolutely-positioned buttons */
.mermaid {
  position: relative;
}

/* Expand button overlay */
.systemsculpt-mermaid-expand-btn {
  position: absolute;
  top: 4px;
  right: 4px;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 2px;
  cursor: pointer;
  color: var(--text-muted);
  display: flex;
  align-items: center;
  opacity: 0.8;
  transition: opacity 0.12s ease-in-out;
  z-index: 10;
  pointer-events: auto;
}

/* Always show for now – can fade on hover later */
.systemsculpt-mermaid-expand-btn {
  opacity: 0.8;
}

/* Ensure hover emphasises */
.mermaid:hover .systemsculpt-mermaid-expand-btn {
  opacity: 1;
}

/* Expanded preview modal layout */
.systemsculpt-mermaid-preview-modal .ss-mermaid-preview-diagram {
  overflow: auto;
  max-height: 70vh;
}

.systemsculpt-mermaid-preview-modal button.ss-mermaid-copy-btn {
  margin-top: 8px;
}

/* Mermaid theme – map to Obsidian CSS variables for seamless theming */
.mermaid .node rect,
.mermaid .node circle,
.mermaid .node polygon {
  fill: var(--background-secondary) !important;
  stroke: var(--interactive-accent) !important;
}

.mermaid .node text {
  fill: var(--text-normal) !important;
}

.mermaid .edgePath path {
  stroke: var(--interactive-accent) !important;
}

.mermaid .edgeLabel text {
  fill: var(--text-muted) !important;
}

.mermaid .cluster rect {
  fill: var(--background-primary) !important;
  stroke: var(--interactive-accent) !important;
} 

/* font-size-fix.css */
/**
 * Font Size Fix for Chat Messages
 * 
 * Ensures font size inheritance works properly in chat views
 */

/* Apply base font size with higher specificity */
.systemsculpt-messages-container.systemsculpt-chat-small {
  font-size: 0.75em !important;
}

.systemsculpt-messages-container.systemsculpt-chat-medium {
  font-size: 1em !important;
}

.systemsculpt-messages-container.systemsculpt-chat-large {
  font-size: 1.3em !important;
}

/* Ensure font size inherits to message content */
.systemsculpt-messages-container .systemsculpt-message,
.systemsculpt-messages-container .systemsculpt-message-content,
.systemsculpt-messages-container .systemsculpt-message-content p,
.systemsculpt-messages-container .systemsculpt-message-content div,
.systemsculpt-messages-container .systemsculpt-message-content span,
.systemsculpt-messages-container .systemsculpt-content-part,
.systemsculpt-messages-container .systemsculpt-unified-part,
.systemsculpt-messages-container .markdown-rendered,
.systemsculpt-messages-container .systemsculpt-chat-structured-block,
.systemsculpt-messages-container .systemsculpt-chat-structured-header,
.systemsculpt-messages-container .systemsculpt-chat-structured-title,
.systemsculpt-messages-container .systemsculpt-chat-structured-line,
.systemsculpt-messages-container .systemsculpt-chat-structured-line-text,
.systemsculpt-messages-container .systemsculpt-chat-structured-line-actions,
.systemsculpt-messages-container .systemsculpt-chat-structured-bullet,
.systemsculpt-messages-container .systemsculpt-collapsible-drawer,
.systemsculpt-messages-container .systemsculpt-collapsible-header,
.systemsculpt-messages-container .systemsculpt-collapsible-title,
.systemsculpt-messages-container .systemsculpt-reasoning-wrapper {
  font-size: inherit;
}

/* Override any fixed font sizes from Obsidian's defaults */
.systemsculpt-messages-container .markdown-rendered p,
.systemsculpt-messages-container .markdown-rendered div,
.systemsculpt-messages-container .markdown-rendered span {
  font-size: inherit !important;
}

/* Specific overrides for elements that use fixed sizes */
.systemsculpt-messages-container .systemsculpt-message-label {
  font-size: var(--chat-label-font-size) !important;
}

.systemsculpt-messages-container .systemsculpt-citations-container {
  font-size: var(--chat-citation-font-size) !important;
}

.systemsculpt-messages-container pre[class*="language-"]::before {
  font-size: var(--chat-code-label-font-size) !important;
}


/* embeddings-progress.css */
/**
 * SystemSculpt Embeddings Progress Notification Styles
 * 
 * Rich progress UI with pause/resume/cancel controls
 */

.systemsculpt-progress-notification {
  max-width: 400px;
  min-width: 300px;
  /* Ensure notifications don't overlap settings containers */
  position: relative;
  z-index: 500; /* Lower than modal overlays */
}

.systemsculpt-progress-notification .notice-content {
  padding: 0;
}

.systemsculpt-progress-notification .progress-container {
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Header */
.systemsculpt-progress-notification .progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.systemsculpt-progress-notification .progress-title {
  font-weight: 600;
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
}

.systemsculpt-progress-notification .progress-close {
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  transition: all 0.2s ease;
}

.systemsculpt-progress-notification .progress-close:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

/* Progress Bar */
.systemsculpt-progress-notification .progress-bar-container {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.systemsculpt-progress-notification .progress-bar {
  height: 8px;
  background-color: var(--background-modifier-border);
  border-radius: 4px;
  overflow: hidden;
  position: relative;
}

.systemsculpt-progress-notification .progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, 
    var(--interactive-accent) 0%, 
    var(--interactive-accent-hover) 100%);
  border-radius: 4px;
  transition: transform 0.3s ease;
  transform-origin: left center;
  position: relative;
  overflow: hidden;
}

/* Removed animated stripes - clean progress bar with no distractions */

.systemsculpt-progress-notification .progress-text {
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
  text-align: center;
}

/* Message Area */
.systemsculpt-progress-notification .progress-message {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  white-space: pre-line;
  line-height: 1.4;
  max-height: 60px;
  overflow-y: auto;
}

/* Action Buttons */
.systemsculpt-progress-notification .progress-actions {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.systemsculpt-progress-notification .progress-actions button {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 6px 12px;
  font-size: var(--font-ui-small);
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.systemsculpt-progress-notification .progress-actions button span {
  display: flex;
  align-items: center;
}

.systemsculpt-progress-notification .progress-actions button.mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border: none;
}

.systemsculpt-progress-notification .progress-actions button.mod-cta:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-progress-notification .progress-actions button.mod-warning {
  background-color: var(--ss-layer-base);
  color: var(--text-error);
  border: 1px solid var(--text-error);
}

.systemsculpt-progress-notification .progress-actions button.mod-warning:hover {
  background-color: var(--text-error);
  color: var(--text-on-accent);
}

/* Completion State */
.systemsculpt-progress-complete {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
}

.systemsculpt-progress-complete .complete-icon {
  color: var(--text-success);
  display: flex;
  align-items: center;
}

.systemsculpt-progress-complete .complete-icon svg {
  width: 24px;
  height: 24px;
}

.systemsculpt-progress-complete .complete-message {
  flex: 1;
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
}

/* Error State */
.systemsculpt-progress-error {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
}

.systemsculpt-progress-error .error-icon {
  color: var(--text-error);
  display: flex;
  align-items: center;
}

.systemsculpt-progress-error .error-icon svg {
  width: 24px;
  height: 24px;
}

.systemsculpt-progress-error .error-message {
  flex: 1;
  font-size: var(--font-ui-medium);
  color: var(--text-error);
}

/* Mobile Adjustments */
@media (max-width: 768px) {
  .systemsculpt-progress-notification {
    max-width: 90vw;
  }
  
  .systemsculpt-progress-notification .progress-container {
    padding: 12px;
  }
  
  .systemsculpt-progress-notification .progress-actions button {
    padding: 8px;
    font-size: var(--font-ui-smaller);
  }
}


/* similar-notes-view.css */
/**
 * Similar Notes View Styles
 * 
 * Native Obsidian-style list view for displaying similar notes with similarity scores
 */

.systemsculpt-similar-notes-view {
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Header */
.similar-notes-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--size-4-2) var(--size-4-3);
  border-bottom: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  position: relative;
  z-index: 1;
}

.similar-notes-title {
  display: flex;
  align-items: center;
  gap: var(--size-4-1);
  font-weight: var(--font-semibold);
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
}

.similar-notes-icon {
  display: flex;
  align-items: center;
  color: var(--text-muted);
}

.similar-notes-icon svg {
  width: var(--icon-s);
  height: var(--icon-s);
}

.similar-notes-refresh {
  padding: var(--size-2-2);
  border-radius: var(--radius-s);
  color: var(--text-muted);
  cursor: pointer;
}

.similar-notes-refresh:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.similar-notes-refresh svg {
  width: var(--icon-s);
  height: var(--icon-s);
}

/* Status Bar */
.similar-notes-status {
  padding: var(--size-2-3) var(--size-4-3);
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
  background-color: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
  min-height: 32px;
  display: flex;
  align-items: center;
}

.similar-notes-status:empty {
  display: none;
}

.systemsculpt-status-text {
  color: var(--text-muted);
}

/* Results Container */
.similar-notes-results {
  flex: 1;
  overflow-y: auto;
  padding: 0;
  background-color: var(--background-primary);
}

.results-container {
  padding: 0;
  display: flex;
  flex-direction: column;
}

/* Result Item - styled like native Obsidian list items */
.similar-note-item {
  display: flex;
  align-items: flex-start;
  gap: var(--size-4-2);
  padding: var(--size-2-3) var(--size-4-3);
  border-bottom: 1px solid var(--background-modifier-border-focus);
  cursor: pointer;
  position: relative;
}

.similar-note-item:hover {
  background-color: var(--background-modifier-hover);
}

.similar-note-item:last-child {
  border-bottom: none;
}

/* Score Indicator - simple and subtle */
.note-score {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: var(--size-4-8);
  height: var(--size-4-6);
  background-color: var(--background-modifier-border);
  color: var(--text-muted);
  border-radius: var(--radius-s);
  font-weight: var(--font-medium);
  font-size: var(--font-ui-smaller);
  flex-shrink: 0;
  margin-top: 2px;
}

.note-score.score-high {
  background-color: var(--color-green);
  color: var(--text-on-accent);
}

.note-score.score-medium {
  background-color: var(--color-yellow);
  color: var(--text-on-accent);
}

.note-score.score-low {
  background-color: var(--background-modifier-border);
  color: var(--text-muted);
}

/* Note Content */
.note-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--size-2-1);
  min-width: 0; /* Enable text truncation */
}

.note-title {
  font-weight: var(--font-medium);
  font-size: var(--font-ui-medium);
  line-height: var(--line-height-tight);
  margin: 0;
}

.note-title .internal-link {
  color: var(--text-normal);
  text-decoration: none;
  word-break: break-word;
}

.note-title .internal-link:hover {
  color: var(--text-accent);
  text-decoration: underline;
}

.note-excerpt {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  line-height: var(--line-height-normal);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  margin: 0;
}

/* Metadata */
.note-metadata {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--size-4-2);
  font-size: var(--font-ui-smaller);
  color: var(--text-faint);
  margin-top: var(--size-2-1);
}

.note-tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--size-2-1);
}

.note-tags .tag {
  padding: 1px var(--size-2-2);
  background-color: var(--tag-background);
  color: var(--tag-color);
  border-radius: var(--tag-radius);
  font-size: var(--font-ui-smaller);
  line-height: 1.2;
}

.note-date {
  display: flex;
  align-items: center;
  gap: var(--size-2-1);
  color: var(--text-faint);
}

.note-path {
  color: var(--text-faint);
  font-style: italic;
}

/* Loading State */
.similar-notes-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--size-4-12) var(--size-4-6);
  text-align: center;
}

.systemsculpt-loading-spinner {
  width: var(--size-4-8);
  height: var(--size-4-8);
  border: 2px solid var(--background-modifier-border);
  border-top-color: var(--interactive-accent);
  border-radius: 50%;
  animation: systemsculpt-spin 1s linear infinite;
  margin-bottom: var(--size-4-4);
}

@keyframes systemsculpt-spin {
  to {
    transform: rotate(360deg);
  }
}

.systemsculpt-loading-text {
  color: var(--text-muted);
  font-size: var(--font-ui-small);
}

/* Empty State */
.similar-notes-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--size-4-12) var(--size-4-6);
  text-align: center;
}

.empty-icon {
  margin-bottom: var(--size-4-4);
  color: var(--text-faint);
}

.empty-icon svg {
  width: var(--size-4-12);
  height: var(--size-4-12);
}

.empty-title {
  font-weight: var(--font-medium);
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
  margin-bottom: var(--size-2-3);
}

.empty-description {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  line-height: var(--line-height-normal);
  max-width: 280px;
}

/* Initializing State */
.similar-notes-initializing {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--size-4-12) var(--size-4-6);
  text-align: center;
}

.initializing-icon {
  margin-bottom: var(--size-4-4);
  color: var(--text-muted);
}

.initializing-icon svg {
  width: var(--size-4-12);
  height: var(--size-4-12);
}

.initializing-title {
  font-weight: var(--font-medium);
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
  margin-bottom: var(--size-2-3);
}

.initializing-description {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  line-height: var(--line-height-normal);
  max-width: 320px;
  margin-bottom: var(--size-4-4);
}

.retry-button {
  padding: var(--size-2-2) var(--size-4-3);
  background-color: var(--interactive-normal);
  color: var(--text-on-accent);
  border-radius: var(--button-radius);
  cursor: pointer;
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
}

.retry-button:hover {
  background-color: var(--interactive-hover);
}

/* Disabled State */
.similar-notes-disabled {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--size-4-12) var(--size-4-6);
  text-align: center;
}

.disabled-icon {
  margin-bottom: var(--size-4-4);
  color: var(--text-faint);
}

.disabled-icon svg {
  width: var(--size-4-12);
  height: var(--size-4-12);
}

.disabled-title {
  font-weight: var(--font-medium);
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
  margin-bottom: var(--size-2-3);
}

.disabled-description {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  line-height: var(--line-height-normal);
  max-width: 320px;
}

/* Error State */
.similar-notes-error {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--size-4-12) var(--size-4-6);
  text-align: center;
}

.error-icon {
  margin-bottom: var(--size-4-4);
  color: var(--text-error);
}

.error-icon svg {
  width: var(--size-4-12);
  height: var(--size-4-12);
}

.error-title {
  font-weight: var(--font-medium);
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
  margin-bottom: var(--size-2-3);
}

.error-message {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  max-width: 300px;
  line-height: var(--line-height-normal);
}

/* Mobile Adjustments */
@media (max-width: 768px) {
  .similar-notes-header {
    padding: var(--size-2-3) var(--size-4-2);
  }
  
  .similar-notes-status {
    padding: var(--size-2-2) var(--size-4-2);
  }
  
  .similar-note-item {
    padding: var(--size-2-3) var(--size-4-2);
    gap: var(--size-4-2);
  }
  
  .note-score {
    min-width: var(--size-4-6);
    height: var(--size-4-5);
    font-size: 10px;
  }
  
  .note-excerpt {
    -webkit-line-clamp: 1;
  }
}

/* Scrollbar styling */
.similar-notes-results::-webkit-scrollbar {
  width: var(--scrollbar-width);
}

.similar-notes-results::-webkit-scrollbar-track {
  background: var(--ss-layer-base);
}

.similar-notes-results::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb-bg);
  border-radius: var(--scrollbar-thumb-radius);
}

.similar-notes-results::-webkit-scrollbar-thumb:hover {
  background-color: var(--scrollbar-thumb-bg-hover);
}


/* large-text.css */
/* Large Text Component Styles */

.systemsculpt-large-text-container {
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 16px;
  margin: 8px 0;
  background-color: var(--background-modifier-form-field);
}

.systemsculpt-large-text-preview {
  margin-bottom: 12px;
  max-height: 150px;
  overflow: hidden;
  position: relative;
}

.systemsculpt-text-truncation {
  font-style: italic;
  color: var(--text-muted);
  margin-top: 8px;
  font-size: 0.9em;
}

.systemsculpt-large-text-indicator {
  border-top: 1px solid var(--border-color);
  padding-top: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 12px;
}

.systemsculpt-large-text-stats {
  font-size: 0.9em;
  color: var(--text-muted);
  font-weight: 500;
}

.systemsculpt-large-text-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.systemsculpt-view-button,
.systemsculpt-save-button,
.systemsculpt-copy-button {
  padding: 6px 12px;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  background-color: var(--background-secondary);
  color: var(--text-normal);
  cursor: pointer;
  font-size: 0.85em;
  transition: all 0.2s ease;
}

.systemsculpt-view-button:hover,
.systemsculpt-save-button:hover,
.systemsculpt-copy-button:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--border-color-hover);
}

/* Large Text Modal Styles - Using Obsidian Modal */

.large-text-modal-container {
  width: 100%;
}

.large-text-viewer {
  /* Styles are applied via JavaScript to ensure proper Obsidian integration */
}

.large-text-modal-buttons {
  /* Styles are applied via JavaScript for consistency */
}

/* Notice Styles */

.systemsculpt-notice {
  position: fixed;
  top: 20px;
  right: 20px;
  background-color: var(--background-primary);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  padding: 12px 16px;
  color: var(--text-normal);
  box-shadow: 0 4px 12px color-mix(in srgb, rgb(0, 0, 0) 20%, var(--ss-layer-base));
  z-index: 1001;
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Responsive Design */

@media (max-width: 768px) {
  .systemsculpt-large-text-indicator {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .systemsculpt-large-text-actions {
    width: 100%;
    justify-content: flex-start;
  }
  
  .systemsculpt-modal-content {
    max-width: 95vw;
    max-height: 95vh;
  }
  
  .systemsculpt-modal-header {
    padding: 12px 16px;
  }
  
  .systemsculpt-large-text-viewer {
    padding: 16px;
    font-size: 12px;
  }
}

/* systemsculpt-search.css */
/* SystemSculpt Search — rebuilt to match native Obsidian, minimal and compact */

.ss-search__content {
  display: flex;
  flex-direction: column;
  min-height: 0;
  height: 100%;
}

.ss-search {
  display: flex;
  flex-direction: column;
  gap: 12px;
  min-height: 0;
}

/* Controls */
.ss-search__controls {
  display: flex;
  flex-wrap: wrap;
  align-items: stretch;
  gap: 8px;
  padding: 4px 0 0;
  border-bottom: 1px solid var(--background-modifier-border);
}

.ss-search__mode-group {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  flex: 1 1 220px;
}

.ss-search__sort {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  align-items: center;
}

.ss-search__pill {
  appearance: none;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  color: var(--text-normal);
  border-radius: 6px;
  padding: 10px 12px;
  min-height: 40px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 2px;
  text-align: left;
  font-size: 13px;
  line-height: 1.3;
  transition: border-color 120ms ease, background-color 120ms ease, color 120ms ease;
  box-shadow: none;
}

.ss-search__pill:disabled,
.ss-search__pill.is-disabled {
  opacity: 0.55;
  cursor: not-allowed;
  background: var(--background-modifier-hover);
}

.ss-search__pill:hover {
  border-color: var(--interactive-accent);
  background: var(--background-modifier-hover);
}

.ss-search__pill.is-active {
  border-color: var(--interactive-accent);
  background: color-mix(in srgb, var(--interactive-accent) 14%, var(--background-primary));
}

.ss-search__pill-label {
  font-weight: 600;
  font-size: 13px;
}

.ss-search__pill-desc {
  font-size: 12px;
  color: var(--text-muted);
  line-height: 1.35;
}

.ss-search__pill--chip {
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 6px 12px;
  min-width: 0;
  border-radius: 16px;
  font-weight: 600;
}

/* Search bar */
.ss-search__input-row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background: var(--background-primary);
  min-height: 36px;
}

.ss-search__icon {
  width: 16px;
  height: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
}

.ss-search__icon::before {
  content: "\1F50D";
  opacity: 0.7;
  font-size: 14px;
}

.ss-search__input {
  flex: 1;
  border: none;
  background: transparent;
  outline: none;
  font-size: 14px;
  color: var(--text-normal);
}

.ss-search__input::placeholder {
  color: var(--text-faint);
}

.ss-search__clear {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: 1px solid var(--background-modifier-border);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--text-muted);
  font-size: 14px;
}

.ss-search__clear::before {
  content: "×";
  line-height: 1;
}

.ss-search__clear:hover {
  background: var(--background-modifier-hover);
  color: var(--text-normal);
}

.ss-search__metrics,
.ss-search__state {
  color: var(--text-muted);
  font-size: 12px;
  padding: 0 2px;
}

/* Results */
.ss-search__list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  overflow-y: auto;
  padding: 6px 2px 12px;
  scroll-padding: 8px;
  flex: 1;
  min-height: 0;
  overscroll-behavior: contain;
}

.ss-search__item {
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 10px 12px;
  background: var(--background-primary);
  transition: border-color 120ms ease, background-color 120ms ease;
}

.ss-search__item:hover {
  border-color: var(--interactive-accent);
  background: var(--background-modifier-hover);
}

.ss-search__item-top {
  display: flex;
  justify-content: space-between;
  gap: 8px;
  align-items: flex-start;
}

.ss-search__title {
  font-size: 14px;
  font-weight: 600;
  line-height: 1.35;
}

.ss-search__badges {
  display: inline-flex;
  gap: 6px;
  align-items: center;
  flex-shrink: 0;
}

.ss-search__score {
  padding: 4px 8px;
  border-radius: 999px;
  background: var(--background-secondary);
  color: var(--text-normal);
  font-weight: 600;
  font-size: 12px;
}

.ss-search__meta {
  margin-top: 4px;
  color: var(--text-muted);
  font-size: 12px;
}

.ss-search__excerpt {
  margin-top: 6px;
  color: var(--text-normal);
  line-height: 1.45;
  font-size: 13px;
}

.ss-search__excerpt mark.ss-hl,
mark.ss-hl {
  background: color-mix(in srgb, var(--interactive-accent) 35%, var(--background-primary));
  color: var(--text-normal);
  padding: 0 2px;
  border-radius: 3px;
}

/* Result origin labels */
.ss-search__pill--lexical,
.ss-search__pill--blend,
.ss-search__pill--semantic,
.ss-search__pill--recent {
  border-radius: 12px;
  padding: 4px 8px;
  min-height: 0;
  font-weight: 600;
  font-size: 12px;
  line-height: 1.2;
}

.ss-search__pill--lexical,
.ss-search__pill--recent {
  background: var(--background-secondary);
}

.ss-search__pill--blend {
  background: color-mix(in srgb, var(--interactive-accent) 14%, var(--background-secondary));
}

.ss-search__pill--semantic {
  background: color-mix(in srgb, var(--interactive-accent) 24%, var(--background-secondary));
}

.ss-search__loading,
.ss-search__empty {
  text-align: center;
  color: var(--text-muted);
  padding: 12px 0;
}

/* Draggable cursor for results list */
.ss-modal__list.scs-draggable {
  cursor: grab;
}


/* context-selection.css */
/**
 * Context Selection Modal - Minimal CSS that works with Obsidian's native modal structure
 */

/* Filter buttons container */
.ss-context-filter-container {
  display: flex;
  gap: var(--size-2-2);
  margin: var(--size-4-3) 0;
  flex-wrap: wrap;
}

.ss-context-filter-btn {
  display: flex;
  align-items: center;
  gap: var(--size-2-1);
  padding: var(--size-2-2) var(--size-4-2);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  background: var(--background-primary);
  color: var(--text-muted);
  font-size: var(--font-ui-small);
  cursor: pointer;
  transition: all var(--anim-duration-fast) ease;
}

.ss-context-filter-btn:hover {
  background: var(--background-modifier-hover);
  color: var(--text-normal);
}

.ss-context-filter-btn.is-active {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

/* File list container */
.ss-context-file-list {
  max-height: 400px;
  overflow-y: auto;
  margin: var(--size-4-3) 0;
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
}

/* Individual file items */
.ss-context-file-item {
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
  padding: var(--size-2-3) var(--size-4-3);
  border-bottom: 1px solid var(--background-modifier-border);
  cursor: pointer;
  transition: background-color var(--anim-duration-fast) ease;
}

.ss-context-file-item:last-child {
  border-bottom: none;
}

.ss-context-file-item:hover {
  background: var(--background-modifier-hover);
}

.ss-context-file-item.is-selected {
  background: var(--background-modifier-active-hover);
}

.ss-context-file-item.is-disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.ss-context-file-icon {
  width: var(--icon-m);
  height: var(--icon-m);
  color: var(--icon-color);
  flex-shrink: 0;
}

.ss-context-file-item.is-selected .ss-context-file-icon {
  color: var(--interactive-accent);
}

.ss-context-file-info {
  flex: 1;
  min-width: 0;
}

.ss-context-file-name {
  font-weight: var(--font-medium);
  color: var(--text-normal);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ss-context-file-path {
  font-size: var(--font-ui-smaller);
  color: var(--text-faint);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-top: var(--size-2-1);
}

.ss-context-file-item input[type="checkbox"] {
  width: var(--checkbox-size);
  height: var(--checkbox-size);
  flex-shrink: 0;
}

/* Empty state */
.ss-context-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: var(--size-4-8);
  text-align: center;
  color: var(--text-muted);
}

.ss-context-empty div:first-child {
  width: var(--icon-xl);
  height: var(--icon-xl);
  color: var(--icon-color-disabled);
  margin-bottom: var(--size-4-2);
}

.ss-context-empty p {
  margin: 0;
  font-size: var(--font-ui-medium);
}

/* Load more button */
.ss-context-load-more {
  width: 100%;
  padding: var(--size-4-2);
  border: 1px dashed var(--background-modifier-border);
  border-radius: var(--radius-s);
  background: var(--ss-layer-base);
  color: var(--text-muted);
  font-size: var(--font-ui-small);
  cursor: pointer;
  transition: all var(--anim-duration-fast) ease;
}

.ss-context-load-more:hover {
  border-color: var(--interactive-accent);
  color: var(--interactive-accent);
  background: var(--background-modifier-hover);
}


/* general-modal-styles.css */
/* General Modal Styles - Replaces All Inline Styles
 * 
 * This file contains CSS classes to replace hundreds of inline styles
 * scattered across modal TypeScript files.
 */

/* ============================================================================
   BUTTON CONTAINERS
   ============================================================================ */

.ss-modal-button-container {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 20px;
}

.ss-modal-button-container--centered {
  justify-content: center;
}

.ss-modal-button-container--start {
  justify-content: flex-start;
}

.ss-modal-button-container--grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px;
}

/* ============================================================================
   FORM ELEMENTS  
   ============================================================================ */

.ss-modal-input {
  width: 100%;
  padding: 10px 14px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 16px;
  transition: border-color 0.2s ease;
}

.ss-modal-input:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.ss-modal-input--small {
  padding: 8px 12px;
  font-size: 14px;
}

.ss-modal-textarea {
  width: 100%;
  min-height: 200px;
  padding: 8px;
  box-sizing: border-box;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 14px;
  resize: vertical;
  transition: border-color 0.2s ease;
}

.ss-modal-textarea:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.ss-modal-textarea--small {
  min-height: 60px;
}

/* ============================================================================
   LABELS AND TEXT
   ============================================================================ */

.ss-modal-label {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-normal);
  margin-bottom: 8px;
  display: block;
}

.ss-modal-label--small {
  font-size: 0.9em;
  color: #666;
  margin-bottom: 0.5em;
}

.ss-modal-title {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: var(--text-normal);
}

.ss-modal-title--large {
  margin-top: 1em;
}

.ss-modal-description {
  margin: 16px 20px;
  color: var(--text-muted);
  font-size: 14px;
  line-height: 1.4;
}

.ss-modal-shortcut-hint {
  opacity: 0.7;
  font-size: 12px;
}

/* ============================================================================
   CONTAINERS AND LAYOUT
   ============================================================================ */

.ss-modal-container {
  border-radius: 12px !important;
  padding: 0 !important;
  width: 450px !important;
  max-width: 95vw !important;
}

.ss-modal-container--wide {
  width: 500px !important;
}

.ss-modal-container--narrow {
  width: 400px !important;
}

.ss-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.ss-modal-content {
  margin: 0 20px 16px;
}

.ss-modal-section {
  margin-bottom: 16px;
}

.ss-modal-flex-container {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 8px;
}

.ss-modal-flex-container--large-gap {
  gap: 8px;
}

/* ============================================================================
   PROGRESS ELEMENTS
   ============================================================================ */

.ss-modal-progress-container {
  margin: 0 20px 16px;
  display: none;
}

.ss-modal-progress-container--visible {
  display: block;
}

.ss-modal-progress-text {
  margin-bottom: 8px;
  font-size: 14px;
  color: var(--text-muted);
}

.ss-modal-progress-bar-container {
  width: 100%;
  height: 4px;
  background-color: var(--background-modifier-border);
  border-radius: 2px;
  overflow: hidden;
}

.ss-modal-progress-bar {
  width: 0%;
  height: 100%;
  background-color: var(--interactive-accent);
  border-radius: 2px;
  transition: width 0.3s ease;
}

/* ============================================================================
   INTERACTIVE ELEMENTS
   ============================================================================ */

.ss-modal-icon {
  width: 16px;
  height: 16px;
  cursor: help;
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: color 0.2s ease;
}

.ss-modal-icon:hover {
  color: var(--text-normal);
}

.ss-modal-icon--warning {
  color: var(--color-orange);
}

/* ============================================================================
   FILTER AND CONTROL ELEMENTS
   ============================================================================ */

.ss-modal-filters-container {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 16px;
}

.ss-modal-refresh-button {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 8px 12px;
  border-radius: 4px;
}

.ss-modal-refresh-icon {
  margin-right: 4px;
}

.ss-modal-refresh-icon--spinning {
  animation: ss-spin 1s linear infinite;
}

/* ============================================================================
   BUTTON STYLES
   ============================================================================ */

.ss-modal-button {
  padding: 8px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s ease;
  border: none;
}

.ss-modal-button--primary {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.ss-modal-button--primary:hover {
  background-color: var(--interactive-accent-hover);
}

.ss-modal-button--secondary {
  background-color: var(--background-secondary-alt);
  color: var(--text-normal);
}

.ss-modal-button--secondary:hover {
  background-color: var(--background-modifier-hover);
}

.ss-modal-button--small {
  margin-top: 8px;
}

/* ============================================================================
   SPACING UTILITIES
   ============================================================================ */

.ss-modal-margin-right-8 {
  margin-right: 8px;
}

.ss-modal-margin-top-8 {
  margin-top: 8px;
}

.ss-modal-margin-top-16 {
  margin-top: 16px;
}

.ss-modal-flex-grow {
  flex-grow: 1;
  min-width: 0; /* Allows flex shrinking below content size */
}

/* ============================================================================
   SPECIAL COMPONENTS
   ============================================================================ */

.ss-modal-custom-prompt-info {
  display: none;
}

.ss-modal-custom-prompt-info--visible {
  display: block;
}

.ss-modal-locked-section {
  padding: 16px;
  background-color: var(--background-secondary);
  border-radius: 8px;
  opacity: 0.7;
}

.ss-modal-default-settings {
  background-color: var(--background-secondary);
  padding: 12px;
  border-radius: var(--radius-s);
  margin-top: 16px;
}

.ss-modal-default-settings-title {
  margin-top: 0;
}

.ss-modal-default-settings-description {
  margin-bottom: 12px;
}

.ss-modal-prompt-editor-locked {
  opacity: 0.7;
  cursor: not-allowed;
}

.ss-modal-change-file-button {
  display: none;
}

.ss-modal-change-file-button--visible {
  display: block;
}

/* ============================================================================
   ANIMATION UTILITIES
   ============================================================================ */

@keyframes ss-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
} 

/* model-selection-enhanced.css */
/**
 * Model Selection Modal - Native Obsidian Style
 * 
 * Minimal styling that closely matches Obsidian's native modal appearance
 */

/* === Base Modal - Fix height issues === */
/* Target the actual modal container more specifically */
.modal-container .systemsculpt-model-selection-modal.ss-modal,
.systemsculpt-model-selection-modal.ss-modal {
  height: calc(85vh - 40px) !important; /* Account for modal margins */
  max-height: calc(85vh - 40px) !important;
  min-height: 400px;
  width: 600px;
  max-width: 90vw;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
}

/* Override the large modal fixed height completely */
.modal-container .systemsculpt-model-selection-modal.ss-modal--large,
.systemsculpt-model-selection-modal.ss-modal--large {
  height: calc(85vh - 40px) !important;
}

/* Ensure Obsidian's modal class doesn't interfere */
.modal.mod-dim .systemsculpt-model-selection-modal {
  height: calc(85vh - 40px) !important;
}

.systemsculpt-model-selection-modal .ss-modal__header {
  flex-shrink: 0;
  z-index: 10;
}

.systemsculpt-model-selection-modal .ss-modal__content {
  padding: 0;
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0; /* Critical for flexbox children */
  overflow: hidden;
}

/* Custom content (filters) should not grow */
.systemsculpt-model-selection-modal .ss-modal__custom-content {
  flex-shrink: 0;
}

/* Search bar should not grow */
.systemsculpt-model-selection-modal .ss-modal__search {
  flex-shrink: 0;
}

/* Fix for bottom content being cut off - make list properly scrollable */
.systemsculpt-model-selection-modal .ss-modal__list {
  flex: 1 1 auto;
  overflow-y: scroll !important; /* Force scrollbar to always show */
  overflow-x: hidden;
  min-height: 0; /* Critical for proper scrolling */
  max-height: calc(85vh - 200px) !important; /* Ensure it doesn't exceed available space */
  padding-bottom: 24px !important; /* Even more padding to ensure last item is visible */
  margin-bottom: 0;
  position: relative; /* Ensure proper stacking context */
}

/* Add extra safety margin at the bottom of the list */
.systemsculpt-model-selection-modal .ss-modal__list::after {
  content: "";
  display: block;
  height: 20px;
  flex-shrink: 0;
}

/* Ensure the modal footer doesn't overlap content */
.systemsculpt-model-selection-modal .ss-modal__footer {
  flex-shrink: 0;
  border-top: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  z-index: 10;
}

/* === Filter Bar === */
.ss-model-filter-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: var(--background-primary);
  border-bottom: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
  min-height: 40px;
  overflow: hidden; /* Prevent horizontal scroll */
}

.ss-model-filter-section {
  display: flex;
  align-items: center;
  gap: 6px;
  min-width: 0; /* Allow shrinking */
}

.ss-model-filter-label {
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--text-muted);
  white-space: nowrap;
  margin-right: 2px;
}

.ss-model-filter-buttons {
  display: flex;
  gap: 4px;
  flex-wrap: nowrap; /* Prevent wrapping */
  overflow: hidden; /* Hide overflow instead of scrolling */
}

.ss-model-filter-controls {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-left: auto;
  flex-shrink: 0;
}

/* === Provider Selection Button - Native Style === */
.ss-provider-selection-button {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 3px 10px;
  border-radius: 3px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  font-size: 11px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.1s ease;
  white-space: nowrap;
  min-width: 100px;
}

.ss-provider-selection-button:hover {
  background: var(--background-modifier-hover);
  color: var(--text-normal);
  border-color: var(--interactive-accent);
}

.ss-provider-selection-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 14px;
  height: 14px;
  flex-shrink: 0;
}

.ss-provider-selection-icon svg {
  width: 12px;
  height: 12px;
}

.ss-provider-selection-text {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 4px;
  flex: 1;
}

.ss-provider-selection-label {
  font-weight: 500;
  font-size: 11px;
  line-height: 1;
}

.ss-provider-selection-count {
  font-size: 9px;
  color: var(--text-faint);
  font-weight: 600;
  line-height: 1;
}

.ss-provider-selection-arrow {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 12px;
  height: 12px;
  flex-shrink: 0;
}

.ss-provider-selection-arrow svg {
  width: 10px;
  height: 10px;
  color: var(--text-faint);
  transition: transform 0.1s ease;
}

.ss-provider-selection-button:hover .ss-provider-selection-arrow svg {
  transform: translateX(1px);
}

/* === Provider Selection Modal === */
.systemsculpt-provider-selection-description {
  color: var(--text-muted);
  font-size: 13px;
  line-height: 1.4;
  margin-bottom: 16px;
}

.systemsculpt-provider-selection-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 20px;
}

/* === Provider Toggle Items === */
.systemsculpt-provider-toggle-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background: var(--background-primary);
  cursor: pointer;
  transition: all 0.1s ease;
}

.systemsculpt-provider-toggle-item:hover {
  background: var(--background-secondary);
  border-color: var(--interactive-accent);
}

.systemsculpt-provider-toggle-item.is-selected {
  background: var(--background-primary-alt);
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 1px var(--interactive-accent);
}

.systemsculpt-provider-toggle-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  flex-shrink: 0;
  color: var(--text-muted);
}

.systemsculpt-provider-toggle-icon svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-provider-toggle-item.is-selected .systemsculpt-provider-toggle-icon {
  color: var(--interactive-accent);
}

.systemsculpt-provider-toggle-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.systemsculpt-provider-toggle-name {
  font-weight: 500;
  font-size: 14px;
  color: var(--text-normal);
}

.systemsculpt-provider-toggle-count {
  font-size: 12px;
  color: var(--text-muted);
}

.systemsculpt-provider-toggle-control {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.systemsculpt-provider-toggle-button {
  width: 20px;
  height: 20px;
  border-radius: 3px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  cursor: pointer;
  transition: all 0.1s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 600;
  color: var(--ss-layer-base);
}

.systemsculpt-provider-toggle-button:hover {
  border-color: var(--interactive-accent);
  background: var(--background-secondary);
}

.systemsculpt-provider-toggle-button.is-active {
  background: var(--interactive-accent);
  border-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

/* === Modal Button Container === */
.systemsculpt-modal-button-container {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 20px;
  padding-top: 16px;
  border-top: 1px solid var(--background-modifier-border);
}

/* === Favorites Count === */
.ss-favorites-count {
  font-size: 9px;
  padding: 1px 3px;
  border-radius: 6px;
  background: color-mix(in srgb, rgb(255, 255, 255) 20%, var(--ss-layer-base));
  color: var(--text-on-accent);
  font-weight: 600;
  flex-shrink: 0;
  min-width: 12px;
  text-align: center;
  margin-left: 2px;
}

/* When favorites button is not active, use different styling */
.ss-favorites-button .systemsculpt-favorites-filter:not(.is-active) .ss-favorites-count {
  background: color-mix(in srgb, rgb(0, 0, 0) 10%, var(--ss-layer-base));
  color: var(--text-muted);
}

.theme-dark .ss-favorites-button .systemsculpt-favorites-filter:not(.is-active) .ss-favorites-count {
  background: color-mix(in srgb, rgb(255, 255, 255) 10%, var(--ss-layer-base));
}



/* === Refresh Button === */
.ss-model-refresh-button {
  display: flex;
  align-items: center;
  gap: 3px;
  padding: 3px 6px;
  border-radius: 3px;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border: none;
  font-size: 11px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.1s ease;
  white-space: nowrap;
  flex-shrink: 0;
}

.ss-model-refresh-button:hover {
  background: var(--interactive-accent-hover);
}

.ss-model-refresh-button svg {
  width: 12px;
  height: 12px;
}

.ss-spin {
  animation: ss-spin 1s linear infinite;
}

@keyframes ss-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* === Favorites Button === */
.ss-favorites-button .systemsculpt-favorites-filter {
  display: inline-flex;
  align-items: center;
  gap: 3px;
  padding: 3px 6px;
  border-radius: 3px;
  font-size: 11px;
  font-weight: 500;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  cursor: pointer;
  white-space: nowrap;
  flex-shrink: 0;
  transition: all 0.1s ease;
}

.ss-favorites-button .systemsculpt-favorites-filter:hover {
  background: var(--background-modifier-hover);
  color: var(--text-normal);
}

.ss-favorites-button .systemsculpt-favorites-filter.is-active {
  background: var(--interactive-accent);
  border-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.ss-favorites-button .systemsculpt-favorites-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 12px;
  height: 12px;
  flex-shrink: 0;
}

.ss-favorites-button .systemsculpt-favorites-icon svg {
  width: 12px;
  height: 12px;
}

/* === Search Area === */
.systemsculpt-model-selection-modal .ss-modal__search {
  margin: 8px 16px;
  flex-shrink: 0;
}

.systemsculpt-model-selection-modal .ss-modal__search-input {
  height: 32px;
  padding: 0 32px 0 32px;
  border-radius: 16px;
  border: 1px solid var(--background-modifier-border);
  font-size: 13px;
  background: var(--background-primary);
}

.systemsculpt-model-selection-modal .ss-modal__search-input:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 20%, var(--ss-layer-base));
}

.systemsculpt-model-selection-modal .ss-modal__search-icon {
  left: 12px;
  color: var(--text-muted);
}

.systemsculpt-model-selection-modal .ss-modal__search-clear {
  right: 12px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--background-modifier-hover);
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-model-selection-modal .ss-modal__search-clear:hover {
  background: var(--background-modifier-hover-more);
}

/* === Model List === */
.systemsculpt-model-selection-modal .ss-modal__list {
  padding: 8px 16px 24px 16px; /* Increased bottom padding */
  gap: 4px;
  background: var(--background-primary);
  /* Remove duplicate styles since we set them above */
}

.systemsculpt-model-selection-modal .ss-modal__item {
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  padding: 12px;
  background: var(--background-primary);
  transition: all 0.1s ease;
  opacity: 1 !important;
  visibility: visible !important;
}

.systemsculpt-model-selection-modal .ss-modal__item:hover {
  border-color: var(--interactive-accent) !important;
  background: var(--background-secondary) !important;
}

.systemsculpt-model-selection-modal .ss-modal__item.ss-active {
  border-color: var(--interactive-accent) !important;
  background: var(--background-primary-alt) !important;
  box-shadow: 0 0 0 2px var(--interactive-accent);
  position: relative;
  animation: ss-selected-pulse 0.3s ease-out;
}

@keyframes ss-selected-pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 2px var(--interactive-accent);
  }
  50% {
    transform: scale(1.02);
    box-shadow: 0 0 0 4px var(--interactive-accent);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 2px var(--interactive-accent);
  }
}

/* Fix: Selected models should also show hover effects */
.systemsculpt-model-selection-modal .ss-modal__item.ss-active:hover {
  background: var(--background-secondary-alt) !important;
  box-shadow: 0 0 0 2px var(--interactive-accent);
}

/* Add "SELECTED" badge to the currently active model */
.systemsculpt-model-selection-modal .ss-modal__item.ss-active::before {
  content: "SELECTED";
  position: absolute;
  top: 8px;
  right: 8px;
  font-size: 9px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  padding: 2px 6px;
  border-radius: 3px;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  z-index: 2;
  box-shadow: 0 1px 3px color-mix(in srgb, rgb(0, 0, 0) 10%, var(--ss-layer-base));
}

/* Adjust existing badges when "SELECTED" badge is present */
.systemsculpt-model-selection-modal .ss-modal__item.ss-active .provider-badge {
  margin-right: 60px; /* Make room for the SELECTED badge */
}

.systemsculpt-model-selection-modal .ss-modal__item-icon {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  transition: all 0.1s ease;
}

.systemsculpt-model-selection-modal .ss-modal__item-icon svg {
  width: 16px;
  height: 16px;
}

/* Enhanced icon styling for selected model */
.systemsculpt-model-selection-modal .ss-modal__item.ss-active .ss-modal__item-icon {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border-radius: 4px;
  box-shadow: 0 2px 4px color-mix(in srgb, rgb(0, 0, 0) 10%, var(--ss-layer-base));
}

.systemsculpt-model-selection-modal .ss-modal__item.ss-active .ss-modal__item-title {
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-model-selection-modal .ss-modal__item-title {
  font-size: 14px;
  font-weight: 500;
  margin-bottom: 2px;
}

.systemsculpt-model-selection-modal .ss-modal__item-description {
  font-size: 12px;
  line-height: 1.4;
  color: var(--text-muted);
}

/* Special styling for current model when shown outside filter results */
.systemsculpt-model-selection-modal .ss-modal__item.ss-current-model:not(.ss-active) {
  opacity: 0.85;
  border-style: dashed;
  border-color: var(--interactive-accent-hover);
  background: var(--background-secondary);
}

.systemsculpt-model-selection-modal .ss-modal__item.ss-current-model:not(.ss-active)::after {
  content: "Current Model (filtered out)";
  position: absolute;
  top: 8px;
  right: 8px;
  font-size: 9px;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  padding: 2px 6px;
  border-radius: 3px;
  background: var(--background-modifier-border);
  color: var(--text-muted);
  z-index: 2;
}

/* === Provider Badges === */
.systemsculpt-model-selection-modal .provider-badge {
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  background: var(--background-secondary);
  color: var(--text-muted);
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-model-selection-modal .provider-badge[data-badge="New"] {
  background: var(--color-green);
  color: white;
  border-color: var(--color-green);
}

.systemsculpt-model-selection-modal .provider-badge[data-badge="Beta"] {
  background: var(--color-orange);
  color: white;
  border-color: var(--color-orange);
}

.systemsculpt-model-selection-modal .provider-badge[data-badge="Agent"] {
  background: var(--color-purple);
  color: white;
  border-color: var(--color-purple);
}

.systemsculpt-model-selection-modal .provider-badge[data-badge="Legacy"] {
  background: var(--color-red);
  color: white;
  border-color: var(--color-red);
  opacity: 0.8;
}

/* === Empty State === */
.systemsculpt-model-selection-modal .systemsculpt-favorites-empty-state {
  margin: 24px;
  padding: 32px;
  background: var(--background-secondary);
  border: 1px dashed var(--background-modifier-border);
  border-radius: 8px;
  text-align: center;
}

/* Ensure empty state doesn't break scrolling */
.systemsculpt-model-selection-modal .ss-modal__empty-state {
  padding: 24px;
  text-align: center;
  color: var(--text-muted);
}

.systemsculpt-model-selection-modal .systemsculpt-favorites-empty-state svg {
  width: 32px;
  height: 32px;
  color: var(--text-faint);
  margin-bottom: 12px;
}

.systemsculpt-model-selection-modal .systemsculpt-favorites-empty-state h4 {
  font-size: 16px;
  margin-bottom: 6px;
}

.systemsculpt-model-selection-modal .systemsculpt-favorites-empty-state p {
  font-size: 13px;
  line-height: 1.5;
  max-width: 300px;
  margin: 0 auto;
}

/* === Mobile Responsiveness === */
@media (max-width: 768px) {
  .systemsculpt-model-selection-modal.ss-modal {
    width: 95vw;
    height: 80vh;
    max-height: none;
  }
  
  .ss-model-filter-bar {
    padding: 6px 8px;
    gap: 4px;
    flex-direction: column;
    min-height: auto;
  }
  
  .ss-model-filter-section {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  .ss-model-filter-controls {
    width: 100%;
    margin-left: 0;
    justify-content: flex-end;
    gap: 8px;
  }
  
  .ss-provider-filter-button {
    padding: 2px 4px;
    font-size: 10px;
  }
  
  .ss-provider-label {
    display: none; /* Hide labels on mobile */
  }
  
  .ss-model-refresh-button {
    padding: 2px 4px;
    font-size: 10px;
  }
  
  .ss-model-refresh-button span:last-child {
    display: none; /* Hide text on mobile */
  }
  
  /* Keep favorites text visible on mobile */
  .ss-favorites-button .systemsculpt-favorites-label {
    display: inline; /* Show favorites text on mobile */
  }
  
  /* Make favorites button consistent with other buttons on mobile */
  .ss-favorites-button .systemsculpt-favorites-filter {
    padding: 2px 4px;
    font-size: 10px;
  }
}

@media (max-width: 480px) {
  .ss-model-filter-bar {
    padding: 4px 6px;
  }
  
  .systemsculpt-model-selection-modal .ss-modal__item {
    padding: 6px 8px;
  }
  
  .systemsculpt-model-selection-modal .ss-modal__item-title {
    font-size: 13px;
  }
  
  .systemsculpt-model-selection-modal .ss-modal__item-description {
    font-size: 11px;
  }
}

/* Force full opacity on all model items */
.systemsculpt-model-selection-modal .ss-modal__item,
.systemsculpt-model-selection-modal .ss-modal__item.is-favorite,
.systemsculpt-model-selection-modal .ss-modal__item:not(.is-favorite),
.systemsculpt-model-selection-modal.favorites-active .ss-modal__item,
.systemsculpt-model-selection-modal.show-favorites .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Additional fix to ensure proper scrolling */
.systemsculpt-model-selection-modal {
  /* Ensure the modal container itself is properly sized */
  .modal {
    display: flex !important;
    flex-direction: column !important;
    height: 85vh !important;
    max-height: 85vh !important;
  }
  
  /* Debug helper - add visible scrollbar to verify scrolling works */
  .ss-modal__list::-webkit-scrollbar {
    width: 8px;
  }
  
  .ss-modal__list::-webkit-scrollbar-track {
    background: var(--background-modifier-border);
  }
  
  .ss-modal__list::-webkit-scrollbar-thumb {
    background: var(--text-muted);
    border-radius: 4px;
  }
  
  .ss-modal__list::-webkit-scrollbar-thumb:hover {
    background: var(--text-normal);
  }
}


/* janitor-modal.css */
/**
 * SystemSculpt Janitor Modal Styles
 * 
 * Modern, responsive styling for the Janitor modal and its submodals.
 * Follows the StandardModal design system and Obsidian's native look and feel.
 */

/* ============================================================================
   MAIN JANITOR MODAL
   ============================================================================ */

.ss-janitor-modal {
  /* Ensure proper size and positioning */
  max-width: 800px;
  width: 90vw;
  max-height: 85vh;
  display: flex;
  flex-direction: column;
  overflow: hidden; /* Let the content handle scrolling */
}

.ss-janitor-modal .ss-modal__header {
  background: linear-gradient(135deg, var(--background-primary) 0%, var(--background-secondary) 100%);
  border-bottom: 2px solid var(--background-modifier-border);
}

.ss-janitor-modal .ss-modal__title {
  color: var(--text-accent);
  font-size: 20px;
  font-weight: 700;
}

.ss-janitor-modal .ss-modal__description {
  margin-top: 8px;
  font-size: 14px;
  line-height: 1.5;
}

/* ============================================================================
   SECTIONS LAYOUT
   ============================================================================ */

.ss-janitor-modal .ss-modal__content {
  /* Enable scrolling for the content area */
  overflow-y: auto;
  flex: 1;
  min-height: 0; /* Critical for proper flexbox scrolling */
}

.ss-janitor-sections {
  display: flex;
  flex-direction: column;
  gap: 24px;
  padding: 4px 0 20px 0; /* Add bottom padding for scroll comfort */
}

.ss-janitor-section {
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 0;
  overflow: hidden;
  transition: all 0.2s ease;
  position: relative;
}

.ss-janitor-section:hover {
  border-color: var(--background-modifier-border-hover);
  box-shadow: 0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 10%, var(--ss-layer-base));
}

.ss-janitor-section-header {
  padding: 16px 20px;
  border-bottom: 1px solid var(--background-modifier-border);
  background: linear-gradient(90deg, var(--background-primary) 0%, var(--background-secondary) 100%);
}

.ss-janitor-section-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-normal);
  margin: 0 0 4px 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

.ss-janitor-section-description {
  font-size: 13px;
  color: var(--text-muted);
  margin: 0;
  line-height: 1.4;
}

.ss-janitor-section-content {
  padding: 20px;
  position: relative;
  transition: opacity 0.2s ease;
}

/* ============================================================================
   LOADING OVERLAY AND STATES
   ============================================================================ */

.ss-janitor-loading-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--background-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
}

.ss-janitor-loading-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  padding: 32px;
  text-align: center;
}

.ss-janitor-loading-icon {
  width: 32px;
  height: 32px;
  animation: ss-spin 1s linear infinite;
  color: var(--text-accent);
}

.ss-janitor-loading-text {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.ss-janitor-loading-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-normal);
}

.ss-janitor-loading-subtitle {
  font-size: 14px;
  color: var(--text-muted);
}

/* ============================================================================
   ERROR STATES
   ============================================================================ */

.ss-janitor-error {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  padding: 40px 20px;
  text-align: center;
}

.ss-janitor-error-icon {
  width: 48px;
  height: 48px;
  color: var(--text-error);
}

.ss-janitor-error-text {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ss-janitor-error-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-error);
}

.ss-janitor-error-message {
  font-size: 14px;
  color: var(--text-muted);
  max-width: 400px;
  line-height: 1.4;
}

@keyframes ss-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* ============================================================================
   STATS CARDS
   ============================================================================ */

.ss-janitor-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
  margin-bottom: 20px;
}

.ss-janitor-stat-card {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  transition: all 0.15s ease;
}

.ss-janitor-stat-card:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--background-modifier-border-hover);
}

.ss-janitor-stat-card--warning {
  border-color: var(--color-orange);
  background-color: color-mix(in srgb, rgb(var(--color-orange-rgb)) 10%, var(--ss-layer-base));
}

.ss-janitor-stat-card--success {
  border-color: var(--color-green);
  background-color: color-mix(in srgb, rgb(var(--color-green-rgb)) 10%, var(--ss-layer-base));
}

.ss-janitor-stat-card--muted {
  opacity: 0.7;
}

.ss-janitor-stat-icon {
  flex-shrink: 0;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-accent);
}

.ss-janitor-stat-card--warning .ss-janitor-stat-icon {
  color: var(--color-orange);
}

.ss-janitor-stat-card--success .ss-janitor-stat-icon {
  color: var(--color-green);
}

.ss-janitor-stat-content {
  flex: 1;
  min-width: 0;
}

.ss-janitor-stat-value {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-normal);
  line-height: 1.2;
  margin-bottom: 2px;
}

.ss-janitor-stat-label {
  font-size: 11px;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 500;
}

/* ============================================================================
   ACTION BUTTONS
   ============================================================================ */

.ss-janitor-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

.ss-janitor-actions .ss-button {
  min-width: 140px;
  font-weight: 500;
  font-size: 14px;
}

.ss-janitor-actions .ss-button.ss-disabled {
  opacity: 0.5;
  cursor: not-allowed;
  background-color: var(--background-modifier-border);
  color: var(--text-muted);
}

/* ============================================================================
   CONFIRMATION MODALS
   ============================================================================ */

.ss-janitor-preview {
  margin-top: 16px;
}

.ss-janitor-preview-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px 6px 0 0;
  border-bottom: none;
}

.ss-janitor-preview-count {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-normal);
}

.ss-janitor-preview-list {
  max-height: 300px;
  overflow-y: auto;
  border: 1px solid var(--background-modifier-border);
  border-top: none;
  border-radius: 0 0 6px 6px;
  background-color: var(--background-primary);
}

.ss-janitor-preview-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 16px;
  border-bottom: 1px solid var(--background-modifier-border);
  font-size: 13px;
  transition: background-color 0.1s ease;
}

.ss-janitor-preview-item:last-child {
  border-bottom: none;
}

.ss-janitor-preview-item:hover {
  background-color: var(--background-modifier-hover);
}

.ss-janitor-preview-icon {
  flex-shrink: 0;
  width: 16px;
  height: 16px;
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
}

.ss-janitor-preview-path {
  flex: 1;
  min-width: 0;
  color: var(--text-normal);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.ss-janitor-preview-size {
  flex-shrink: 0;
  color: var(--text-muted);
  font-size: 12px;
  font-weight: 500;
  background-color: var(--background-secondary);
  padding: 2px 6px;
  border-radius: 3px;
}

.ss-janitor-preview-more {
  padding: 12px 16px;
  text-align: center;
  color: var(--text-muted);
  font-style: italic;
  border-top: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
}

/* ============================================================================
   EMPTY CONTENT PREVIEW SECTIONS
   ============================================================================ */

.ss-janitor-preview-section {
  margin-bottom: 20px;
}

.ss-janitor-preview-section:last-child {
  margin-bottom: 0;
}

.ss-janitor-preview-section-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px 6px 0 0;
  border-bottom: none;
}

.ss-janitor-preview-section-icon {
  width: 16px;
  height: 16px;
  color: var(--text-accent);
  display: flex;
  align-items: center;
  justify-content: center;
}

.ss-janitor-preview-section-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-normal);
}

/* ============================================================================
   SCROLLBAR STYLING
   ============================================================================ */

.ss-janitor-modal .ss-modal__content {
  /* Custom scrollbar for better UX */
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb-bg) var(--scrollbar-bg);
}

.ss-janitor-modal .ss-modal__content::-webkit-scrollbar {
  width: 8px;
}

.ss-janitor-modal .ss-modal__content::-webkit-scrollbar-track {
  background: var(--background-secondary);
  border-radius: 4px;
}

.ss-janitor-modal .ss-modal__content::-webkit-scrollbar-thumb {
  background: var(--background-modifier-border);
  border-radius: 4px;
  transition: background-color 0.2s ease;
}

.ss-janitor-modal .ss-modal__content::-webkit-scrollbar-thumb:hover {
  background: var(--background-modifier-border-hover);
}

/* ============================================================================
   MOBILE RESPONSIVENESS
   ============================================================================ */

@media (max-width: 768px) {
  .ss-janitor-modal {
    width: 95vw;
    max-height: 90vh;
  }

  .ss-janitor-sections {
    gap: 16px;
  }

  .ss-janitor-section-header {
    padding: 12px 16px;
  }

  .ss-janitor-section-content {
    padding: 16px;
  }

  .ss-janitor-stats {
    grid-template-columns: 1fr;
    gap: 8px;
  }

  .ss-janitor-stat-card {
    padding: 10px;
  }

  .ss-janitor-actions {
    flex-direction: column;
    gap: 8px;
  }

  .ss-janitor-actions .ss-button {
    min-width: unset;
    width: 100%;
  }

  .ss-janitor-preview-list {
    max-height: 200px;
  }

  .ss-janitor-preview-item {
    padding: 6px 12px;
    font-size: 12px;
  }

  .ss-janitor-preview-path {
    /* Allow text to wrap on mobile for better readability */
    white-space: normal;
    word-break: break-all;
  }
}

@media (max-width: 480px) {
  .ss-janitor-modal .ss-modal__title {
    font-size: 18px;
  }

  .ss-janitor-section-title {
    font-size: 15px;
  }

  .ss-janitor-stat-value {
    font-size: 14px;
  }

  .ss-janitor-stat-label {
    font-size: 10px;
  }
}

/* ============================================================================
   ACCESSIBILITY AND FOCUS STATES
   ============================================================================ */

.ss-janitor-section:focus-within {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 20%, var(--ss-layer-base));
}

.ss-janitor-stat-card:focus-within {
  border-color: var(--interactive-accent);
  outline: none;
}

.ss-janitor-preview-item:focus-within {
  background-color: var(--background-modifier-hover);
  outline: none;
}

/* ============================================================================
   HIGH CONTRAST THEME SUPPORT
   ============================================================================ */

@media (prefers-contrast: high) {
  .ss-janitor-section {
    border-width: 2px;
  }

  .ss-janitor-stat-card {
    border-width: 2px;
  }

  .ss-janitor-preview-item {
    border-bottom-width: 2px;
  }
}

/* ============================================================================
   REDUCED MOTION SUPPORT
   ============================================================================ */

@media (prefers-reduced-motion: reduce) {
  .ss-janitor-section,
  .ss-janitor-stat-card,
  .ss-janitor-preview-item,
  .ss-janitor-section-content {
    transition: none;
  }

  .ss-janitor-loading-icon {
    animation: none;
  }
}

/* changelog-modal.css */
/* Changelog Modal - scoped styles */

.ss-changelog-modal .ss-modal__header {
  gap: 8px;
}

.ss-changelog-modal .ss-modal__subtitle {
  color: var(--text-muted);
  font-size: 13px;
}

.ss-changelog-header-controls {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 4px;
}

.ss-changelog-version-select {
  flex: 0 0 auto;
  max-width: 280px;
  height: 32px;
  padding: 4px 8px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: var(--background-secondary);
  color: var(--text-normal);
}

/* Make content scroll within the content area while header/footer remain fixed */
.ss-changelog-modal .ss-modal__content {
  overflow: hidden;
}

.ss-changelog-modal .systemsculpt-changelog-modal {
  display: flex;
  flex-direction: column;
  gap: 12px;
  flex: 1 1 auto;
  min-height: 0; /* critical for flex child scrolling */
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  padding-right: 6px; /* space for scrollbar */
}

.ss-changelog-modal .systemsculpt-changelog-notes {
  flex: 1 1 auto;
  min-height: 0;
}

.ss-changelog-modal .systemsculpt-changelog-notes-inner {
  padding-right: 6px;
}

/* Enhance markdown readability inside modal */
.ss-changelog-modal .markdown-preview-view {
  --md-heading-color: var(--text-normal);
}

.ss-changelog-modal .markdown-preview-view h1,
.ss-changelog-modal .markdown-preview-view h2,
.ss-changelog-modal .markdown-preview-view h3 {
  color: var(--text-normal);
  margin-top: 16px;
  margin-bottom: 8px;
}

.ss-changelog-modal .markdown-preview-view p,
.ss-changelog-modal .markdown-preview-view ul,
.ss-changelog-modal .markdown-preview-view ol {
  line-height: 1.6;
  margin-bottom: 10px;
}

.ss-changelog-modal .markdown-preview-view blockquote {
  border-left: 3px solid var(--interactive-accent);
  background: var(--background-secondary);
  padding: 8px 12px;
  border-radius: 6px;
}

.ss-changelog-modal .markdown-preview-view code {
  background: var(--background-secondary);
  padding: 2px 6px;
  border-radius: 4px;
}

.ss-changelog-modal .markdown-preview-view pre code {
  display: block;
  padding: 12px;
  border-radius: 8px;
  overflow-x: auto;
}

/* Footer layout: space between left and right groups */
.ss-changelog-modal .ss-modal__footer {
  justify-content: space-between;
}

.ss-changelog-modal .ss-modal__footer-group {
  display: flex;
  gap: 8px;
}

/* Custom scrollbar */
.ss-changelog-modal .systemsculpt-changelog-modal {
  scrollbar-width: thin;
}

.ss-changelog-modal .systemsculpt-changelog-modal::-webkit-scrollbar {
  width: 8px;
}

.ss-changelog-modal .systemsculpt-changelog-modal::-webkit-scrollbar-track {
  background: var(--background-secondary);
  border-radius: 4px;
}

.ss-changelog-modal .systemsculpt-changelog-modal::-webkit-scrollbar-thumb {
  background: var(--background-modifier-border);
  border-radius: 4px;
}

.ss-changelog-modal .systemsculpt-changelog-modal::-webkit-scrollbar-thumb:hover {
  background: var(--background-modifier-border-hover);
}

/* Responsive adjustments */
@media (max-width: 680px) {
  .ss-changelog-header-controls {
    flex-wrap: wrap;
  }
  .ss-changelog-version-select {
    flex: 1 1 100%;
    max-width: 100%;
  }
  .ss-changelog-modal .ss-modal__content {
    padding: 12px;
  }
}




/* embeddings-status-modal.css */
/**
 * Embeddings Status Modal
 *
 * Real-time embeddings status display with provider info, stats, and controls
 */

.systemsculpt-embeddings-status-modal.ss-modal--medium {
  width: 480px;
  max-width: 95vw;
}

.ss-embeddings-status {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.ss-embeddings-provider-card {
  background: var(--background-secondary);
  border-radius: 8px;
  padding: 16px;
  border: 1px solid var(--background-modifier-border);
}

.ss-embeddings-provider-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
}

.ss-embeddings-status-indicator {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  flex-shrink: 0;
}

.ss-embeddings-status-indicator--idle {
  background: var(--color-green);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--color-green) 20%, transparent);
}

.ss-embeddings-status-indicator--active {
  background: var(--interactive-accent);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--interactive-accent) 20%, transparent);
  animation: ss-pulse 1.5s ease-in-out infinite;
}

@keyframes ss-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.ss-embeddings-provider-title {
  flex: 1;
}

.ss-embeddings-provider-status {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-normal);
}

.ss-embeddings-provider-details {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

.ss-embeddings-detail-item {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 4px;
}

.ss-embeddings-detail-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  color: var(--text-muted);
}

.ss-embeddings-detail-label {
  font-size: 11px;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.ss-embeddings-detail-value {
  font-size: 13px;
  color: var(--text-normal);
  font-weight: 500;
  word-break: break-word;
}

.ss-embeddings-stats-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

.ss-embeddings-stat-card {
  background: var(--background-secondary);
  border-radius: 8px;
  padding: 14px;
  text-align: center;
  border: 1px solid var(--background-modifier-border);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.ss-embeddings-stat-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  color: var(--text-muted);
  margin-bottom: 4px;
}

.ss-embeddings-stat-value {
  font-size: 24px;
  font-weight: 700;
  color: var(--text-normal);
  line-height: 1;
  font-variant-numeric: tabular-nums;
}

.ss-embeddings-stat-label {
  font-size: 12px;
  color: var(--text-normal);
  font-weight: 500;
}

.ss-embeddings-stat-subtext {
  font-size: 11px;
  color: var(--text-muted);
}

.ss-embeddings-progress-section {
  background: var(--background-secondary);
  border-radius: 8px;
  padding: 14px;
  border: 1px solid var(--background-modifier-border);
}

.ss-embeddings-progress-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}

.ss-embeddings-progress-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  color: var(--interactive-accent);
  animation: ss-spin 1s linear infinite;
}

.ss-embeddings-progress-text {
  font-size: 13px;
  color: var(--text-normal);
  flex: 1;
}

.ss-embeddings-progress-track {
  width: 100%;
  height: 6px;
  background: var(--background-modifier-border);
  border-radius: 3px;
  overflow: hidden;
}

.ss-embeddings-progress-bar {
  height: 100%;
  background: var(--interactive-accent);
  border-radius: 3px;
  transition: width 0.3s ease;
  width: 0%;
}

.ss-embeddings-error-section {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 12px;
  background: color-mix(in srgb, var(--color-red) 10%, var(--background-secondary));
  border: 1px solid color-mix(in srgb, var(--color-red) 30%, var(--background-modifier-border));
  border-radius: 8px;
}

.ss-embeddings-error-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  color: var(--color-red);
  flex-shrink: 0;
}

.ss-embeddings-error-text {
  font-size: 13px;
  color: var(--text-normal);
  line-height: 1.4;
}

.ss-embeddings-actions {
  display: flex;
  gap: 10px;
}

.ss-embeddings-action-button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 16px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s ease;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-secondary);
  color: var(--text-normal);
  flex: 1;
}

.ss-embeddings-action-button:hover:not(:disabled) {
  background: var(--background-modifier-hover);
  border-color: var(--background-modifier-border-hover);
}

.ss-embeddings-action-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.ss-embeddings-action-button--primary {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

.ss-embeddings-action-button--primary:hover:not(:disabled) {
  background: var(--interactive-accent-hover);
  border-color: var(--interactive-accent-hover);
}

.ss-embeddings-action-button--danger {
  background: var(--color-red);
  color: white;
  border-color: var(--color-red);
}

.ss-embeddings-action-button--danger:hover:not(:disabled) {
  background: color-mix(in srgb, var(--color-red) 80%, black);
  border-color: color-mix(in srgb, var(--color-red) 80%, black);
}

.ss-embeddings-action-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
}

.ss-embeddings-notice {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 14px;
  background: var(--background-secondary);
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  font-size: 14px;
}

.ss-embeddings-notice-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  color: var(--text-muted);
  flex-shrink: 0;
}

@media (max-width: 500px) {
  .ss-embeddings-provider-details {
    grid-template-columns: 1fr;
    gap: 8px;
  }

  .ss-embeddings-detail-item {
    flex-direction: row;
    align-items: center;
    gap: 8px;
  }

  .ss-embeddings-detail-label {
    min-width: 60px;
  }

  .ss-embeddings-stats-grid {
    grid-template-columns: 1fr;
  }

  .ss-embeddings-stat-card {
    flex-direction: row;
    justify-content: space-between;
    text-align: left;
  }

  .ss-embeddings-stat-icon {
    margin-bottom: 0;
  }

  .ss-embeddings-actions {
    flex-direction: column;
  }
}


/* bulk-automation-modal.css */
.systemsculpt-bulk-confirm-widget,
.systemsculpt-bulk-progress-widget {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 320px;
  max-width: calc(100vw - 40px);
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 12px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
  z-index: 1000;
  animation: slide-up-fade-in 0.3s ease;
  overflow: hidden;
}

@keyframes slide-up-fade-in {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.systemsculpt-bulk-widget-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 14px;
  background: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-bulk-widget-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border-radius: 6px;
  flex-shrink: 0;
}

.systemsculpt-bulk-confirm-widget .systemsculpt-bulk-widget-icon {
  background: color-mix(in srgb, var(--color-yellow) 20%, transparent);
  color: var(--color-yellow);
}

.systemsculpt-bulk-progress-widget .systemsculpt-bulk-widget-icon {
  background: color-mix(in srgb, var(--interactive-accent) 20%, transparent);
  color: var(--interactive-accent);
}

.systemsculpt-bulk-widget-icon.processing svg {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.systemsculpt-bulk-widget-title {
  flex: 1;
  font-weight: 600;
  font-size: 0.95em;
  color: var(--text-normal);
}

.systemsculpt-bulk-widget-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 4px;
  cursor: pointer;
  color: var(--text-muted);
  transition: all 0.15s ease;
}

.systemsculpt-bulk-widget-close:hover {
  background: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-bulk-widget-body {
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-bulk-widget-description {
  font-size: 0.9em;
  color: var(--text-normal);
  font-weight: 500;
}

.systemsculpt-bulk-widget-info {
  font-size: 0.8em;
  color: var(--text-muted);
}

.systemsculpt-bulk-widget-status {
  font-size: 0.85em;
  color: var(--text-muted);
}

.systemsculpt-bulk-widget-count {
  font-size: 0.9em;
  color: var(--text-normal);
  font-weight: 500;
  font-variant-numeric: tabular-nums;
}

.systemsculpt-bulk-widget-progress-track {
  width: 100%;
  height: 6px;
  background: var(--background-modifier-border);
  border-radius: 3px;
  overflow: hidden;
}

.systemsculpt-bulk-widget-progress-fill {
  height: 100%;
  background: var(--interactive-accent);
  border-radius: 3px;
  transition: width 0.3s ease;
  width: 0%;
}

.systemsculpt-bulk-progress-widget.is-complete .systemsculpt-bulk-widget-progress-fill {
  background: var(--color-green);
}

.systemsculpt-bulk-progress-widget.is-complete .systemsculpt-bulk-widget-icon {
  background: color-mix(in srgb, var(--color-green) 20%, transparent);
  color: var(--color-green);
}

.systemsculpt-bulk-progress-widget.is-error .systemsculpt-bulk-widget-progress-fill {
  background: var(--color-red);
}

.systemsculpt-bulk-progress-widget.is-error .systemsculpt-bulk-widget-icon {
  background: color-mix(in srgb, var(--color-red) 20%, transparent);
  color: var(--color-red);
}

.systemsculpt-bulk-progress-widget.is-stopped .systemsculpt-bulk-widget-progress-fill {
  background: color-mix(in srgb, var(--text-muted) 70%, var(--background-modifier-border));
}

.systemsculpt-bulk-progress-widget.is-stopped .systemsculpt-bulk-widget-icon {
  background: color-mix(in srgb, var(--text-muted) 20%, transparent);
  color: var(--text-muted);
}

.systemsculpt-bulk-widget-batch {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-top: 4px;
}

.systemsculpt-bulk-batch-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  background: var(--background-secondary);
  border-radius: 6px;
  font-size: 0.85em;
  transition: background 0.2s ease;
}

.systemsculpt-bulk-batch-item.is-complete {
  background: color-mix(in srgb, var(--color-green) 10%, var(--background-secondary));
}

.systemsculpt-bulk-batch-item.is-error {
  background: color-mix(in srgb, var(--color-red) 10%, var(--background-secondary));
}

.systemsculpt-bulk-batch-item.is-skipped {
  background: color-mix(in srgb, var(--text-muted) 12%, var(--background-secondary));
}

.systemsculpt-bulk-batch-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  flex-shrink: 0;
}

.systemsculpt-bulk-batch-item.is-complete .systemsculpt-bulk-batch-icon {
  color: var(--color-green);
}

.systemsculpt-bulk-batch-item.is-error .systemsculpt-bulk-batch-icon {
  color: var(--color-red);
}

.systemsculpt-bulk-batch-item.is-skipped .systemsculpt-bulk-batch-icon {
  color: var(--text-muted);
}

.systemsculpt-bulk-batch-name {
  flex: 1;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--text-normal);
}

.systemsculpt-bulk-batch-status {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  flex-shrink: 0;
}

.systemsculpt-bulk-batch-status svg {
  width: 14px;
  height: 14px;
}

.systemsculpt-bulk-batch-item:not(.is-complete):not(.is-error) .systemsculpt-bulk-batch-status svg {
  animation: spin 1s linear infinite;
}

.systemsculpt-bulk-batch-item.is-complete .systemsculpt-bulk-batch-status {
  color: var(--color-green);
}

.systemsculpt-bulk-batch-item.is-error .systemsculpt-bulk-batch-status {
  color: var(--color-red);
}

.systemsculpt-bulk-batch-item.is-skipped .systemsculpt-bulk-batch-status {
  color: var(--text-muted);
}

.systemsculpt-bulk-widget-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  padding: 0 14px 14px;
}

.systemsculpt-bulk-widget-buttons button,
.systemsculpt-bulk-widget-button {
  padding: 6px 14px;
  border-radius: 6px;
  font-size: 0.85em;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s ease;
  background: var(--background-modifier-border);
  color: var(--text-normal);
  border: none;
}

.systemsculpt-bulk-widget-buttons button:hover {
  background: var(--background-modifier-border-hover);
}

.systemsculpt-bulk-widget-buttons button.mod-cta {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-bulk-widget-buttons button.mod-cta:hover {
  background: var(--interactive-accent-hover);
}

.systemsculpt-bulk-widget-buttons button.mod-danger {
  background: color-mix(in srgb, var(--color-red) 20%, var(--background-modifier-border));
  color: var(--text-normal);
}

.systemsculpt-bulk-widget-buttons button.mod-danger:hover {
  background: color-mix(in srgb, var(--color-red) 40%, var(--background-modifier-border));
}

.systemsculpt-bulk-widget-detail {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px 10px;
  border-radius: 8px;
  background: var(--background-secondary);
  color: var(--text-normal);
  font-size: 0.82em;
  line-height: 1.35;
}

.systemsculpt-bulk-widget-detail.is-hidden {
  display: none;
}

.systemsculpt-bulk-widget-detail-primary {
  font-weight: 600;
}

.systemsculpt-bulk-widget-detail-secondary {
  color: var(--text-muted);
}

.systemsculpt-bulk-progress-widget.is-minimized .systemsculpt-bulk-widget-body {
  display: none;
}

.systemsculpt-bulk-progress-widget.is-minimized {
  width: auto;
}

.systemsculpt-bulk-progress-widget.is-minimized .systemsculpt-bulk-widget-header {
  border-bottom: none;
}


/* chat.css */
/**
 * Chat View - Modern UI/UX Design System
 * 
 * Clean, elegant chat interface with glassmorphism and smooth animations
 */

/* Ensure Obsidian's view container uses full width */
.workspace-leaf-content[data-type="systemsculpt-chat-view"] {
  padding: 0;
}

.workspace-leaf-content[data-type="systemsculpt-chat-view"] > .view-content {
  padding: 0;
  max-width: none;
  width: 100%;
}

/* ╔═══════════════════════════════════════════════════════════╗
   ║  Messages Container - Main chat scrollable area          ║
   ╚═══════════════════════════════════════════════════════════╝ */

.systemsculpt-messages-container {
  /* Layout */
  overflow-y: auto;
  overflow-x: hidden;
  height: auto;
  flex: 1 1 auto;
  min-height: 0;
  padding: 24px 20px;
  position: relative;
  
  /* Visual Design */
  background: linear-gradient(
    180deg,
    var(--background-primary) 0%,
    var(--background-primary-alt) 100%
  );
  
  /* Smooth Scrolling */
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: auto; /* Controlled programmatically */
  
  /* Performance */
  will-change: scroll-position;
  transform: translateZ(0);
  backface-visibility: hidden;
  /* Prevent descendants from creating horizontal overflow */
  contain: layout paint;
}

/* Modern Scrollbar Design */
.systemsculpt-messages-container::-webkit-scrollbar {
  width: 8px;
}

.systemsculpt-messages-container::-webkit-scrollbar-track {
  background: color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 10%, var(--ss-layer-base));
  border-radius: 4px;
  margin: 8px 0;
}

.systemsculpt-messages-container::-webkit-scrollbar-thumb {
  background: linear-gradient(
    180deg,
    color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 40%, var(--ss-layer-base)),
    color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 20%, var(--ss-layer-base))
  );
  border-radius: 4px;
  border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 20%, var(--ss-layer-base));
  transition: all 0.2s ease;
}

.systemsculpt-messages-container::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(
    180deg,
    color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 60%, var(--ss-layer-base)),
    color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 40%, var(--ss-layer-base))
  );
  box-shadow: 0 0 8px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 30%, var(--ss-layer-base));
}

/* ╔═══════════════════════════════════════════════════════════╗
   ║  Scroll to Bottom - Floating Action Button               ║
   ╚═══════════════════════════════════════════════════════════╝ */

.systemsculpt-scroll-to-bottom {
  position: absolute;
  bottom: 140px;
  right: 24px;
  width: 44px;
  height: 44px;
  border-radius: 22px;
  
  /* Glassmorphism effect */
  background: color-mix(in srgb, rgb(var(--background-secondary-rgb)) 80%, var(--ss-layer-base));
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid color-mix(in srgb, rgb(var(--background-modifier-border-rgb)) 30%, var(--ss-layer-base));
  
  color: var(--text-accent);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  
  /* Elegant shadow */
  box-shadow: 
    0 4px 12px color-mix(in srgb, rgb(0, 0, 0) 8%, var(--ss-layer-base)),
    0 2px 4px color-mix(in srgb, rgb(0, 0, 0) 4%, var(--ss-layer-base)),
    inset 0 1px 0 color-mix(in srgb, rgb(255, 255, 255) 10%, var(--ss-layer-base));
  
  /* Smooth animations */
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 100;
  
  /* Entrance animation */
  animation: fadeInScale 0.3s ease-out;
}

@keyframes fadeInScale {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.systemsculpt-scroll-to-bottom:hover {
  background: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 90%, var(--ss-layer-base));
  color: var(--text-on-accent);
  transform: translateY(-3px) scale(1.05);
  box-shadow: 
    0 8px 24px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 25%, var(--ss-layer-base)),
    0 4px 8px color-mix(in srgb, rgb(0, 0, 0) 10%, var(--ss-layer-base)),
    inset 0 1px 0 color-mix(in srgb, rgb(255, 255, 255) 20%, var(--ss-layer-base));
}

.systemsculpt-scroll-to-bottom:active {
  transform: translateY(-1px) scale(0.98);
}

/* Accessibility utility */
.systemsculpt-visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0 0 0 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* ╔══════════════════════════════════════════════════════════╗
   ║  Responsive Design - Mobile & Tablet                      ║
   ╚══════════════════════════════════════════════════════════╝ */

@media (max-width: 768px) {
  /* Messages container - reduced padding */
  .systemsculpt-messages-container {
    padding: 16px 12px;
  }

  /* Scroll button - smaller and repositioned */
  .systemsculpt-scroll-to-bottom {
    width: 40px;
    height: 40px;
    bottom: 120px;
    right: 16px;
  }

  .systemsculpt-chat-composer {
    padding: var(--size-4-2);
    gap: var(--size-4-2);
  }

  /* Keep controls on one line; allow horizontal scroll */
  .systemsculpt-chat-composer-toolbar {
    flex-wrap: nowrap;
    overflow-x: auto;
    scrollbar-width: none;
  }

  .systemsculpt-chat-composer-toolbar .systemsculpt-model-indicator-section {
    flex-wrap: nowrap;
  }

  .systemsculpt-chat-composer-toolbar::-webkit-scrollbar {
    display: none;
  }

  .systemsculpt-chat-composer-input {
    padding: var(--size-4-1);
  }

  .systemsculpt-chat-input {
    font-size: 16px; /* Prevents zoom on iOS */
    padding: var(--size-4-1) var(--size-4-1);
    min-height: 44px;
  }

  .systemsculpt-attachment-pill-label {
    max-width: 200px;
  }
  
  /* Load more button - full width */
  .systemsculpt-load-more {
    max-width: 100%;
    margin: 12px 8px 20px;
    padding: 8px 16px;
    font-size: 12px;
  }
  
}

/* Small devices and portrait tablets */
@media (max-width: 600px) {
  /* User messages - wider on small screens */
  .systemsculpt-user-message {
    max-width: 95%;
  }
  
  /* Assistant messages - full width on small screens */
  .systemsculpt-assistant-message {
    width: 100%;
  }
}

/* Landscape phones */
@media (max-height: 500px) and (orientation: landscape) {
  /* Reduce vertical spacing */
  .systemsculpt-messages-container {
    padding: 12px 16px;
    gap: 0.75rem;
  }
  
  /* Smaller input */
  .systemsculpt-chat-input {
    min-height: 36px;
    max-height: 80px;
  }
  
}

/* Large tablets and small desktops */
@media (min-width: 769px) and (max-width: 1200px) {
  /* Intermediate sizing */
  .systemsculpt-messages-container {
    padding: 20px 16px;
  }
  
  .systemsculpt-user-message {
    max-width: 85%;
  }
  
  .systemsculpt-assistant-message {
    width: 100%;
  }
  
  /* group class removed */
}

/* ╔═══════════════════════════════════════════════════════════╗
   ║  Chat Composer (Input + Controls)                        ║
   ╚═══════════════════════════════════════════════════════════╝ */

.systemsculpt-chat-composer {
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  gap: var(--size-4-2);
  padding: var(--size-4-2) var(--size-4-3);
  border-top: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
}

.systemsculpt-chat-composer-toolbar {
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
  flex-wrap: wrap;
  min-height: 32px;
}

.systemsculpt-chat-composer-toolbar-group {
  display: flex;
  align-items: center;
  gap: var(--size-4-1);
}

.systemsculpt-chat-composer-toolbar-group.mod-right {
  margin-left: auto;
}

.systemsculpt-chat-composer-toolbar .clickable-icon {
  width: 32px;
  height: 32px;
  padding: 6px;
  border-radius: var(--radius-s);
}

.systemsculpt-chat-composer-toolbar .clickable-icon.ss-active {
  color: var(--interactive-accent);
  background-color: var(--background-modifier-hover);
  box-shadow: inset 0 0 0 1px var(--interactive-accent);
}

.systemsculpt-chat-composer-chips {
  flex: 1 1 auto;
  min-width: 0;
}

.systemsculpt-chat-composer-attachments {
  display: flex;
  flex-wrap: wrap;
  gap: var(--size-4-1);
}

.systemsculpt-attachment-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  max-width: 100%;
  padding: 3px 8px;
  border-radius: var(--radius-s);
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
  color: var(--text-normal);
  cursor: pointer;
  user-select: none;
}

.systemsculpt-attachment-pill:hover {
  background-color: var(--background-secondary-alt);
}

.systemsculpt-attachment-pill:focus-visible {
  outline: 2px solid var(--interactive-accent);
  outline-offset: 2px;
}

.systemsculpt-attachment-pill-icon {
  display: inline-flex;
  align-items: center;
  color: var(--text-muted);
  flex-shrink: 0;
}

.systemsculpt-attachment-pill-icon svg {
  width: 14px;
  height: 14px;
}

.systemsculpt-attachment-pill-label {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 260px;
}

.systemsculpt-attachment-pill-remove {
  width: 18px;
  height: 18px;
  padding: 2px;
  border-radius: var(--radius-s);
  color: var(--text-muted);
}

.systemsculpt-attachment-pill-remove:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-attachment-pill.mod-processing {
  background-color: var(--background-primary-alt);
}

.systemsculpt-attachment-pill-status {
  display: inline-flex;
  align-items: center;
  color: var(--text-muted);
  flex-shrink: 0;
}

.systemsculpt-attachment-pill-status svg {
  width: 14px;
  height: 14px;
}

.systemsculpt-attachment-pill-status.is-spinning svg {
  animation: ss-spin 1s linear infinite;
}

.systemsculpt-at-mention-suggest {
  max-height: 340px;
}

.systemsculpt-at-mention-suggest .suggestion {
  max-height: 340px;
  overflow-y: auto;
}

.systemsculpt-at-mention-item {
  display: flex;
  align-items: center;
  gap: 10px;
}

.systemsculpt-at-mention-item__icon {
  display: inline-flex;
  align-items: center;
  color: var(--text-muted);
  flex-shrink: 0;
}

.systemsculpt-at-mention-item__icon svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-at-mention-item__text {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
  flex: 1 1 auto;
}

.systemsculpt-at-mention-item__title {
  font-weight: 500;
  color: var(--text-normal);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.systemsculpt-at-mention-item__desc {
  font-size: 12px;
  color: var(--text-muted);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.systemsculpt-at-mention-item__badge {
  margin-left: auto;
  display: inline-flex;
  align-items: center;
  color: var(--interactive-accent);
  flex-shrink: 0;
}

.systemsculpt-at-mention-item__badge svg {
  width: 14px;
  height: 14px;
}

.systemsculpt-at-mention-item.is-attached {
  opacity: 0.7;
}

.systemsculpt-at-mention-empty {
  color: var(--text-muted);
  justify-content: center;
}

.systemsculpt-chat-composer-input {
  display: flex;
  align-items: flex-end;
  gap: var(--size-4-2);
  padding: var(--size-4-2);
  border-radius: var(--radius-m);
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-modifier-form-field);
}

.systemsculpt-chat-composer-input:focus-within,
.systemsculpt-chat-composer-input.is-focused {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 1px var(--interactive-accent);
}

.systemsculpt-chat-input {
  flex: 1 1 auto;
  width: 100%;
  resize: none;
  min-height: 48px;
  max-height: 200px;
  padding: var(--size-4-1) var(--size-4-2);
  margin: 0;
  border: 0;
  background: transparent;
  font-size: var(--font-ui-medium);
  line-height: 1.4;
  color: var(--text-normal);
  box-shadow: none;
}

.systemsculpt-chat-input::placeholder {
  color: var(--text-faint);
}

.systemsculpt-chat-input:focus {
  outline: none;
}

.systemsculpt-chat-composer-actions {
  display: flex;
  align-items: center;
  gap: var(--size-4-1);
  padding-bottom: 2px;
}

.systemsculpt-chat-composer-actions .clickable-icon {
  width: 32px;
  height: 32px;
  padding: 6px;
  border-radius: var(--radius-s);
}

.systemsculpt-chat-composer-actions .clickable-icon.mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-chat-composer-actions .clickable-icon.mod-cta:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-chat-composer-actions .clickable-icon.mod-warning {
  background-color: var(--background-modifier-error);
  color: var(--text-on-accent);
}

.systemsculpt-chat-composer-actions .clickable-icon.mod-warning:hover {
  background-color: var(--text-error);
}

/* Recording indicator on the mic button */
.systemsculpt-chat-composer-actions .mod-mic.ss-active {
  position: relative;
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-chat-composer-actions .mod-mic.ss-active:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-chat-composer-actions .mod-mic.ss-active::after {
  content: "";
  position: absolute;
  top: 6px;
  right: 6px;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--text-on-accent);
  animation: recording-dot 1.5s ease-in-out infinite;
}

/* Reduce clutter: mic is shown primarily when the input is empty */
.systemsculpt-chat-composer-input.has-value .systemsculpt-chat-composer-actions .mod-mic {
  display: none;
}

.systemsculpt-chat-empty {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 160px;
  color: var(--text-muted);
  text-align: center;
  background-color: var(--background-primary-alt);
  border-radius: 8px;
  border: 1px dashed var(--background-modifier-border);
}

.systemsculpt-chat-search input:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.systemsculpt-chat-highlight {
  color: var(--text-accent);
  font-weight: 500;
  background-color: var(--text-accent-hover);
  padding: 0 2px;
  border-radius: 2px;
  text-decoration: underline;
  text-underline-offset: 2px;
}

/* ──────────────────────────────────────────────────────────
   Responsive tweaks for mobile / small viewports
   These overrides replace fixed heights with flexible layouts
   and compact controls so that the messages list + input have
   more usable space on devices with constrained width/height.
────────────────────────────────────────────────────────── */
@media (max-width: 768px), (max-height: 700px) {
  /* Let the messages list flex instead of relying on a hard-coded subtraction */
  .systemsculpt-messages-container {
    height: auto !important;      /* Cancel previous calc() height */
    flex: 1 1 auto !important;    /* Grow/Shrink with available space */
    min-height: 0 !important;     /* Allow shrinkage when keyboard shows */
    padding: 12px 8px;            /* Slightly tighter padding */
  }

  .systemsculpt-chat-composer {
    gap: var(--size-4-1);
    padding: var(--size-4-1) var(--size-4-2);
  }

  .systemsculpt-chat-composer-toolbar {
    gap: var(--size-4-1);
    flex-wrap: nowrap;
    overflow-x: auto;
  }

  .systemsculpt-chat-composer-input {
    padding: var(--size-4-1);
  }

  .systemsculpt-chat-input {
    padding: var(--size-4-1) var(--size-4-1);
  }

  /* Scroll-to-bottom button sits closer on small screens */
  .systemsculpt-scroll-to-bottom {
    bottom: 100px;
    right: 12px;
    width: 32px;
    height: 32px;
  }
}

/* ╔═══════════════════════════════════════════════════════════╗
   ║  Load More Button - Elegant history loader               ║
   ╚═══════════════════════════════════════════════════════════╝ */

.systemsculpt-load-more {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: 100%;
  max-width: 300px;
  margin: 16px auto 24px;
  padding: 10px 20px;
  
  /* Glass card effect */
  background: color-mix(in srgb, rgb(var(--background-secondary-rgb)) 60%, var(--ss-layer-base));
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 20%, var(--ss-layer-base));
  border-radius: 20px;
  
  /* Typography */
  color: var(--interactive-accent);
  font-size: 13px;
  font-weight: 600;
  letter-spacing: 0.3px;
  
  /* Interaction */
  cursor: pointer;
  user-select: none;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  
  /* Shadow */
  box-shadow: 
    0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 5%, var(--ss-layer-base)),
    inset 0 1px 0 color-mix(in srgb, rgb(255, 255, 255) 10%, var(--ss-layer-base));
}

.systemsculpt-load-more:hover {
  background: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 15%, var(--ss-layer-base));
  border-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 40%, var(--ss-layer-base));
  transform: translateY(-1px);
  box-shadow: 
    0 4px 16px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 15%, var(--ss-layer-base)),
    inset 0 1px 0 color-mix(in srgb, rgb(255, 255, 255) 10%, var(--ss-layer-base));
}

.systemsculpt-load-more:active {
  transform: translateY(0);
}

.systemsculpt-load-more:focus-visible {
  outline: 2px solid var(--interactive-accent);
  outline-offset: 2px;
}

.systemsculpt-load-more[aria-disabled="true"],
.systemsculpt-load-more[data-loading="true"] {
  cursor: default;
  opacity: 0.7;
  transform: none;
}

/* Loading spinner */
.systemsculpt-load-more[data-loading="true"]::after {
  content: "";
  width: 14px;
  height: 14px;
  border: 2px solid var(--interactive-accent);
  border-top-color: var(--ss-layer-base);
  border-left-color: var(--ss-layer-base);
  border-radius: 50%;
  animation: systemsculpt-spin 0.8s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes systemsculpt-spin {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}

/* ╔═══════════════════════════════════════════════════════════╗
   ║  Chat Status Display - Settings overview for empty chats  ║
   ╚═══════════════════════════════════════════════════════════╝ */

.systemsculpt-chat-status {
  max-width: 600px;
  margin: 24px auto;
  padding: 16px;
  background: var(--background-secondary);
  border-radius: 12px;
  border: 1px solid var(--background-modifier-border);
  animation: systemsculpt-fadeIn 0.3s ease-out;
}

/* Disable animation when the container is being refreshed in-place */
.systemsculpt-chat-status.no-animate {
  animation: none !important;
}

.systemsculpt-status-header {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-normal);
  margin-bottom: 10px;
}

.systemsculpt-status-pills {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.systemsculpt-status-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  background: var(--background-primary);
  color: var(--text-normal);
  border: 1px solid var(--background-modifier-border);
  font-size: 12px;
  cursor: pointer;
  transition: background-color 0.15s ease, border-color 0.15s ease, color 0.15s ease;
}

.systemsculpt-status-pill:hover {
  background: var(--background-secondary);
}

.systemsculpt-status-pill.is-on {
  border-color: var(--interactive-accent);
  color: var(--text-normal);
}

.systemsculpt-status-pill.is-off {
  opacity: 0.85;
}

.systemsculpt-status-pill.is-disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.systemsculpt-status-pill .ss-pill-icon {
  width: 14px;
  height: 14px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
}

.systemsculpt-status-pill .ss-pill-label {
  color: var(--text-muted);
}

.systemsculpt-status-pill .ss-pill-sep {
  color: var(--text-faint);
}

.systemsculpt-status-pill .ss-pill-value {
  font-weight: 600;
}

.systemsculpt-status-tip {
  color: var(--text-muted);
  font-size: 12px;
  text-align: left;
  margin: 8px 0 0 0;
}

.systemsculpt-status-alert {
  display: flex;
  gap: 10px;
  padding: 12px;
  border-radius: 10px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  margin-bottom: 12px;
}

.systemsculpt-status-alert .ss-status-alert-icon {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-accent);
  margin-top: 2px;
}

.systemsculpt-status-alert-content {
  flex: 1;
}

.systemsculpt-status-alert-title {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-status-alert-description {
  font-size: 12px;
  color: var(--text-muted);
  margin-top: 2px;
}


.systemsculpt-status-alert-actions {
  margin-top: 10px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}

.systemsculpt-status-alert-button {
  flex: 0 0 auto;
}

@keyframes systemsculpt-fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}


/* model-select.css */
/**
 * Model Selection View
 * 
 * Styles for model selection interface and model cards
 */

.systemsculpt-model-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
  gap: 8px;
}

.systemsculpt-model-indicator-section {
  padding: 8px 16px;
  border-top: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
}

/* Compact inline variant when placed in the input toolbar */
.systemsculpt-model-indicator-section.inline {
  padding: 0;
  border-top: none;
  background: var(--ss-layer-base);
  gap: 6px;
}

.systemsculpt-model-indicator {
  padding: 8px 12px;
  background-color: var(--background-modifier-form-field);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  color: var(--text-normal);
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.15s ease, border-color 0.15s ease;
  text-align: left;
  width: calc(50% - 4px);
  display: flex;
  align-items: center;
  height: 36px;
  box-sizing: border-box;
  justify-content: space-between;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Inline pill sizing */
.systemsculpt-model-indicator-section.inline .systemsculpt-model-indicator {
  width: auto;
  max-width: 280px;
  height: 32px;
  padding: 6px 10px;
}


.systemsculpt-model-indicator span {
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-model-indicator-drawer.systemsculpt-no-model {
  color: var(--text-muted);
  font-style: italic;
}

.systemsculpt-model-indicator-drawer:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-model-indicator:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--interactive-accent);
}

.systemsculpt-model-indicator:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--interactive-accent);
}

.systemsculpt-model-indicator-drawer {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 6px 8px;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.15s ease;
  color: var(--text-normal);
  font-size: 0.9em;
  width: 100%;
}

.systemsculpt-model-indicator-drawer.systemsculpt-no-model {
  color: var(--text-muted);
  font-style: italic;
}

.systemsculpt-model-indicator-drawer:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-model-indicator-drawer {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 6px 8px;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.15s ease;
  color: var(--text-normal);
  font-size: 0.9em;
  width: 100%;
}

.systemsculpt-model-indicator:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--interactive-accent);
}

.systemsculpt-model-indicator:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--interactive-accent);
}

.systemsculpt-model-highlight {
  background-color: var(--text-highlight-bg);
  color: var(--text-normal);
  padding: 0 2px;
  border-radius: 2px;
}

.systemsculpt-model-highlight {
  background: none;
  color: var(--text-accent);
  padding: 0;
  border-radius: 0;
  font-weight: 600;
  text-decoration: underline;
  margin: 0;
}

.systemsculpt-model-icon-container {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--interactive-accent);
  border-radius: 6px;
  color: var(--text-on-accent);
}

.systemsculpt-model-icon-container svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-model-icon-container svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-model-description.systemsculpt-has-tooltip {
  cursor: help;
}

.systemsculpt-model-description {
  font-size: 0.9em;
  color: var(--text-muted);
  margin: 0;
  padding: 1px 0;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  line-height: 1.15;
}

.systemsculpt-model-description {
  font-size: 13px;
  color: var(--text-muted);
  margin-bottom: 12px;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.systemsculpt-model-description.systemsculpt-has-tooltip {
  cursor: help;
}

.systemsculpt-model-card {
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: clamp(8px, 1.5vw, 12px);
  position: relative;
  cursor: pointer;
  transition: all 0.2s ease;
  width: 100%;
  height: fit-content;
  min-height: clamp(120px, 20vh, 160px);
  display: flex;
  flex-direction: column;
  gap: 4px;
  box-sizing: border-box;
}

.systemsculpt-model-card {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  width: 100%;
  box-sizing: border-box;
}

.systemsculpt-model-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
  gap: 8px;
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
  background-color: var(--background-secondary-alt);
}

.systemsculpt-model-card.systemsculpt-keyboard-selected {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--interactive-accent);
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-model-search input {
  width: 100%;
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  font-size: 14px;
  box-sizing: border-box;
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-model-info-buttons {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.systemsculpt-model-name {
  font-size: 1.1em;
  font-weight: 600;
  color: var(--text-normal);
  line-height: 1;
}

.systemsculpt-model-name {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-model-name-container {
  margin: 0;
  display: flex;
  align-items: center;
  gap: 0px;
  padding: 1px 0;
}

.systemsculpt-model-name-container {
  flex: 1;
  min-width: 0;
}

.systemsculpt-model-empty {
  text-align: center;
  color: var(--text-muted);
  font-style: italic;
  padding: 32px;
  grid-column: 1 / -1;
}

.systemsculpt-model-card.systemsculpt-keyboard-selected {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--interactive-accent);
}

.systemsculpt-model-grid {
  display: block;
  width: 100%;
}

.systemsculpt-model-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 12px;
  overflow-y: scroll;
  padding-right: 8px;
  width: 100%;
  box-sizing: border-box;
}

.systemsculpt-model-grid {
  flex-grow: 1;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(min(100%, 300px), 1fr));
  gap: clamp(8px, 1.5vw, 12px);
  overflow-y: auto;
  padding: 0 4px 8px 0;
  width: 100%;
  min-height: 0;
  margin: 0 auto;
  max-width: 100%;
  align-items: start;
  align-content: start;
}

.systemsculpt-model-details {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin-top: auto;
  padding-top: 2px;
}

.systemsculpt-model-info-title {
  font-size: 1em;
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-model-badge {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  border-radius: 4px;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  font-size: 12px;
  font-weight: 500;
}

.systemsculpt-model-message-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.systemsculpt-model-search {
  width: 100%;
  box-sizing: border-box;
}

.systemsculpt-model-search input {
  width: 100%;
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  font-size: 14px;
  box-sizing: border-box;
}

.systemsculpt-model-selection-modal {
  height: min(85vh, 900px);
  width: clamp(300px, 95%, 1200px);
  padding: clamp(8px, 2vw, 16px);
  display: flex;
  flex-direction: column;
  gap: clamp(8px, 1.5vw, 16px);
  overflow: hidden;
  margin: 0 auto;
  border-radius: 8px;
  background: var(--background-primary);
  box-shadow: var(--shadow-l);
}

.systemsculpt-model-selection-modal {
  max-width: min(800px, 95vw);
  max-height: 80vh;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 12px !important;
  box-sizing: border-box;
  margin: 0 auto;
  align-items: center;
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
  background-color: var(--background-secondary-alt);
}

.systemsculpt-model-indicator-drawer.systemsculpt-no-model {
  color: var(--text-muted);
  font-style: italic;
}

.systemsculpt-model-indicator span {
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-model-selection-container {
  padding: 12px;
}

.systemsculpt-model-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: help;
  line-height: 1;
}

.systemsculpt-model-icon svg {
  width: 16px;
  height: 16px;
  display: block;
}

.systemsculpt-model-icon-container {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--interactive-accent);
  border-radius: 6px;
  color: var(--text-on-accent);
}

.systemsculpt-model-icon-container svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-model-icons {
  display: flex;
  align-items: center;
  gap: 4px;
  margin: 0;
}

.systemsculpt-model-section-label {
  display: block;
  text-align: center;
  padding: var(--size-4-1) 0;
  margin: var(--size-4-2) 0;
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  font-weight: var(--font-medium);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-model-info {
  padding: 12px;
  margin: 4px 0;
  background: var(--background-secondary);
  border-radius: 8px;
  border-left: 4px solid var(--interactive-accent);
  display: flex;
  gap: 12px;
  align-items: center;
}

.systemsculpt-model-info-buttons {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.systemsculpt-model-info-description {
  color: var(--text-muted);
  font-size: 0.85em;
  line-height: 1.4;
}

.systemsculpt-model-info-title {
  font-size: 1em;
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-model-name-container {
  margin: 0;
  display: flex;
  align-items: center;
  gap: 0px;
  padding: 1px 0;
}

.systemsculpt-model-name-container {
  flex: 1;
  min-width: 0;
}

.systemsculpt-model-info-description {
  color: var(--text-muted);
  font-size: 0.85em;
  line-height: 1.4;
}

.systemsculpt-model-icons {
  display: flex;
  align-items: center;
  gap: 4px;
  margin: 0;
}

.systemsculpt-model-detail {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 0.9em;
}

.systemsculpt-model-details {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin-top: auto;
  padding-top: 2px;
}

.systemsculpt-model-icon svg {
  width: 16px;
  height: 16px;
  display: block;
}

.systemsculpt-model-meta {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.systemsculpt-model-indicator-drawer:hover {
  background-color: var(--background-modifier-hover);
}

/* Mobile responsive for indicators */
@media (max-width: 600px) {
  .systemsculpt-model-indicator {
    width: 100%;
  }
}


/* settings.css */

/**
 * SystemSculpt settings view – pared down, Obsidian-native styling
 */

.ss-settings-layout {
  margin-top: var(--size-4-4);
  display: flex;
  flex-direction: column;
  gap: var(--size-4-4);
}

.ss-settings-tab-bar {
  display: flex;
  flex-wrap: wrap;
  gap: var(--size-4-2);
  margin-bottom: var(--size-4-2);
}

.ss-tab-button {
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  padding: var(--size-2-3) var(--size-4-2);
  background: var(--background-primary);
  color: var(--text-normal);
  cursor: pointer;
  transition: background 0.15s ease, color 0.15s ease;
}

.ss-tab-button:hover {
  background: var(--background-modifier-hover);
}

.ss-tab-button.mod-active {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

.systemsculpt-tab-content {
  display: none;
}

.systemsculpt-tab-content.is-active {
  display: block;
}

.ss-setting-subtext {
  margin-top: var(--size-2-2);
  font-size: 0.9em;
  color: var(--text-muted);
}

.ss-inline-note {
  margin-top: var(--size-4-2);
  font-size: 0.9em;
  color: var(--text-muted);
}

.ss-inline-actions {
  display: inline-flex;
  align-items: center;
  gap: var(--size-2-2);
}

.ss-settings-link {
  display: inline-flex;
  align-items: center;
  gap: var(--size-2-2);
  text-decoration: none;
  color: var(--text-accent);
  font-size: 0.9em;
}

.ss-settings-link:hover {
  text-decoration: underline;
}

.ss-settings-link-icon svg {
  width: var(--size-2-3);
  height: var(--size-2-3);
}

.ss-help-links {
  display: inline-flex;
  align-items: center;
  gap: var(--size-2-2);
}

.ss-help-link {
  display: inline-flex;
  align-items: center;
  gap: var(--size-2-1);
  text-decoration: none;
  color: var(--text-accent);
  font-size: 0.9em;
}

.ss-help-link:hover {
  text-decoration: underline;
}

.ss-help-link-icon svg {
  width: var(--size-2-3);
  height: var(--size-2-3);
}

.ss-help-separator {
  color: var(--text-muted);
  margin: 0 var(--size-2-1);
}

.ss-restore-defaults-btn {
  display: inline-flex;
  align-items: center;
  gap: var(--size-2-2);
}

.ss-version-pill {
  display: inline-flex;
  align-items: center;
  gap: var(--size-2-1);
  padding: 0 var(--size-3-1);
  border-radius: var(--radius-s);
  background: var(--background-secondary);
  font-size: 0.85em;
  color: var(--text-muted);
}

.ss-version-pill--latest {
  color: var(--text-success);
}

.ss-version-pill--outdated {
  color: var(--text-warning);
}

.ss-version-pill--error {
  color: var(--text-error);
}

.ss-version-update {
  margin-left: var(--size-4-2);
  font-size: 0.85em;
  color: var(--text-accent);
  text-decoration: none;
}

.ss-version-update:hover {
  text-decoration: underline;
}

.ss-settings-search-results {
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-m);
  padding: var(--size-4-3);
  background: var(--background-secondary);
  display: flex;
  flex-direction: column;
  gap: var(--size-4-2);
}

.ss-search-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
}

.ss-search-result {
  padding-top: var(--size-3-2);
  border-top: 1px solid var(--background-modifier-border);
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: var(--size-2-2);
}

.ss-search-result:first-of-type {
  border-top: none;
  padding-top: 0;
}

.ss-search-result:hover {
  background: var(--background-modifier-hover);
}

.ss-search-title {
  font-weight: 600;
}

.ss-search-desc {
  color: var(--text-muted);
  font-size: 0.9em;
}

.ss-search-tab {
  font-size: 0.85em;
  color: var(--text-muted);
}

.ss-search-empty {
  color: var(--text-muted);
  font-style: italic;
}

.ss-search-count {
  font-size: 0.9em;
  color: var(--text-muted);
}

.ss-search-highlight {
  outline: 2px solid var(--interactive-accent);
  outline-offset: 3px;
  border-radius: var(--radius-s);
}

/* ============================================================================
   Readwise Integration Styles
   ============================================================================ */

.readwise-status {
  margin-left: var(--size-4-2);
  font-size: 0.85em;
  padding: var(--size-2-1) var(--size-2-3);
  border-radius: var(--radius-s);
}

.readwise-status.mod-success {
  color: var(--text-success);
  background: var(--background-modifier-success);
}

.readwise-status.mod-error {
  color: var(--text-error);
  background: var(--background-modifier-error);
}

.readwise-status.mod-warning {
  color: var(--text-warning);
}

/* Validated button state */
.setting-item button.mod-success {
  background: var(--background-modifier-success);
  color: var(--text-success);
  border-color: var(--background-modifier-success);
}

.readwise-sync-status-container {
  margin: var(--size-4-3) 0;
  padding: var(--size-4-3);
  background: var(--background-secondary);
  border-radius: var(--radius-m);
  border: 1px solid var(--background-modifier-border);
}

.readwise-sync-info {
  font-size: 0.9em;
  color: var(--text-muted);
  margin-bottom: var(--size-2-2);
}

.readwise-sync-info:last-child {
  margin-bottom: 0;
}

.readwise-sync-error {
  font-size: 0.9em;
  color: var(--text-error);
  margin-top: var(--size-2-2);
  padding: var(--size-2-2);
  background: var(--background-modifier-error);
  border-radius: var(--radius-s);
}

.readwise-sync-actions {
  margin-top: var(--size-4-3);
}

.readwise-progress {
  margin-top: var(--size-4-2);
  padding: var(--size-4-2);
  background: var(--background-secondary);
  border-radius: var(--radius-s);
}

.readwise-progress-bar {
  height: 4px;
  background: var(--interactive-accent);
  border-radius: 2px;
  width: 0%;
  transition: width 0.3s ease;
}

.readwise-progress-text {
  margin-top: var(--size-2-2);
  font-size: 0.85em;
  color: var(--text-muted);
}

/* Settings item heading for sub-sections */
.setting-item-heading {
  margin-top: var(--size-4-4);
  margin-bottom: var(--size-4-2);
  font-weight: 600;
  color: var(--text-normal);
  font-size: 0.95em;
}

/* ============================================================================
   Readwise Sync Widget - Bottom Right Floating Notification
   ============================================================================ */

.readwise-sync-widget {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 280px;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-m);
  box-shadow: var(--shadow-s);
  z-index: 1000;
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.2s ease, transform 0.2s ease;
  pointer-events: none;
}

.readwise-sync-widget.visible {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.readwise-sync-widget-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--size-4-2) var(--size-4-3);
  border-bottom: 1px solid var(--background-modifier-border);
}

.readwise-sync-widget-title {
  font-weight: 600;
  font-size: 0.9em;
}

.readwise-sync-widget-close {
  background: none;
  border: none;
  cursor: pointer;
  color: var(--text-muted);
  font-size: 1.2em;
  padding: 0 4px;
  line-height: 1;
}

.readwise-sync-widget-close:hover {
  color: var(--text-normal);
}

.readwise-sync-widget-content {
  padding: var(--size-4-3);
}

.readwise-sync-widget-item {
  font-size: 0.85em;
  color: var(--text-muted);
  margin-bottom: var(--size-2-2);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.readwise-sync-widget-progress {
  height: 4px;
  background: var(--background-modifier-border);
  border-radius: 2px;
  overflow: hidden;
}

.readwise-sync-widget-progress-bar {
  height: 100%;
  background: var(--interactive-accent);
  border-radius: 2px;
  transition: width 0.3s ease;
}

.readwise-sync-widget-stats {
  font-size: 0.8em;
  color: var(--text-muted);
  margin-top: var(--size-2-2);
  text-align: right;
}

/* Success state */
.readwise-sync-widget.mod-success .readwise-sync-widget-title {
  color: var(--text-success);
}

.readwise-sync-widget.mod-success .readwise-sync-widget-progress-bar {
  background: var(--text-success);
}

/* Error state */
.readwise-sync-widget.mod-error .readwise-sync-widget-title {
  color: var(--text-error);
}

.readwise-sync-widget.mod-error .readwise-sync-widget-progress-bar {
  background: var(--text-error);
}


/* preview.css */
/**
 * Preview Components
 *
 * Styles for content previews and preview panels
 */

.systemsculpt-preview-image {
  max-width: 100%;
  height: auto;
  object-fit: contain;
  border-radius: 8px;
  max-height: 70vh;
  padding: 16px;
}

.systemsculpt-preview-error {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  text-align: center;
  padding: 16px;
  min-height: 100px;
  font-size: 13px;
  line-height: 1.5;
  white-space: pre-line;
  background-color: var(--background-secondary);
  border-radius: 4px;
  margin: 8px;
}

.systemsculpt-preview-loading {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  text-align: center;
  padding: 16px;
  min-height: 200px;
  position: absolute;
  inset: 0;
  background: var(--background-primary);
  z-index: 1;
}

.systemsculpt-preview-loading svg {
  width: 32px;
  height: 32px;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-preview-loading::before {
  content: "";
  width: 20px;
  height: 20px;
  border: 2px solid var(--background-modifier-border);
  border-top-color: var(--text-accent);
  border-radius: 50%;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
  margin-right: 8px;
}

.systemsculpt-preview-frontmatter-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-muted);
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.systemsculpt-preview-audio {
  width: 100%;
  margin: 20px 0;
  border-radius: 8px;
  background: var(--background-secondary);
}

.systemsculpt-preview-header {
  padding: 8px 12px;
  background-color: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
  border-radius: 4px 4px 0 0;
  font-size: 0.85em;
  opacity: 0.8;
}

.systemsculpt-preview-frontmatter-key {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-muted);
}

.systemsculpt-preview-content {
  flex-grow: 1;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  overflow-y: auto;
  white-space: pre-wrap;
  font-family: var(--font-text);
  line-height: 1.5;
}

.systemsculpt-preview-pane {
  flex: 1;
  min-width: 0;
  min-height: 300px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  overflow: hidden;
  position: relative;
}

.systemsculpt-preview-text {
  width: 100%;
  height: 100%;
  padding: 16px;
  overflow-y: auto;
  margin: 0;
}

.systemsculpt-preview-markdown h3:first-child {
  margin-top: 0;
}

.systemsculpt-preview-container {
  position: fixed;
  z-index: 1000;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 8px;
  box-shadow: 0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 20%, var(--ss-layer-base));
  pointer-events: none;
  max-width: min(800px, 80vw);
  max-height: min(600px, 80vh);
  overflow: hidden;
}

.systemsculpt-preview-frontmatter-grid {
  display: grid;
  gap: 4px;
}

.systemsculpt-preview-frontmatter-value {
  font-size: 13px;
  color: var(--text-normal);
  word-break: break-word;
}

.systemsculpt-preview-markdown img {
  max-width: 100%;
  height: auto;
}

.systemsculpt-preview-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-preview-markdown {
  padding: 16px;
  font-size: 14px;
  line-height: 1.5;
  color: var(--text-normal);
  overflow-wrap: break-word;
  width: 100%;
  height: 100%;
  overflow-y: auto;
}

.systemsculpt-preview-markdown h3:first-child {
  margin-top: 0;
}

.systemsculpt-preview-markdown img {
  max-width: 100%;
  height: auto;
}

.systemsculpt-preview-loading::before {
  content: "";
  width: 20px;
  height: 20px;
  border: 2px solid var(--background-modifier-border);
  border-top-color: var(--text-accent);
  border-radius: 50%;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
  margin-right: 8px;
}

.systemsculpt-preview-pdf {
  width: 100%;
  height: 100%;
  border: none;
}

.systemsculpt-preview-pdf-container {
  width: 100%;
  height: 70vh;
  background: var(--background-secondary);
  border-radius: 8px;
  overflow: hidden;
}

.systemsculpt-preview-video {
  width: 100%;
  max-height: 70vh;
  border-radius: 8px;
  background: var(--background-secondary);
}

.systemsculpt-preview-frontmatter-row {
  display: grid;
  grid-template-columns: minmax(100px, auto) 1fr;
  gap: 12px;
  align-items: baseline;
  padding: 4px 0;
}

.systemsculpt-preview.systemsculpt-visible {
  opacity: 1;
  display: block;
}

.systemsculpt-preview-loading svg {
  width: 32px;
  height: 32px;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-preview-frontmatter {
  background: var(--background-secondary);
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 16px;
}

.systemsculpt-preview-frontmatter-grid {
  display: grid;
  gap: 4px;
}

.systemsculpt-preview-frontmatter-key {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-muted);
}

.systemsculpt-preview-frontmatter-row {
  display: grid;
  grid-template-columns: minmax(100px, auto) 1fr;
  gap: 12px;
  align-items: baseline;
  padding: 4px 0;
}

.systemsculpt-preview-frontmatter-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-muted);
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.systemsculpt-preview-frontmatter-value {
  font-size: 13px;
  color: var(--text-normal);
  word-break: break-word;
}

.systemsculpt-preview {
  position: fixed;
  z-index: 1000;
  pointer-events: auto; /* Enable mouse events on the preview */
  border-radius: 4px;
  box-shadow: 0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 20%, var(--ss-layer-base));
  opacity: 0;
  transform: translate(8px, 8px);
  transition: opacity 0.2s ease;
  background-color: var(--background-primary);
}

.systemsculpt-preview {
  display: none; /* Hidden by default, shown when .systemsculpt-visible is added */
}

.systemsculpt-preview-audio {
  width: 100%;
  margin: 20px 0;
  border-radius: 8px;
  background: var(--background-secondary);
}

.systemsculpt-preview-container {
  position: fixed;
  z-index: 1000;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 8px;
  box-shadow: 0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 20%, var(--ss-layer-base));
  pointer-events: none;
  max-width: min(800px, 80vw);
  max-height: min(600px, 80vh);
  overflow: hidden;
}

.systemsculpt-preview-error {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  text-align: center;
  padding: 32px;
  min-height: 200px;
}

.systemsculpt-preview-frontmatter {
  background: var(--background-secondary);
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 16px;
}

.systemsculpt-preview-frontmatter-grid {
  display: grid;
  gap: 4px;
}

.systemsculpt-preview-frontmatter-key {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-muted);
}

.systemsculpt-preview-frontmatter-row {
  display: grid;
  grid-template-columns: minmax(100px, auto) 1fr;
  gap: 12px;
  align-items: baseline;
  padding: 4px 0;
}

.systemsculpt-preview-frontmatter-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-muted);
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.systemsculpt-preview-frontmatter-value {
  font-size: 13px;
  color: var(--text-normal);
  word-break: break-word;
}

.systemsculpt-preview-header {
  padding: 8px 12px;
  background-color: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
  border-radius: 4px 4px 0 0;
  font-size: 0.85em;
  opacity: 0.8;
}

.systemsculpt-preview-image {
  max-width: 100%;
  height: auto;
  object-fit: contain;
  border-radius: 8px;
  max-height: 70vh;
  padding: 16px;
}

.systemsculpt-preview-loading {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  text-align: center;
  padding: 16px;
  min-height: 200px;
  position: absolute;
  inset: 0;
  background: var(--background-primary);
  z-index: 1;
}

.systemsculpt-preview-loading svg {
  width: 32px;
  height: 32px;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-preview-loading::before {
  content: "";
  width: 20px;
  height: 20px;
  border: 2px solid var(--background-modifier-border);
  border-top-color: var(--text-accent);
  border-radius: 50%;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
  margin-right: 8px;
}

.systemsculpt-preview-markdown {
  padding: 16px;
  font-size: 14px;
  line-height: 1.5;
  color: var(--text-normal);
  overflow-wrap: break-word;
  width: 100%;
  height: 100%;
  overflow-y: auto;
}

.systemsculpt-preview-markdown h3:first-child {
  margin-top: 0;
}

.systemsculpt-preview-markdown img {
  max-width: 100%;
  height: auto;
}

.systemsculpt-preview-pane {
  flex: 1;
  min-width: 0;
  min-height: 300px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  overflow: hidden;
  position: relative;
}

.systemsculpt-preview-pdf {
  width: 100%;
  height: 100%;
  border: none;
}

.systemsculpt-preview-pdf-container {
  width: 100%;
  height: 70vh;
  background: var(--background-secondary);
  border-radius: 8px;
  overflow: hidden;
}

.systemsculpt-preview-separator {
  height: 1px;
  background: var(--background-modifier-border);
  margin: 16px 0;
}

.systemsculpt-preview-text {
  width: 100%;
  height: 100%;
  padding: 16px;
  overflow-y: auto;
  margin: 0;
}

.systemsculpt-preview-video {
  width: 100%;
  max-height: 70vh;
  border-radius: 8px;
  background: var(--background-secondary);
}

.systemsculpt-preview.systemsculpt-visible {
  opacity: 1;
  display: block;
}

.systemsculpt-preview-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-preview-content {
  flex-grow: 1;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  overflow-y: auto;
  white-space: pre-wrap;
  font-family: var(--font-text);
  line-height: 1.5;
}

.systemsculpt-preview {
    display: none;
}

.systemsculpt-preview-separator {
  height: 1px;
  background: var(--background-modifier-border);
  margin: 16px 0;
}

.systemsculpt-preview-pdf-container {
  width: 100%;
  height: 70vh;
  background: var(--background-secondary);
  border-radius: 8px;
  overflow: hidden;
}

/* Markdown preview specific styles */
.systemsculpt-preview.systemsculpt-markdown-preview {
  max-width: min(450px, 80vw);
  max-height: min(450px, 80vh);
  border-radius: 8px;
  box-shadow: 0 6px 24px color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
  z-index: 1000;
}

.systemsculpt-preview.systemsculpt-markdown-preview .systemsculpt-preview-markdown {
  overflow-y: auto;
  max-height: min(400px, 70vh);
  padding-right: 8px; /* Space for scrollbar */
}

/* Truncation notice */
.systemsculpt-preview-truncation-notice {
  background-color: var(--background-modifier-border);
  color: var(--text-muted);
  padding: 8px 12px;
  font-size: 12px;
  text-align: center;
  border-top: 1px solid var(--background-modifier-border);
  margin-top: 8px;
  font-style: italic;
}



/* context.css */
/**
 * Context View
 * 
 * Styles for context selection and document context interface
 */

.systemsculpt-context-card.systemsculpt-is-selected {
  border-color: var(--interactive-accent);
  transform: translateY(-1px);
  outline-offset: 2px;
}

.systemsculpt-context-card.systemsculpt-is-selected {
}

.systemsculpt-context-card.systemsculpt-is-selected:hover {
}

.systemsculpt-context-action-button:active {
  background-color: var(--interactive-accent-hover);
  transform: translateY(1px);
}

.systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}

.systemsculpt-context-check {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--interactive-accent);
  border-radius: 50%;
  color: var(--text-on-accent);
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.2s ease;
  z-index: 1;
}

.systemsculpt-context-check svg {
  width: 14px;
  height: 14px;
  stroke-width: 2.5;
}

.systemsculpt-context-empty svg {
  width: 32px;
  height: 32px;
  opacity: 0.5;
}

.systemsculpt-context-action-button.ss-active:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 4px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-path {
  font-size: 12px;
  color: var(--text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
  width: 100%;
}

.systemsculpt-context-action-container {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 8px;
}

.systemsculpt-context-type-group {
  display: none;
  align-items: center;
  gap: 4px;
  flex-shrink: 0;
}

.systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
  display: flex;
}

.systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
    display: flex;
}

.systemsculpt-context-card.systemsculpt-is-selected:hover {
  box-shadow: 0 3px 10px color-mix(in srgb, rgb(0, 0, 0) 30%, var(--ss-layer-base));
}

.systemsculpt-context-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 32px;
  color: var(--text-muted);
}

.systemsculpt-context-loading svg {
  width: 24px;
  height: 24px;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-context-type,
.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-type,
.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-modal {
  display: flex;
  flex-direction: column;
  height: 100vh;
  padding: 16px;
  background: var(--background-primary);
  overflow: hidden;
}

.systemsculpt-context-loading svg {
  width: 24px;
  height: 24px;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-context-add-button {
  background: none;
  border: none;
  padding: 2px;
  width: 20px;
  height: 20px;
  color: var(--text-muted);
  cursor: pointer;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.systemsculpt-context-add-button:hover {
  color: var(--text-normal);
  background: var(--background-modifier-hover);
}

.systemsculpt-context-grid {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 8px 0;
  overflow-y: auto;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  min-height: 0;
}

.systemsculpt-context-grid::-webkit-scrollbar {
  width: 8px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 4px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-grid::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 4px;
}

.systemsculpt-context-type {
  background: var(--background-modifier-border);
  text-transform: uppercase;
  flex-shrink: 0;
}

.systemsculpt-context-type {
  display: none;
}

.systemsculpt-context-type {
  background: var(--background-modifier-border);
  text-transform: uppercase;
  font-weight: 500;
}

.systemsculpt-context-type,
.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-type,
.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-type-group {
  display: none;
  align-items: center;
  gap: 4px;
  flex-shrink: 0;
}

.systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
  display: flex;
}

.systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
    display: flex;
}

.systemsculpt-context-action-button.ss-active {
  background-color: var(--interactive-accent);
}

.systemsculpt-context-action-button.ss-active:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-thumb-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.systemsculpt-context-action-button {
  width: 100%;
  padding: 8px 16px;
  border: none;
  border-radius: 4px;
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: background-color 0.2s ease;
  margin-top: 16px;
}

/* New style for primary action button */
.systemsculpt-primary-action {
  font-size: 15px !important;
  padding: 10px 18px !important;
  font-weight: 600 !important;
  box-shadow: 0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
  transition: all 0.2s ease;
  transform: translateY(0);
}

.systemsculpt-primary-action:hover {
  box-shadow: 0 4px 12px color-mix(in srgb, rgb(0, 0, 0) 25%, var(--ss-layer-base));
  transform: translateY(-1px);
}

.systemsculpt-primary-action:active {
  box-shadow: 0 1px 4px color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
  transform: translateY(1px);
}
/* End of new styles */

.systemsculpt-context-action-button.ss-active {
  background-color: var(--interactive-accent);
}

.systemsculpt-context-action-button.ss-active:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-context-action-button:active {
  background-color: var(--interactive-accent-hover);
  transform: translateY(1px);
}

.systemsculpt-context-action-button:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-context-size {
  padding: 0;
  flex-shrink: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}

.systemsculpt-context-size {
  padding: 0;
  min-width: 45px;
  text-align: right;
}

.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-meta-group {
  display: none;
  align-items: center;
  gap: 4px;
  margin-left: auto;
  height: 24px;
  min-width: 0;
  flex-shrink: 1;
  overflow: hidden;
}

.systemsculpt-context-meta-group {
  display: none;
}

.systemsculpt-context-meta-group {
  display: flex;
}

.systemsculpt-context-meta-group {
    display: flex;
}

.systemsculpt-context-grid::-webkit-scrollbar {
  width: 8px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 4px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-grid::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 4px;
}

.systemsculpt-context-search input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-context-card {
  position: relative;
  padding: 12px;
  border-radius: 8px;
  background: var(--background-primary);
  border: 1px solid var(--ss-layer-base);
  transition: all 0.2s ease;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
  min-width: 0;
}

.systemsculpt-context-card.systemsculpt-is-added {
  background: var(--background-primary-alt);
  border-color: var(--interactive-accent);
}

.systemsculpt-context-card.systemsculpt-is-added .systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}

.systemsculpt-context-card.systemsculpt-is-selected {
  border-color: var(--interactive-accent);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 10%, var(--ss-layer-base));
  outline: 2px solid var(--interactive-accent);
  outline-offset: 2px;
}

.systemsculpt-context-card.systemsculpt-is-selected {
  box-shadow: 0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 20%, var(--ss-layer-base));
}

.systemsculpt-context-card.systemsculpt-is-selected:hover {
  box-shadow: 0 3px 10px color-mix(in srgb, rgb(0, 0, 0) 30%, var(--ss-layer-base));
}

.systemsculpt-context-add-button:hover {
  color: var(--text-normal);
  background: var(--background-modifier-hover);
}

.systemsculpt-context-token-count {
  background: var(--background-modifier-border);
  flex-shrink: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}

.systemsculpt-context-token-count {
  background: var(--background-modifier-border);
  min-width: 60px;
  text-align: right;
}

.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
  display: flex;
}

.systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
    display: flex;
}

.systemsculpt-context-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: auto;
  min-width: 0;
  flex-wrap: nowrap;
}

.systemsculpt-context-meta {
  flex-wrap: nowrap;
}

.systemsculpt-context-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
  margin-left: auto;
  padding-left: 8px;
}

.systemsculpt-context-meta-group {
  display: none;
  align-items: center;
  gap: 4px;
  margin-left: auto;
  height: 24px;
  min-width: 0;
  flex-shrink: 1;
  overflow: hidden;
}

.systemsculpt-context-meta-group {
  display: none;
}

.systemsculpt-context-meta-group {
  display: flex;
}

.systemsculpt-context-meta {
    flex-wrap: nowrap;
}

.systemsculpt-context-meta-group {
    display: flex;
}

.systemsculpt-context-grid::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 4px;
}

.systemsculpt-context-check svg {
  width: 14px;
  height: 14px;
  stroke-width: 2.5;
}

.systemsculpt-context-badge svg {
  width: 12px;
  height: 12px;
}

.systemsculpt-context-search {
  flex-shrink: 0;
  position: relative;
  width: 100%;
  margin-bottom: 8px;
}

.systemsculpt-context-search input {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  font-size: 16px;
  transition: all 0.2s ease;
}

.systemsculpt-context-search input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-context-action-button:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-context-card.systemsculpt-is-added .systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}

.systemsculpt-context-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
  height: 20px;
}

.systemsculpt-context-badge svg {
  width: 12px;
  height: 12px;
}

.systemsculpt-context-badge.systemsculpt-pro-badge {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-context-search input {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  font-size: 16px;
  transition: all 0.2s ease;
}

.systemsculpt-context-search input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-context-thumbnail {
  width: 64px;
  height: 64px;
  overflow: hidden;
  border-radius: 4px;
  flex-shrink: 0;
  position: relative;
}

.systemsculpt-context-badge.systemsculpt-pro-badge {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-context-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 32px;
  text-align: center;
  color: var(--text-muted);
}

.systemsculpt-context-empty svg {
  width: 32px;
  height: 32px;
  opacity: 0.5;
}

.systemsculpt-context-card.systemsculpt-is-added {
  background: var(--background-primary-alt);
  border-color: var(--interactive-accent);
}

.systemsculpt-context-card.systemsculpt-is-added .systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}


/* custom-provider.css */
/* 
 * Custom Provider Interface - Minimal Modern Design
 */

/* Reset and base styles */
.systemsculpt-custom-provider-modal,
.systemsculpt-custom-provider-manager-modal {
  --modal-width: 480px;
  --modal-padding: 16px;
  --border-radius: 6px;
  --inner-padding: 12px;
  
  width: var(--modal-width);
  max-width: 85vw;
  border-radius: var(--border-radius);
  background-color: var(--background-primary);
  box-shadow: 0 2px 20px color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
  margin: 0 auto;
  position: relative;
  box-sizing: border-box;
}

/* ===== PROVIDER MANAGER (LIST VIEW) ===== */
.systemsculpt-custom-provider-manager-modal {
  display: grid;
  grid-template-rows: auto 1fr auto;
  max-height: 80vh;
}

/* Header */
.systemsculpt-custom-provider-manager-header {
  padding: var(--inner-padding) var(--modal-padding);
  border-bottom: 1px solid var(--background-modifier-border);
  display: flex;
  align-items: center;
}

.systemsculpt-custom-provider-manager-back {
  display: flex;
  align-items: center;
  gap: 6px;
  color: var(--text-muted);
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 0.85em;
  margin-right: 12px;
}

.systemsculpt-custom-provider-manager-back:hover {
  color: var(--text-normal);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-custom-provider-manager-header h2 {
  margin: 0;
  font-size: 1.2em;
  font-weight: 600;
  flex-grow: 1;
}

/* Content */
.systemsculpt-custom-provider-manager-content {
  padding: var(--inner-padding) var(--modal-padding);
  overflow-y: auto;
  max-height: 60vh;
}

.systemsculpt-custom-provider-manager-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* Empty state - compact and centered */
.systemsculpt-custom-provider-manager-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 40px 20px;
  color: var(--text-muted);
}

.systemsculpt-custom-provider-manager-empty-icon {
  font-size: 2em;
  margin-bottom: 12px;
  opacity: 0.5;
}

.systemsculpt-custom-provider-manager-empty-text {
  font-size: 0.9em;
  line-height: 1.4;
}

/* Provider Card - Compact and clean */
.systemsculpt-custom-provider-card {
  border-radius: var(--border-radius);
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  padding: 12px;
  transition: all 0.15s ease;
}

.systemsculpt-custom-provider-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 5px color-mix(in srgb, rgb(0, 0, 0) 5%, var(--ss-layer-base));
}

/* Card Header */
.systemsculpt-custom-provider-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.systemsculpt-custom-provider-card-name {
  font-size: 1em;
  font-weight: 600;
  margin: 0;
}

.systemsculpt-custom-provider-card-action {
  color: var(--text-muted);
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  display: flex;
  align-items: center;
}

.systemsculpt-custom-provider-card-action:hover {
  color: var(--text-error);
  background-color: color-mix(in srgb, rgb(var(--text-error-rgb)) 10%, var(--ss-layer-base));
}

/* Card Details */
.systemsculpt-custom-provider-card-details {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 6px 8px;
  font-size: 0.85em;
  color: var(--text-muted);
  align-items: center;
}

.systemsculpt-custom-provider-card-detail {
  display: flex;
  align-items: center;
  gap: 6px;
}

.systemsculpt-custom-provider-card-detail:nth-child(odd) {
  justify-self: start;
}

.systemsculpt-custom-provider-card-detail:nth-child(even) {
  justify-self: end;
}

/* Bottom actions bar */
.systemsculpt-custom-provider-manager-actions {
  padding: var(--inner-padding) var(--modal-padding);
  border-top: 1px solid var(--background-modifier-border);
  display: flex;
  justify-content: flex-end;
}

.systemsculpt-custom-provider-manager-button {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 4px;
  font-size: 0.9em;
  cursor: pointer;
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border: none;
  transition: background-color 0.15s ease;
}

.systemsculpt-custom-provider-manager-button:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-custom-provider-manager-button-primary {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-custom-provider-manager-button svg {
  width: 16px;
  height: 16px;
}

/* ===== ADD/EDIT PROVIDER FORM ===== */
.systemsculpt-custom-provider-modal {
  display: grid;
  grid-template-rows: auto 1fr auto;
  max-height: 80vh;
}

.systemsculpt-custom-provider-header {
  padding: var(--inner-padding) var(--modal-padding);
  border-bottom: 1px solid var(--background-modifier-border);
  display: flex;
  align-items: center;
}

.systemsculpt-custom-provider-back {
  display: flex;
  align-items: center;
  gap: 6px;
  color: var(--text-muted);
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 0.85em;
  margin-right: 12px;
}

.systemsculpt-custom-provider-back:hover {
  color: var(--text-normal);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-custom-provider-header h2 {
  margin: 0;
  font-size: 1.2em;
  font-weight: 600;
  flex-grow: 1;
}

/* Form content */
.systemsculpt-custom-provider-form {
  padding: var(--inner-padding) var(--modal-padding);
  overflow-y: auto;
}

/* Form groups */
.systemsculpt-custom-provider-form-group {
  margin-bottom: 14px;
}

.systemsculpt-custom-provider-form-group:last-child {
  margin-bottom: 0;
}

.systemsculpt-custom-provider-form-group label {
  display: block;
  font-weight: 500;
  margin-bottom: 4px;
  font-size: 0.85em;
}

.systemsculpt-custom-provider-form-group input,
.systemsculpt-custom-provider-form-group select {
  width: 100%;
  padding: 8px 10px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 0.9em;
  transition: border-color 0.15s ease;
}

.systemsculpt-custom-provider-form-group input:focus,
.systemsculpt-custom-provider-form-group select:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.systemsculpt-custom-provider-form-validation {
  color: var(--text-error);
  font-size: 0.8em;
  margin-top: 4px;
  display: none;
}

.systemsculpt-custom-provider-form-group.error input,
.systemsculpt-custom-provider-form-group.error select {
  border-color: var(--text-error);
}

.systemsculpt-custom-provider-form-group.error .systemsculpt-custom-provider-form-validation {
  display: block;
}

/* Presets section */
.systemsculpt-custom-provider-presets {
  margin-bottom: 16px;
}

.systemsculpt-custom-provider-presets label {
  display: block;
  font-weight: 500;
  margin-bottom: 6px;
  font-size: 0.85em;
}

.systemsculpt-custom-provider-preset-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.systemsculpt-custom-provider-button-secondary {
  display: inline-flex;
  align-items: center;
  padding: 6px 10px;
  border-radius: 4px;
  background-color: var(--background-modifier-border);
  color: var(--text-normal);
  font-size: 0.8em;
  border: none;
  cursor: pointer;
}

.systemsculpt-custom-provider-button-secondary:hover {
  background-color: var(--background-modifier-hover);
}

/* Form actions */
.systemsculpt-custom-provider-form-actions {
  padding: var(--inner-padding) var(--modal-padding);
  border-top: 1px solid var(--background-modifier-border);
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}

/* Testing state */
.systemsculpt-testing {
  opacity: 0.7;
  cursor: wait;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.systemsculpt-testing svg {
  animation: spin 1s linear infinite;
}

.api-key-container {
  position: relative;
  width: 100%;
}

.api-key-container input {
  width: 100%;
  padding-right: 40px; /* Make room for the button */
}

.show-hide-password {
  position: absolute;
  right: 0;
  top: 0;
  height: 100%;
  background: none;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  cursor: pointer;
  color: var(--text-muted);
}

.show-hide-password:hover {
  color: var(--text-normal);
}

.systemsculpt-custom-provider-form-validation {
  color: var(--text-error);
  font-size: 0.8em;
  margin-top: 4px;
}

.systemsculpt-custom-provider-form-group.error input,
.systemsculpt-custom-provider-form-group.error select {
  border-color: var(--text-error);
} 

/* chat-settings-modal.css */
/* src/css/views/chat-settings-modal.css */

/* Fix modal height and scrolling */
.ss-chat-settings-modal {
  height: 85vh !important;
  max-height: 85vh !important;
}

/* Override StandardModal's content styling to enable scrolling */
.ss-chat-settings-modal .ss-modal__content {
  overflow-y: auto !important;
  overflow-x: hidden;
  padding: 20px;
  flex: 1;
  min-height: 0; /* Important for flex containers to allow shrinking */
}

/* Make the modal content scrollable and inherit default Obsidian modal styles */
.ss-chat-settings-modal .modal-content {
  padding: var(--modal-padding, 20px); /* fallback if --modal-padding not defined */
  display: block;
  overflow-y: auto;
  max-height: 80vh;
}

/* Remove two-panel layout: stack vertically */
.ss-chat-settings-modal__left-panel,
.ss-chat-settings-modal__right-panel {
  display: block;
  padding: 0;
  border: none;
  min-width: auto;
  gap: 0;
  overflow: visible;
  height: auto;
  box-sizing: border-box;
}

/* Remove card-like section styling, use Obsidian's setting-item blocks */
.ss-chat-settings-modal__section {
  background: none;
  border: none;
  border-radius: 0;
  padding: 0;
  margin-bottom: var(--size-4-4);
  display: block;
}

/* Section titles: use Obsidian's heading styles */
.ss-chat-settings-modal__section-title {
  font-size: var(--font-ui-large);
  font-weight: 600;
  color: var(--text-normal);
  margin: 0 0 var(--size-4-2) 0;
  padding: 0;
  border: none;
}

/* Use Obsidian's default input styles */
.ss-chat-settings-modal__title-input,
.ss-chat-settings-modal__prompt-textarea {
  width: 100%;
  box-sizing: border-box;
}

/* Prompt textarea: proper height handling with scrolling */
.ss-chat-settings-modal__prompt-textarea {
  min-height: 200px;
  max-height: 60vh; /* Allow growth but not beyond viewport */
  resize: vertical;
  width: 100%;
  box-sizing: border-box;
  overflow-y: auto; /* Enable scrolling for long content */
  font-family: var(--font-monospace);
  line-height: 1.5;
}

/* Button containers: vertical spacing */
.ss-chat-settings-modal__title-controls,
.ss-chat-settings-modal__model-controls,
.ss-chat-settings-modal__prompt-type-buttons,
.ss-chat-settings-modal__prompt-type-controls {
  display: flex;
  flex-wrap: wrap;
  gap: var(--size-4-2);
  margin-bottom: var(--size-4-3);
}

/* Preset buttons: minimal styling, mostly inherit */
.ss-preset-button {
  cursor: pointer;
  padding: var(--size-4-1) var(--size-4-3);
  border-radius: var(--radius-s);
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
  transition: background-color 0.15s ease, border-color 0.15s ease;
}
.ss-preset-button:hover {
  background-color: var(--background-modifier-hover);
}
.ss-preset-button.is-active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

/* Disabled preset button state for agent mode */
.ss-preset-button-disabled {
  opacity: 0.5;
  cursor: not-allowed;
  background-color: var(--background-secondary-alt);
  color: var(--text-muted);
  border-color: var(--background-modifier-border);
}
.ss-preset-button-disabled:hover {
  background-color: var(--background-secondary-alt);
  cursor: not-allowed;
}

/* Info text */
.ss-chat-settings-modal__prompt-type-details,
.ss-chat-settings-modal__prompt-editor-note {
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
  margin-bottom: var(--size-4-3);
}

/* Footer: use default modal footer styles */
.ss-chat-settings-modal .modal-button-container {
  padding: var(--size-4-3) var(--size-4-5);
  border-top: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  display: flex;
  justify-content: flex-end;
  gap: var(--size-4-2);
}

/* Default settings section styling */
.ss-chat-settings-modal__default-settings-section {
  margin-top: var(--size-4-4);
  padding-top: var(--size-4-4);
  border-top: 1px solid var(--background-modifier-border);
}

.default-settings-container {
  background-color: var(--background-secondary);
  padding: var(--size-4-3);
  border-radius: var(--radius-s);
  margin-top: var(--size-4-3);
}

/* Ensure prompt editor section has proper spacing */
.ss-chat-settings-modal__prompt-editor-section {
  margin-bottom: var(--size-4-4);
}

/* Mobile responsive adjustments */
@media (max-width: 600px) {
  .ss-chat-settings-modal {
    height: 95vh !important;
    max-height: 95vh !important;
    width: 95vw !important;
    max-width: 95vw !important;
  }
  
  .ss-chat-settings-modal .ss-modal__content {
    padding: 12px;
  }
  
  /* Reduce textarea height on mobile */
  .ss-chat-settings-modal__prompt-textarea {
    min-height: 150px;
    max-height: 50vh; /* Allow growth but keep reasonable on mobile */
  }
  
  /* Stack buttons vertically on mobile */
  .ss-chat-settings-modal__title-controls,
  .ss-chat-settings-modal__model-controls {
    flex-direction: column;
    align-items: stretch;
  }
  
  .ss-chat-settings-modal__title-controls input,
  .ss-chat-settings-modal__model-controls input {
    margin-bottom: var(--size-4-2);
  }
  
  /* Make preset buttons full width on mobile */
  .ss-preset-button {
    width: 100%;
    text-align: center;
  }
}


/* embeddings-view.css */
/* Embeddings View - Main container */
.systemsculpt-embeddings-view {
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 0;
  overflow: hidden;
}

/* Header section - ultra compact */
.embeddings-view-header {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 6px 12px;
  border-bottom: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  flex-shrink: 0;
}

.embeddings-view-title {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  font-weight: 500;
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  transition: box-shadow 0.3s ease;
}

.embeddings-view-title-row {
  display: flex;
  align-items: center;
  gap: 6px;
}

.embeddings-view-file-name {
  font-size: var(--font-ui-smaller);
  color: var(--text-faint);
  font-weight: 400;
  text-align: center;
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.embeddings-view-icon {
  width: 14px;
  height: 14px;
  opacity: 0.6;
}

.embeddings-view-title.refreshing {
  animation: subtle-pulse 2s ease-in-out infinite;
}

@keyframes subtle-pulse {
  0% { 
    box-shadow: 0 0 0 0 var(--ss-layer-base);
    opacity: 0.6;
  }
  50% { 
    box-shadow: 0 0 6px 2px color-mix(in srgb, var(--interactive-accent) 12%, var(--ss-layer-base));
    opacity: 0.75;
  }
  100% { 
    box-shadow: 0 0 0 0 var(--ss-layer-base);
    opacity: 0.6;
  }
}


/* Status section - hidden */
.embeddings-view-status {
  display: none;
}

/* Results container - more space */
.embeddings-view-results {
  flex: 1;
  overflow-y: auto;
  padding: 2px 0;
}

.results-container {
  padding: 0;
}

/* Individual result items - more compact and fully clickable */
.similar-note-item {
  display: flex;
  gap: 10px;
  padding: 8px 12px;
  border-bottom: 1px solid var(--background-modifier-border-focus);
  cursor: pointer;
  transition: all 0.15s ease;
  border-radius: 4px;
  margin: 1px 0;
  border: 1px solid var(--ss-layer-base);
}

.similar-note-item:hover {
  background-color: var(--background-modifier-hover);
  transform: translateY(-1px);
  box-shadow: 0 2px 4px color-mix(in srgb, rgb(0, 0, 0) 10%, var(--ss-layer-base));
  border-color: var(--background-modifier-border-hover);
}

.similar-note-item:active {
  transform: translateY(0);
  box-shadow: 0 1px 2px color-mix(in srgb, rgb(0, 0, 0) 5%, var(--ss-layer-base));
}

.similar-note-item:last-child {
  border-bottom: none;
}

/* Score indicator - override the similar-notes-view.css properly */
.systemsculpt-embeddings-view .note-score {
  flex-shrink: 0;
  width: 36px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  margin-top: 2px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
  text-align: center;
}

/* Remove the span styling since we're styling the container directly */
.systemsculpt-embeddings-view .note-score span {
  font-size: inherit;
  font-weight: inherit;
  padding: 0;
  border-radius: 0;
  min-width: auto;
  text-align: inherit;
  display: contents;
}

/* Score colors using Obsidian's native semantic colors with transparency */
.systemsculpt-embeddings-view .note-score.score-high {
  background-color: color-mix(in srgb, var(--text-success) 50%, var(--ss-layer-base));
  color: var(--text-on-accent);
  text-shadow: 0 0 2px color-mix(in srgb, rgb(0, 0, 0) 80%, var(--ss-layer-base));
}

.systemsculpt-embeddings-view .note-score.score-medium {
  background-color: color-mix(in srgb, var(--text-warning) 50%, var(--ss-layer-base));
  color: var(--text-on-accent);
  text-shadow: 0 0 2px color-mix(in srgb, rgb(0, 0, 0) 80%, var(--ss-layer-base));
}

.systemsculpt-embeddings-view .note-score.score-low {
  background-color: color-mix(in srgb, var(--text-error) 50%, var(--ss-layer-base));
  color: var(--text-on-accent);
  text-shadow: 0 0 2px color-mix(in srgb, rgb(0, 0, 0) 80%, var(--ss-layer-base));
}

/* Note content */
.note-content {
  flex: 1;
  min-width: 0;
}

.note-title {
  margin-bottom: 4px;
}

.note-section-title {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  letter-spacing: 0.01em;
  margin-bottom: 4px;
}

.note-title .internal-link {
  font-weight: 500;
  color: var(--text-normal);
  text-decoration: none;
  display: block;
  line-height: 1.3;
  cursor: inherit; /* Inherit cursor from parent card */
}

.note-title .internal-link:hover {
  color: var(--text-accent);
  text-decoration: none; /* Remove underline since whole card is clickable */
}

/* Visual indicator that the whole card is clickable */
.systemsculpt-embeddings-view .similar-note-item:hover .note-title .internal-link {
  color: var(--text-accent);
}

.note-excerpt {
  font-size: 11px;
  color: var(--text-muted);
  line-height: 1.3;
  margin-bottom: 4px;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
}

/* Metadata row - more compact */
.note-metadata {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
  font-size: 10px;
  color: var(--text-muted);
}

.note-path {
  opacity: 0.7;
}

.note-tags {
  display: flex;
  align-items: center;
  gap: 4px;
  flex-wrap: wrap;
}

.note-tags .tag {
  background-color: var(--tag-background);
  color: var(--tag-color);
  padding: 1px 3px;
  border-radius: 2px;
  font-size: 9px;
}

.note-date {
  opacity: 0.6;
  font-size: 10px;
}

/* Consolidated empty states - more compact */
.embeddings-view-empty,
.embeddings-view-no-results,
.embeddings-view-error,
.embeddings-view-disabled {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px 20px;
  text-align: center;
  flex: 1;
}

.empty-icon,
.no-results-icon,
.error-icon,
.disabled-icon {
  width: 40px;
  height: 40px;
  opacity: 0.4;
  margin-bottom: 12px;
}

.empty-title,
.no-results-title,
.error-title,
.disabled-title {
  font-size: 15px;
  font-weight: 500;
  color: var(--text-normal);
  margin-bottom: 6px;
}

.empty-description,
.no-results-description,
.error-message,
.disabled-description {
  font-size: 13px;
  color: var(--text-muted);
  line-height: 1.3;
  max-width: 280px;
}

.error-icon {
  opacity: 0.5;
  color: var(--text-error);
}

.error-title {
  color: var(--text-error);
}

/* Loading state */
.embeddings-view-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  text-align: center;
  flex: 1;
}

/* Compact loading for quick searches */
.embeddings-view-loading.compact {
  padding: 24px 20px;
  min-height: 120px;
}

.systemsculpt-loading-spinner {
  width: 24px;
  height: 24px;
  border: 2px solid var(--background-modifier-border);
  border-top: 2px solid var(--text-accent);
  border-radius: 50%;
  animation: embeddings-view-spin 1s linear infinite;
  margin-bottom: 16px;
}

/* Small spinner for quick loading */
.systemsculpt-loading-spinner.small {
  width: 18px;
  height: 18px;
  border-width: 1.5px;
  margin-bottom: 12px;
}

.systemsculpt-loading-text {
  font-size: 14px;
  color: var(--text-muted);
}

/* Small text for quick loading */
.systemsculpt-loading-text.small {
  font-size: 12px;
  opacity: 0.8;
}

@keyframes embeddings-view-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .embeddings-view-header {
    padding: 8px 12px;
  }
  
  .similar-note-item {
    padding: 10px 12px;
    gap: 8px;
  }
  
  .note-score {
    width: 35px;
  }
  
  .note-metadata {
    font-size: 10px;
  }
}



/* Scrollbar styling */
.embeddings-view-results::-webkit-scrollbar {
  width: 6px;
}

.embeddings-view-results::-webkit-scrollbar-track {
  background: var(--ss-layer-base);
}

.embeddings-view-results::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 3px;
}

.embeddings-view-results::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

/* Processing state */
.embeddings-view-processing {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px 20px;
  text-align: center;
  min-height: 240px;
}

.embeddings-view-processing .processing-icon {
  width: 40px;
  height: 40px;
  margin-bottom: 16px;
  opacity: 0.6;
}

.embeddings-view-processing .processing-title {
  font-size: 16px;
  font-weight: 500;
  margin-bottom: 10px;
  color: var(--text-normal);
}

.embeddings-view-processing .processing-description {
  font-size: 13px;
  color: var(--text-muted);
  margin-bottom: 16px;
  line-height: 1.4;
  max-width: 280px;
}

.embeddings-view-processing .processing-tip {
  font-size: 12px;
  color: var(--text-faint);
  background: var(--background-modifier-form-field);
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
}

/* Action buttons for large vault prompt */
.embeddings-view-processing .processing-actions {
  display: flex;
  gap: 10px;
  margin-top: 16px;
  justify-content: center;
}

.embeddings-view-processing .processing-actions button {
  padding: 6px 12px;
  border-radius: 4px;
  border: 1px solid var(--interactive-normal);
  background: var(--interactive-normal);
  color: var(--text-on-accent);
  cursor: pointer;
  font-weight: 500;
  font-size: 12px;
  transition: all 0.15s ease;
}

.embeddings-view-processing .processing-actions button:hover {
  background: var(--interactive-hover);
  border-color: var(--interactive-hover);
}

.embeddings-view-processing .processing-actions button.mod-muted {
  background: var(--ss-layer-base);
  color: var(--text-muted);
  border-color: var(--background-modifier-border);
}

.embeddings-view-processing .processing-actions button.mod-muted:hover {
  background: var(--background-modifier-hover);
  color: var(--text-normal);
}

.embeddings-view-processing .processing-actions button.mod-cta {
  background: var(--interactive-accent);
  border-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.embeddings-view-processing .processing-actions button.mod-cta:hover {
  background: var(--interactive-accent-hover);
  border-color: var(--interactive-accent-hover);
}

/* Processing progress elements */
.processing-progress {
  width: 100%;
  max-width: 240px;
  margin-top: 16px;
}

.embeddings-view-processing .processing-secondary-actions {
  display: flex;
  justify-content: center;
  margin-top: 12px;
  gap: 8px;
}

.embeddings-view-processing .processing-secondary-actions button {
  padding: 6px 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background: var(--ss-layer-base);
  color: var(--text-muted);
  cursor: pointer;
  font-size: 12px;
  transition: all 0.15s ease;
}

.embeddings-view-processing .processing-secondary-actions button:hover {
  background: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-progress-text {
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 8px;
  text-align: center;
}

.systemsculpt-progress-bar {
  width: 100%;
  height: 4px;
  background-color: var(--background-modifier-border);
  border-radius: 2px;
  overflow: hidden;
}

.systemsculpt-progress-fill {
  height: 100%;
  background-color: var(--interactive-accent);
  width: 0%;
  transition: width 0.3s ease;
  border-radius: 2px;
  position: relative;
  overflow: hidden;
}

/* Animated stripes for processing state */
.systemsculpt-progress-fill.processing::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: linear-gradient(
    45deg,
    var(--ss-layer-base) 25%,
    color-mix(in srgb, rgb(255, 255, 255) 15%, var(--ss-layer-base)) 25%,
    color-mix(in srgb, rgb(255, 255, 255) 15%, var(--ss-layer-base)) 50%,
    var(--ss-layer-base) 50%,
    var(--ss-layer-base) 75%,
    color-mix(in srgb, rgb(255, 255, 255) 15%, var(--ss-layer-base)) 75%,
    color-mix(in srgb, rgb(255, 255, 255) 15%, var(--ss-layer-base))
  );
  background-size: 16px 16px;
  animation: embeddings-view-progress-stripes 1.2s linear infinite;
}

@keyframes embeddings-view-progress-stripes {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 16px 16px;
  }
}

/* Drag and Drop Styles for Similar Notes */
.similar-note-draggable {
  position: relative;
}

.similar-note-draggable::after {
  content: '';
  position: absolute;
  top: 4px;
  right: 4px;
  width: 16px;
  height: 16px;
  background: var(--text-muted);
  opacity: 0.3;
  mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg>') no-repeat center;
  mask-size: 12px;
  pointer-events: none;
  transition: opacity 0.2s ease;
}

.similar-note-draggable:hover::after {
  opacity: 0.6;
}

.similar-note-dragging {
  opacity: 0.5;
  transform: rotate(2deg);
  box-shadow: 0 4px 12px color-mix(in srgb, rgb(0, 0, 0) 20%, var(--ss-layer-base));
  border-color: var(--interactive-accent);
  background: var(--background-modifier-hover);
}

.similar-note-dragging::after {
  opacity: 0.8;
  background: var(--interactive-accent);
}

/* Context indicator for notes already in chat context */
.similar-note-in-context {
  border: 2px solid var(--text-success);
  background: color-mix(in srgb, var(--text-success) 8%, var(--background-primary));
}

.similar-note-in-context:hover {
  background: color-mix(in srgb, var(--text-success) 12%, var(--background-modifier-hover));
  border-color: var(--text-success);
}

/* Adjust draggable indicator for notes in context */
.similar-note-in-context.similar-note-draggable::after {
  background: var(--text-success);
  opacity: 0.6;
}

.similar-note-in-context.similar-note-draggable:hover::after {
  opacity: 0.8;
}

/* Chat view drop zone feedback */
.systemsculpt-chat-view.drag-over-from-similar-notes {
  background: color-mix(in srgb, var(--interactive-accent) 10%, var(--background-primary));
  transition: background 0.2s ease;
}

.systemsculpt-chat-view.drag-over-from-similar-notes::before {
  content: 'Drop to add to context';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  padding: 8px 16px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  z-index: 1000;
  pointer-events: none;
  box-shadow: 0 4px 12px color-mix(in srgb, rgb(0, 0, 0) 20%, var(--ss-layer-base));
}


/* benchview.css */
.systemsculpt-bench-view {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.benchview-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 6px 12px;
  border-bottom: 1px solid var(--background-modifier-border);
  background: var(--background-secondary);
}

.benchview-header-right {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.benchview-model-button,
.benchview-run-button,
.benchview-save-button {
  border-radius: 4px;
  padding: 4px 10px;
  font-size: 12px;
  font-weight: 500;
  border: 1px solid var(--background-modifier-border);
  background: var(--interactive-normal);
  color: var(--text-normal);
  cursor: pointer;
  transition: background 0.12s ease, border-color 0.12s ease;
}

.benchview-model-button:hover,
.benchview-save-button:hover {
  background: var(--background-modifier-hover);
}

.benchview-run-button {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: transparent;
}

.benchview-run-button:hover {
  background: var(--interactive-accent-hover);
}

.benchview-save-button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.benchview-save-button:disabled:hover {
  background: var(--interactive-normal);
}

.benchview-results-wrapper {
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 11px;
  color: var(--text-muted);
}

.benchview-runtime-wrapper {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  color: var(--text-muted);
}

.benchview-runtime-total {
  padding: 2px 6px;
  font-size: 11px;
  border-radius: 3px;
  background: var(--background-modifier-hover);
  color: var(--text-normal);
  font-variant-numeric: tabular-nums;
}

.benchview-results-input {
  min-width: 140px;
  max-width: 180px;
  padding: 3px 6px;
  font-size: 11px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  color: var(--text-normal);
}

.benchview-body {
  flex: 1;
  min-height: 0;
  display: grid;
  grid-template-columns: 280px 1fr;
}

.benchview-list-pane {
  border-right: 1px solid var(--background-modifier-border);
  background: var(--background-secondary);
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.benchview-pane-header {
  padding: 10px 12px;
  border-bottom: 1px solid var(--background-modifier-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.benchview-pane-title {
  font-weight: 600;
  white-space: nowrap;
}

.benchview-difficulty-select {
  width: 120px;
  max-width: 120px;
  font-size: 12px;
  padding: 4px 6px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  color: var(--text-normal);
}

.benchview-case-list {
  overflow-y: auto;
  padding: 8px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.benchview-case-empty {
  padding: 10px;
  color: var(--text-muted);
  font-size: 12px;
}

.benchview-case-group {
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: var(--text-muted);
  padding: 8px 4px 0;
}

.benchview-case-row {
  padding: 10px 12px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 8px;
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

.benchview-case-row:hover {
  border-color: var(--background-modifier-border-hover);
}

.benchview-case-row.is-active {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--interactive-accent) 15%, transparent);
}

.benchview-case-title {
  font-weight: 600;
}

.benchview-case-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.benchview-case-status {
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.03em;
  width: fit-content;
  padding: 3px 8px;
  border-radius: 4px;
}

.benchview-case-runtime {
  font-size: 11px;
  color: var(--text-muted);
  font-variant-numeric: tabular-nums;
}

.benchview-case-meta .benchview-status-running ~ .benchview-case-runtime {
  color: var(--text-accent);
}

.benchview-case-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  overflow: hidden;
  max-height: 52px;
}

.benchview-case-tags span {
  font-size: 10px;
  padding: 2px 8px;
  border-radius: 4px;
  background: var(--background-modifier-hover);
  color: var(--text-muted);
  white-space: nowrap;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
}

.benchview-status-pending {
  background: var(--background-modifier-hover);
  color: var(--text-muted);
}

.benchview-status-running {
  background: rgba(76, 141, 255, 0.2);
  color: var(--text-accent);
}

.benchview-status-pass {
  background: rgba(58, 195, 125, 0.2);
  color: var(--text-success);
}

.benchview-status-fail,
.benchview-status-error {
  background: rgba(255, 99, 99, 0.2);
  color: var(--text-error);
}

.benchview-status-skipped {
  background: rgba(255, 189, 72, 0.2);
  color: var(--text-warning);
}

.benchview-inspector-pane {
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.benchview-case-header {
  padding: 12px 16px;
  border-bottom: 1px solid var(--background-modifier-border);
  background: var(--background-secondary);
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.benchview-case-name {
  font-size: 15px;
  font-weight: 600;
}

.benchview-case-desc {
  font-size: 12px;
  color: var(--text-muted);
}

.benchview-case-duration {
  font-size: 11px;
  color: var(--text-muted);
}

.benchview-case-pill {
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.03em;
  padding: 4px 10px;
  border-radius: 4px;
  width: fit-content;
}

.benchview-chat-container {
  flex: 1;
  min-height: 0;
  overflow-y: auto;
  padding: 12px 16px;
  background: var(--background-primary);
}

.benchview-diff-container {
  border-top: 1px solid var(--background-modifier-border);
  background: var(--background-secondary);
  padding: 12px 16px;
  max-height: 200px;
  overflow-y: auto;
}

.benchview-diff-row {
  padding: 6px 0;
  border-bottom: 1px solid var(--background-modifier-border);
  font-size: 12px;
}

.benchview-empty {
  font-size: 12px;
  color: var(--text-muted);
}

.benchview-summary {
  font-size: 12px;
  color: var(--text-normal);
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.benchview-pass {
  font-size: 12px;
  color: var(--text-success);
}

.benchview-error {
  font-size: 12px;
  color: var(--text-error);
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.benchview-error-title {
  font-weight: 600;
}

.benchview-error-list {
  margin: 0;
  padding-left: 18px;
  color: var(--text-normal);
}

.benchview-live-region {
  position: absolute;
  width: 1px;
  height: 1px;
  overflow: hidden;
  opacity: 0;
}


/* benchresults.css */
/* Benchmark Results View */

.systemsculpt-benchresults-view {
  display: flex;
  flex-direction: column;
  height: 100%;
}

/* Header */
.benchresults-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  border-bottom: 1px solid var(--background-modifier-border);
  background: var(--background-secondary);
}

.benchresults-title {
  font-weight: 600;
  font-size: 13px;
}

.benchresults-refresh-btn {
  padding: 4px;
  border-radius: 4px;
  color: var(--text-muted);
}

.benchresults-refresh-btn:hover {
  color: var(--text-normal);
  background: var(--background-modifier-hover);
}

.benchresults-refresh-btn.is-loading {
  opacity: 0.5;
  pointer-events: none;
}

/* Content */
.benchresults-content {
  flex: 1;
  overflow-y: auto;
  padding: 8px;
}

/* Leaderboard list */
.benchresults-list {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

/* Entry */
.benchresults-entry {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 6px;
  transition: background 0.1s ease;
}

.benchresults-entry:hover {
  background: var(--background-modifier-hover);
}

/* Rank */
.benchresults-rank {
  width: 28px;
  flex-shrink: 0;
  font-weight: 700;
  font-size: 12px;
  color: var(--text-muted);
}

.benchresults-rank-first {
  color: var(--text-accent);
}

/* Model info */
.benchresults-info {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.benchresults-model {
  font-weight: 500;
  font-size: 13px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.benchresults-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 11px;
  color: var(--text-muted);
}

.benchresults-date {
  white-space: nowrap;
}

.benchresults-points {
  white-space: nowrap;
}

/* SVG bar container */
.benchresults-bar-container {
  width: 100px;
  flex-shrink: 0;
}

.benchresults-svg-bar {
  display: block;
}

.benchresults-bar-bg {
  fill: var(--background-modifier-border);
}

.benchresults-bar-fill {
  transition: width 0.2s ease;
}

.benchresults-bar-fill.benchresults-score-high {
  fill: var(--text-success);
}

.benchresults-bar-fill.benchresults-score-medium {
  fill: var(--text-warning);
}

.benchresults-bar-fill.benchresults-score-low {
  fill: var(--text-error);
}

/* Score */
.benchresults-score {
  width: 38px;
  flex-shrink: 0;
  text-align: right;
  font-weight: 600;
  font-size: 12px;
  font-variant-numeric: tabular-nums;
}

.benchresults-score.benchresults-score-high {
  color: var(--text-success);
}

.benchresults-score.benchresults-score-medium {
  color: var(--text-warning);
}

.benchresults-score.benchresults-score-low {
  color: var(--text-error);
}

/* Empty state */
.benchresults-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  text-align: center;
}

.benchresults-empty-icon {
  width: 48px;
  height: 48px;
  margin-bottom: 12px;
  color: var(--text-faint);
}

.benchresults-empty-icon svg {
  width: 100%;
  height: 100%;
}

.benchresults-empty-title {
  font-weight: 600;
  font-size: 14px;
  color: var(--text-muted);
  margin-bottom: 4px;
}

.benchresults-empty-desc {
  font-size: 12px;
  color: var(--text-faint);
}

/* Error state */
.benchresults-error {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  text-align: center;
}

.benchresults-error-icon {
  width: 48px;
  height: 48px;
  margin-bottom: 12px;
  color: var(--text-error);
}

.benchresults-error-icon svg {
  width: 100%;
  height: 100%;
}

.benchresults-error-title {
  font-weight: 600;
  font-size: 14px;
  color: var(--text-error);
  margin-bottom: 4px;
}

.benchresults-error-message {
  font-size: 12px;
  color: var(--text-muted);
  max-width: 300px;
  word-break: break-word;
}

/* Loading state */
.benchresults-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  color: var(--text-muted);
  font-size: 12px;
}


/* misc.css */
/**
 * Miscellaneous Styles
 * 
 * Styles that don't fit into other categories
 */

.systemsculpt-selected-model {
  border-color: var(--interactive-accent);
  background-color: var(--background-primary-alt);
}

.systemsculpt-code-block-wrapper {
  position: relative;
  margin: 1em 0;
  background-color: var(--background-primary);
  border-radius: 8px;
}

.systemsculpt-creative-indicator {
  color: var(--color-cyan);
}

.systemsculpt-credit-balance

.systemsculpt-custom-model-name {
  font-size: 0.95em;
  color: var(--text-normal);
  line-height: 1.2;
  font-weight: 500;
}

.systemsculpt-custom-section {
  margin-bottom: 12px;
  flex-shrink: 0;
}

.systemsculpt-detail-label {
  color: var(--text-muted);
}

.systemsculpt-detail-value {
  color: var(--text-normal);
}

.systemsculpt-drag-overlay {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: color-mix(in srgb, rgb(var(--background-primary-rgb)) 90%, var(--ss-layer-base));
  backdrop-filter: blur(8px);
  z-index: 100;
  pointer-events: none;
  flex-direction: column;
  border: 2px dashed var(--interactive-accent);
  border-radius: 12px;
  margin: 8px;
}

.systemsculpt-drag-message {
  font-size: 1.2em;
  font-weight: 600;
  color: var(--interactive-accent);
  text-align: center;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.systemsculpt-drag-message::before {
  content: "📁";
  font-size: 1.5em;
}

.systemsculpt-drag-detail {
  font-size: 0.9em;
  color: var(--text-muted);
  text-align: center;
  padding: 0 16px;
  line-height: 1.4;
}

/* Different icons for different content types */
.systemsculpt-chat-container.systemsculpt-drag-active[data-drag-type="search-results"] 
  .systemsculpt-drag-message::before {
  content: "🔍";
}

.systemsculpt-chat-container.systemsculpt-drag-active[data-drag-type="folder"] 
  .systemsculpt-drag-message::before {
  content: "📂";
}

.systemsculpt-chat-container.systemsculpt-drag-active[data-drag-type="folders"] 
  .systemsculpt-drag-message::before {
  content: "📁📁";
}

.systemsculpt-chat-container.systemsculpt-drag-active[data-drag-type="files"] 
  .systemsculpt-drag-message::before {
  content: "📄";
}

/* Draggable elements styling */
.systemsculpt-draggable {
  transition: all 0.2s ease;
  user-select: none;
}

.systemsculpt-draggable:hover {
  background-color: var(--background-modifier-hover);
  border-radius: 4px;
}

.systemsculpt-draggable.systemsculpt-dragging {
  opacity: 0.5;
  transform: scale(0.95);
}


.systemsculpt-empty-state {
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 24px;
  color: var(--text-muted);
  text-align: center;
}

.systemsculpt-extension-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 2px 4px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
  line-height: 1;
}

.systemsculpt-extension-badge svg {
  width: 10px;
  height: 10px;
}

.systemsculpt-extension-badge.systemsculpt-pro-badge {
  background: color-mix(in srgb, rgb(255, 255, 255) 20%, var(--ss-layer-base));
  color: inherit;
}

.systemsculpt-extension-icon {
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-extension-icon svg {
  width: 14px;
  height: 14px;
}

.systemsculpt-extension-text {
  font-weight: 500;
}

.systemsculpt-file-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

.systemsculpt-file-icon svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-file-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  border-radius: 4px;
  background-color: var(--background-primary-alt);
  margin-bottom: 4px;
  min-width: 0;
}

.systemsculpt-file-meta {
  display: none; 
  white-space: nowrap;
  color: var(--text-muted);
  font-size: 0.85em;
}

.systemsculpt-file-meta {
  display: inline;
}

.systemsculpt-file-name {
  flex: 1;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-file-remove {
  margin-left: auto;
  opacity: 0.7;
  transition: opacity 0.15s ease;
  flex-shrink: 0;
}

.systemsculpt-file-remove:hover {
  opacity: 1;
}

.systemsculpt-file-tree {
  margin: 8px 0;
  max-height: 300px;
  overflow-y: auto;
}

.systemsculpt-file-tree .systemsculpt-nav-file {
  padding-left: 24px;
  position: relative;
}

.systemsculpt-file-tree .systemsculpt-nav-file-size {
  color: var(--text-muted);
  font-size: 0.85em;
  margin-left: auto;
}

.systemsculpt-file-tree .systemsculpt-nav-file-title {
  color: var(--text-normal);
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
}

.systemsculpt-filter-item {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--text-muted);
  font-size: 13px;
}

.systemsculpt-filter-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.9em;
  color: var(--text-muted);
  user-select: none;
}

.systemsculpt-filters-bar {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 8px 0;
}

.systemsculpt-filters-bar {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.5rem 0;
  margin-bottom: 0.5rem;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-header-section-left {
  position: relative;
  min-width: 0;
  flex: 1;
}

.systemsculpt-header-section-right {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-left: auto;
}


.systemsculpt-highlight {
  color: var(--text-accent);
  font-weight: 500;
}

.systemsculpt-image-preview {
  object-fit: contain;
}

.systemsculpt-image-wrapper {
  margin: 8px 0;
  max-width: 100%;
  border-radius: 8px;
  overflow: hidden;
}

.systemsculpt-janitor-content {
  display: flex;
  flex-direction: column;
  gap: 24px;
  padding: 8px;
}

.systemsculpt-janitor-section {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 16px;
}

.systemsculpt-left-pane {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-width: 0;
  height: 100%;
  overflow: hidden;
}

.systemsculpt-markdown-preview {
  padding: 12px 16px;
  min-width: 300px;
  max-width: 600px;
  max-height: 400px;
  overflow-y: auto;
  font-size: 0.9em;
  line-height: 1.5;
  border: 1px solid var(--background-modifier-border);
  user-select: none;
  -webkit-user-select: none;
}

.systemsculpt-markdown-preview :last-child {
  margin-bottom: 0;
}

.systemsculpt-markdown-preview h1:first-child {
  margin-top: 0;
}

.systemsculpt-markdown-preview::-webkit-scrollbar {
  width: 6px;
}

.systemsculpt-markdown-preview::-webkit-scrollbar-thumb {
  background: var(--background-modifier-border-hover);
  border-radius: 3px;
}

.systemsculpt-markdown-preview::-webkit-scrollbar-thumb:hover {
  background: var(--interactive-accent);
}

.systemsculpt-markdown-preview::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 3px;
}

.systemsculpt-markdown-source-view .systemsculpt-cm-editor {
  padding-top: 0 !important;
}

.systemsculpt-markdown-source-view .systemsculpt-cm-scroller,
.systemsculpt-markdown-reading-view .systemsculpt-markdown-preview-view {
  padding-top: 8px;
}

.systemsculpt-markdown-wrapper {
  line-height: 1.5;
}

.systemsculpt-markdown-wrapper li {
  margin: 0.5em 0;
}

.systemsculpt-markdown-wrapper p {
  margin: 1em 0;
}

.systemsculpt-markdown-wrapper p:first-child {
  margin-top: 0;
}

.systemsculpt-markdown-wrapper p:last-child {
  margin-bottom: 0;
}

.systemsculpt-markdown-wrapper pre {
  margin: 1em 0;
}

.systemsculpt-markdown-wrapper ul {
  margin: 1em 0;
  padding-left: 2em;
}

.systemsculpt-no-model {
  color: var(--text-muted);
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 4px;
  background: var(--background-modifier-hover);
  transition: all 0.2s ease;
}

.systemsculpt-no-model:hover {
  color: var(--text-normal);
  background: var(--background-modifier-active);
}

.systemsculpt-note-preview {
  max-height: 150px;
  overflow: auto;
  white-space: pre-wrap;
  font-size: 0.85em;
  padding: 12px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  border: none;
  border-radius: 0;
  height: 150px;
  font-family: var(--font-monospace);
}

.systemsculpt-notice {
  padding: 8px 12px;
  border-radius: 4px;
  font-size: 14px;
  line-height: 1.4;
  display: flex;
  align-items: center;
  opacity: 1;
  transition: opacity 150ms ease-in-out;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-normal);
}

.systemsculpt-notice-icon {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
}

.systemsculpt-notice.systemsculpt-fade {
  opacity: 0.9;
}

.systemsculpt-notice.systemsculpt-notice-error {
  background-color: var(--background-modifier-error);
  border-color: var(--background-modifier-error);
  color: var(--text-error);
}

.systemsculpt-notice.systemsculpt-notice-info {
  background-color: var(--background-modifier-info);
  border-color: var(--background-modifier-info);
  color: var(--text-info);
}

.systemsculpt-notice.systemsculpt-notice-success {
  background-color: var(--background-modifier-success);
  border-color: var(--background-modifier-success);
  color: var(--text-success);
}

.systemsculpt-notice.systemsculpt-notice-warning {
  background-color: var(--background-modifier-warning);
  border-color: var(--background-modifier-warning);
  color: var(--text-warning);
}

.systemsculpt-popup {
  background-color: var(--background-primary);
  padding: 24px;
  border-radius: 12px;
  max-width: 400px;
  width: 100%;
  box-shadow: 0 4px 24px color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
  animation: popup-slide-up 0.2s ease-out;
}

.systemsculpt-popup-content {
  margin-bottom: 24px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.systemsculpt-popup-description {
  color: var(--text-muted);
  line-height: 1.5;
  font-size: 0.9em;
}

.systemsculpt-popup-large {
  max-width: 600px;
}

.systemsculpt-popup-textarea {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  padding: 12px;
  font-size: var(--font-text-size);
  line-height: 1.5;
  color: var(--text-normal);
  resize: vertical;
  width: 100%;
  min-height: 180px;
  transition: all 0.15s ease-in-out;
  font-family: var(--font-text);
  margin: 12px 0;
}

.systemsculpt-popup-textarea::placeholder {
  color: var(--text-faint);
  opacity: 0.8;
}

.systemsculpt-popup-textarea:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-popup-title {
  font-size: 1.2em;
  font-weight: 600;
  color: var(--text-normal);
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
}

.systemsculpt-popup-title .systemsculpt-popup-icon {
  color: var(--interactive-accent);
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-popup-title .systemsculpt-popup-icon svg {
  width: 20px;
  height: 20px;
}

.systemsculpt-pricing-high {
  color: var(--color-red);
  transition: opacity 0.2s ease;
}

.systemsculpt-pricing-low {
  color: var(--color-green);
  transition: opacity 0.2s ease;
}

.systemsculpt-pricing-low:hover,
.systemsculpt-pricing-medium:hover,
.systemsculpt-pricing-high:hover {
  opacity: 0.8;
}

.systemsculpt-pricing-medium {
  color: var(--color-orange);
  transition: opacity 0.2s ease;
}

.systemsculpt-pro-benefits-list {
  margin: 8px 0;
  padding-left: 16px;
  color: var(--text-muted);
  font-size: 0.9em;
  display: flex;
  flex-wrap: wrap;
  gap: 4px 16px;
}

.systemsculpt-pro-benefits-list li {
  margin: 2px 0;
  list-style-type: "→";
  padding-left: 8px;
  text-indent: -12px;
  flex: 1 1 calc(50% - 16px);
  min-width: 200px;
}

.systemsculpt-pro-promotion {
  margin: 12px 0;
  padding: 12px 16px;
  border-radius: 6px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-pro-promotion .systemsculpt-feature-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 8px;
  background: var(--background-secondary);
  border-radius: 4px;
  font-size: 13px;
}

.systemsculpt-pro-promotion .systemsculpt-pro-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
}

.systemsculpt-pro-promotion .systemsculpt-pro-header .systemsculpt-pricing {
  font-weight: 600;
  color: var(--text-accent);
}

.systemsculpt-pro-promotion .systemsculpt-pro-header .systemsculpt-pricing-subtitle {
  font-size: 12px;
  color: var(--text-muted);
  text-align: right;
}

.systemsculpt-pro-promotion .systemsculpt-pro-header h3 {
  margin: 0;
  color: var(--text-accent);
}

.systemsculpt-pro-promotion .systemsculpt-setting-item {
  padding: 0;
  border: none;
}

.systemsculpt-pro-promotion .systemsculpt-setting-item-control {
  display: flex;
  gap: 8px;
  padding-top: 8px;
}

.systemsculpt-pro-promotion .systemsculpt-setting-item-heading {
  margin-bottom: 8px;
}


.systemsculpt-prompt-creation-content {
  width: 100%;
  min-height: 200px;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 14px;
  line-height: 1.6;
  font-family: var(--font-text);
  resize: vertical;
  transition: all 0.2s ease;
}

.systemsculpt-prompt-creation-content::placeholder,
.systemsculpt-prompt-creation-title-input::placeholder {
  color: var(--text-muted);
}

.systemsculpt-prompt-creation-content:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-provider-header {
  display: flex;
  align-items: center;
  padding: 12px 16px 8px;
  margin: 8px 0 4px;
  font-size: 1em;
  font-weight: 600;
  color: var(--text-normal);
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-provider-header {
  grid-column: 1 / -1;
  padding: 12px 16px 8px;
  margin: 8px 0 4px;
  font-size: 1em;
  font-weight: 600;
  color: var(--text-normal);
  border-bottom: 1px solid var(--background-modifier-border);
  display: flex;
  align-items: center;
}

.systemsculpt-provider-header:first-of-type {
  margin-top: 0;
}

.systemsculpt-provider-header:first-of-type {
  margin-top: 0;
}

.systemsculpt-provider-header:first-of-type span {
  display: flex;
  align-items: center;
  gap: 6px;
}

.systemsculpt-provider-header:first-of-type span::before {
  content: "";
  display: inline-block;
  width: 16px;
  height: 16px;
  background-color: var(--color-yellow);
  mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>');
  -webkit-mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>');
  mask-size: contain;
  -webkit-mask-size: contain;
  mask-repeat: no-repeat;
  -webkit-mask-repeat: no-repeat;
}

.systemsculpt-provider-link {
  color: var(--interactive-accent);
  cursor: pointer;
  text-decoration: underline;
  font-weight: 500;
  display: inline-block;
  margin-top: 8px;
}

.systemsculpt-provider-link:hover {
  color: var(--interactive-accent-hover);
  text-decoration: none;
}

/* Reasoning-specific styles removed - using unified collapsible drawer styles */


.systemsculpt-section {
  margin-bottom: 20px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  overflow: hidden;
  background-color: var(--background-secondary-alt);
}

.systemsculpt-section-description {
  font-size: 14px;
  color: var(--text-muted);
  margin-bottom: 16px;
}

.systemsculpt-section-header {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-normal);
  margin-bottom: 8px;
}

.systemsculpt-section-header {
  text-align: center;
  color: var(--text-muted);
  font-size: var(--font-ui-small);
  font-weight: 600;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  padding: var(--size-4-2) 0;
  margin: 0 var(--size-4-2);
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-section-header {
  font-size: 0.95em;
  font-weight: 600;
  padding: 10px 12px;
  background-color: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
  color: var(--text-normal);
  margin-bottom: 0;
}

.systemsculpt-sort-select {
  padding: 4px 8px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  color: var(--text-normal);
  font-size: 13px;
  cursor: pointer;
}

.systemsculpt-sort-select:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}

.systemsculpt-sort-select:hover {
  border-color: var(--interactive-accent);
}

.systemsculpt-speed-indicator {
  color: var(--color-yellow);
}

.systemsculpt-status-bar {
  position: fixed;
  bottom: 12px;
  right: 12px;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  padding: 8px 12px;
  display: flex;
  align-items: center;
  gap: 8px;
  box-shadow: 0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 10%, var(--ss-layer-base));
  z-index: 1000;
  transition: all 0.2s ease;
  max-width: 300px;
}

.systemsculpt-status-bar[data-status="processing"] {
  border-color: var(--text-accent);
}

.systemsculpt-status-bar[data-status="success"] {
  border-color: var(--text-success);
}

.systemsculpt-status-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

.systemsculpt-status-icon svg {
  width: 20px;
  height: 20px;
}

.systemsculpt-status-text {
  font-size: 14px;
  color: var(--text-normal);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-suggestion-content {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
}

.systemsculpt-suggestion-content-inner {
  flex: 1;
  min-width: 0;
  overflow: hidden;
}

.systemsculpt-suggestion-highlight {
  color: var(--text-accent);
  font-weight: 600;
  text-decoration: underline;
  text-underline-offset: 2px;
}

.systemsculpt-suggestion-note {
  font-size: 0.8em;
  color: var(--text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-suggestion-title {
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-sync-status {
  display: flex;
  align-items: center;
  margin-left: 4px;
  opacity: 0.8;
  transition: opacity 0.2s ease;
}

.systemsculpt-sync-status svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-sync-status.systemsculpt-synced svg {
  color: var(--color-green);
}

.systemsculpt-sync-status.systemsculpt-syncing svg {
  color: var(--text-muted);
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-template-preview,
.systemsculpt-template-textarea {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 16px;
  background-color: var(--background-primary);
  border: none;
  font-family: var(--font-monospace);
  font-size: 0.9em;
  line-height: 1.5;
  color: var(--text-normal);
  overflow: auto;
}

.systemsculpt-template-textarea {
  resize: none;
  width: 100%;
  height: 100%;
}

.systemsculpt-text-wrapper {
  position: relative;
}

.systemsculpt-theme-dark .systemsculpt-status-bar {
  box-shadow: 0 2px 8px color-mix(in srgb, rgb(0, 0, 0) 20%, var(--ss-layer-base));
}


.systemsculpt-top-pick-badge {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  font-weight: 600;
}

.systemsculpt-top-pick-badge svg {
  display: none;
}

.systemsculpt-validation-time {
  font-size: 0.9em;
  color: var(--text-muted);
}

.systemsculpt-version-indicator {
  margin: 12px 0;
  padding: 8px;
  border-radius: 6px;
  background: var(--background-secondary);
  opacity: 1;
  transition: opacity 0.3s ease;
}

.systemsculpt-version-indicator p {
  margin: 4px 0;
  opacity: 1;
  transform: translateY(0);
  transition: all 0.3s ease;
}

.systemsculpt-vision-indicator {
  color: var(--color-blue);
}

.systemsculpt-status-bar[data-status="error"] {
  border-color: var(--text-error);
}

.systemsculpt-status-icon svg.systemsculpt-lucide-loader-2 {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-theme-dark .systemsculpt-popup {
  box-shadow: 0 4px 24px color-mix(in srgb, rgb(0, 0, 0) 30%, var(--ss-layer-base));
}

.systemsculpt-credit-balance {
  font-size: 0.9em;
  color: var(--text-muted);
  margin: 4px 0;
  padding: 4px 8px;
  background: var(--background-secondary);
  border-radius: 4px;
  display: inline-block;
  transition: all 0.3s ease;
}

/* Directory diagnostics styling */


.systemsculpt-info {
  margin-bottom: 16px;
  color: var(--text-muted);
}

.systemsculpt-button-container {
  margin-top: 8px;
  margin-bottom: 8px;
}









.systemsculpt-issues h4 {
  margin-top: 0;
  margin-bottom: 8px;
  color: var(--text-warning);
  font-size: 16px;
}

.systemsculpt-issues ul {
  margin-top: 8px;
  margin-bottom: 8px;
  padding-left: 24px;
}



.systemsculpt-error {
  color: var(--text-error);
}



/* Fix: Ensure model selection modal items are never semi-transparent */
.modal.systemsculpt-model-selection-modal .ss-modal__item,
.workspace-leaf-content .systemsculpt-model-selection-modal .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Override any theme styles that might affect modal item opacity */
.theme-light .systemsculpt-model-selection-modal .ss-modal__item,
.theme-dark .systemsculpt-model-selection-modal .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* === Model Selection Modal Layout === */
.systemsculpt-model-selection-modal .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}


/* view-content.css */
/**
 * Obsidian View Content Overrides - SystemSculpt Plugin
 *
 * IMPORTANT: This file contains scoped CSS that targets Obsidian's native
 * .workspace-leaf-content selector BUT ONLY when our plugin views are active.
 *
 * ALL selectors here MUST include [data-type="systemsculpt-*"] to ensure
 * they only affect our plugin's views, not other plugins or Obsidian's UI.
 *
 * The CSS lint script (npm run lint:css) will catch any unscoped selectors.
 */

/* Scoped workspace leaf content styles for SystemSculpt views */
.workspace-leaf-content[data-type="systemsculpt-chat"] {
  /* Chat view specific overrides */
}

.workspace-leaf-content[data-type="systemsculpt-settings"] {
  /* Settings view specific overrides */
}


/* mobile-ui-fixes.css */
/**
 * Mobile UI Fixes
 * 
 * Consolidated fixes for all mobile UI issues in SystemSculpt
 * Handles toolbar buttons, favorites button across all contexts
 */

/* ========================================
   FAVORITES BUTTON (ALL CONTEXTS)
   ======================================== */

/* Base favorites button visibility */
.is-mobile .systemsculpt-favorites-filter,
.is-mobile .ss-favorites-button .systemsculpt-favorites-filter {
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  align-items: center;
  gap: 4px;
  padding: 6px 10px !important;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  cursor: pointer;
  min-height: 32px;
}

/* Ensure icon is visible */
.is-mobile .systemsculpt-favorites-icon,
.is-mobile .ss-favorites-button .systemsculpt-favorites-icon {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  align-items: center;
  justify-content: center;
}

.is-mobile .systemsculpt-favorites-icon svg,
.is-mobile .ss-favorites-button .systemsculpt-favorites-icon svg {
  width: 14px !important;
  height: 14px !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Ensure label is visible - override any hiding rules */
.is-mobile .systemsculpt-favorites-label,
.is-mobile .ss-favorites-button .systemsculpt-favorites-label,
.is-mobile .systemsculpt-favorites-filter span:not(.svg-icon),
.is-mobile .ss-favorites-button .systemsculpt-favorites-filter span:not(.svg-icon) {
  display: inline !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Hover states */
.is-mobile .systemsculpt-favorites-filter:hover,
.is-mobile .ss-favorites-button .systemsculpt-favorites-filter:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

/* Active state */
.is-mobile .systemsculpt-favorites-filter.is-active,
.is-mobile .ss-favorites-button .systemsculpt-favorites-filter.is-active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

.is-mobile .systemsculpt-favorites-filter.is-active svg,
.is-mobile .ss-favorites-button .systemsculpt-favorites-filter.is-active svg {
  color: var(--text-on-accent) !important;
}

/* Favorites count badge */
.is-mobile .ss-favorites-count,
.is-mobile .ss-favorites-button .ss-favorites-count {
  font-size: 9px;
  padding: 1px 3px;
  border-radius: 6px;
  background: color-mix(in srgb, rgb(255, 255, 255) 20%, var(--ss-layer-base));
  color: var(--text-on-accent);
  font-weight: 600;
  flex-shrink: 0;
  min-width: 12px;
  text-align: center;
  margin-left: 2px;
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.is-mobile .systemsculpt-favorites-filter:not(.is-active) .ss-favorites-count,
.is-mobile .ss-favorites-button .systemsculpt-favorites-filter:not(.is-active) .ss-favorites-count {
  background: color-mix(in srgb, rgb(0, 0, 0) 10%, var(--ss-layer-base));
  color: var(--text-muted);
}

.is-mobile .theme-dark .systemsculpt-favorites-filter:not(.is-active) .ss-favorites-count,
.is-mobile .theme-dark .ss-favorites-button .systemsculpt-favorites-filter:not(.is-active) .ss-favorites-count {
  background: color-mix(in srgb, rgb(255, 255, 255) 10%, var(--ss-layer-base));
}

/* ========================================
   MODAL-SPECIFIC ADJUSTMENTS
   ======================================== */

/* Modal favorites button specific styles */
.is-mobile .ss-favorites-button {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.is-mobile .ss-favorites-button .systemsculpt-favorites-filter {
  font-size: 11px;
  font-weight: 500;
  white-space: nowrap;
  transition: all 0.1s ease;
}

/* ========================================
   RESPONSIVE ADJUSTMENTS
   ======================================== */

@media (max-width: 768px) {
  /* Specific override for model selection modal */
  .is-mobile .ss-favorites-button .systemsculpt-favorites-filter {
    padding: 3px 6px !important;
    font-size: 11px;
  }
}

@media (max-width: 480px) {
  /* Even smaller screens */
  .is-mobile .systemsculpt-favorites-filter,
  .is-mobile .ss-favorites-button .systemsculpt-favorites-filter {
    padding: 2px 4px !important;
    font-size: 10px;
  }
}


