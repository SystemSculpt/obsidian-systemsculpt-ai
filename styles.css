/**
 * SystemSculpt CSS
 * This file is automatically generated from the CSS files in src/css/
 * DO NOT EDIT DIRECTLY - Make changes to the source files instead
 */

/* variables.css */
/**
 * CSS Variables for SystemSculpt
 * 
 * This file contains design tokens and custom properties that leverage Obsidian's theming system.
 * These variables provide a consistent design language across all components.
 * 
 * All variables use the 'ss-' prefix for consistency and to avoid collisions with Obsidian variables.
 */

:root {
  /* 
   * Color system 
   * Maps Obsidian theme colors to semantic design tokens
   */
  --ss-color-primary: var(--interactive-accent);
  --ss-color-primary-hover: var(--interactive-accent-hover);
  --ss-color-secondary: var(--background-modifier-hover);
  --ss-color-secondary-hover: var(--background-modifier-border);
  --ss-color-danger: var(--background-modifier-error);
  --ss-color-danger-hover: var(--text-error);
  --ss-color-success: var(--background-modifier-success);
  --ss-color-warning: var(--color-yellow);
  
  /* Text colors */
  --ss-color-text-normal: var(--text-normal);
  --ss-color-text-muted: var(--text-muted);
  --ss-color-text-accent: var(--text-accent);
  --ss-color-text-on-primary: var(--text-on-accent);
  
  /* Border and background colors */
  --ss-color-border: var(--background-modifier-border);
  --ss-color-border-hover: var(--background-modifier-border-hover);
  --ss-color-bg-primary: var(--background-primary);
  --ss-color-bg-secondary: var(--background-secondary);
  --ss-color-bg-hover: var(--background-modifier-hover);
  
  /* Spacing system */
  --ss-space-xxs: 2px;
  --ss-space-xs: 4px;
  --ss-space-sm: 8px;
  --ss-space-md: 16px;
  --ss-space-lg: 24px;
  --ss-space-xl: 32px;
  --ss-space-xxl: 48px;
  
  /* Typography */
  --ss-font-size-xs: 11px;
  --ss-font-size-sm: 12px;
  --ss-font-size-md: 14px;
  --ss-font-size-lg: 16px;
  --ss-font-size-xl: 18px;
  --ss-font-weight-normal: 400;
  --ss-font-weight-medium: 500;
  --ss-font-weight-bold: 600;
  
  /* Borders & Radius */
  --ss-radius-sm: 4px;
  --ss-radius-md: 6px;
  --ss-radius-lg: 8px;
  --ss-radius-circle: 50%;
  --ss-border-width: 1px;
  
  /* Transitions */
  --ss-transition-fast: 0.15s ease;
  --ss-transition-normal: 0.2s ease;
  --ss-transition-slow: 0.3s ease;
  
  /* Shadows */
  --ss-shadow-sm: 0 2px 4px rgb(0, 0, 0);
  --ss-shadow-md: 0 2px 8px rgb(0, 0, 0);
  --ss-shadow-lg: 0 4px 12px rgb(0, 0, 0);
}

/* reset.css */
/**
 * Reset and base styles for SystemSculpt
 * 
 * These styles ensure consistent rendering across themes
 */

/* SystemSculpt doesn't have explicit reset styles separate from component styling.
   This file is primarily a placeholder for future reset styles if needed. */

/* animations.css */
/**
 * Animation definitions for SystemSculpt
 * Contains all keyframe animations used throughout the UI
 * 
 * All new animations should use the 'ss-' prefix for consistency
 */

/* Standard animations with the 'ss-' prefix */
@keyframes ss-fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes ss-fade-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(8px);
  }
}

@keyframes ss-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes ss-pulse {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}

@keyframes ss-slide-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes ss-slide-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(10px);
  }
}

@keyframes ss-loading-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Legacy animations - these should eventually be replaced with the 'ss-' versions */
@keyframes systemsculpt-token-loading {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes systemsculpt-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes systemsculpt-bounce {
  0%, 100% {
    transform: translateX(2px);
  }
  50% {
    transform: translateX(-2px);
  }
}

@keyframes systemsculpt-slideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes systemsculpt-pulse {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}

@keyframes systemsculpt-fade-in {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes systemsculpt-popup-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes systemsculpt-popup-fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes systemsculpt-popup-slide-up {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes systemsculpt-popup-slide-down {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(10px);
  }
}

@keyframes systemsculpt-ss-button-loading {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}


/* media-queries.css */
/**
 * Media Queries for Responsive Design
 * 
 * Contains all responsive breakpoints and device-specific styles
 */

/* Small screens */
@media (max-width: 600px) {
  .systemsculpt-file-meta {
    display: block;
    margin-top: 4px;
  }
  
  .systemsculpt-context-meta {
    flex-wrap: nowrap;
    overflow-x: auto;
    padding-bottom: 4px;
  }
  
  .systemsculpt-model-grid {
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 8px;
  }
}

/* Medium screens */
@media (min-width: 600px) {
  .systemsculpt-file-meta {
    display: inline;
  }
  
  .systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
    display: flex;
  }
  
  .systemsculpt-model-grid {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 12px;
  }
}

/* Mobile and tablet */
@media (max-width: 768px) {
  .systemsculpt-drawer.is-mobile {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1000;
  }
  
  .systemsculpt-drawer.is-mobile .systemsculpt-drawer-header {
    padding: 12px 16px;
    min-height: 48px;
  }
  
  .systemsculpt-recorder-visualizer .systemsculpt-recorder-canvas {
    height: 50px;
  }
  
  .systemsculpt-recorder-modal {
    width: calc(100% - 40px);
    max-width: 240px;
    bottom: 80px;
    right: 20px;
    padding: 10px;
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
  }
  
  .systemsculpt-recorder-canvas {
    height: 60px;
    margin: 0;
    border: 1px solid var(--background-modifier-border);
  }
  
  .systemsculpt-custom-provider-manager-modal {
    height: 100vh;
    width: 95vw;
    padding: 16px;
  }
}

/* Touch screens */
@media (hover: none) {
  .systemsculpt-preview {
    display: none;
  }
}

/* typography.css */
/**
 * Typography styles for SystemSculpt
 * 
 * This file contains typography-related styles that leverage Obsidian's theming system.
 * These styles provide consistent text formatting across all components.
 */

/* Base typography */
.systemsculpt-container {
  font-family: var(--font-text);
  font-size: var(--font-ui-medium);
  line-height: 1.5;
  color: var(--text-normal);
}

/* Headings */
.systemsculpt-heading-1 {
  font-size: var(--font-ui-larger);
  font-weight: var(--font-bold);
  margin-bottom: 1rem;
  color: var(--text-normal);
}

.systemsculpt-heading-2 {
  font-size: var(--font-ui-large);
  font-weight: var(--font-bold);
  margin-bottom: 0.75rem;
  color: var(--text-normal);
}

.systemsculpt-heading-3 {
  font-size: var(--font-ui-medium);
  font-weight: var(--font-bold);
  margin-bottom: 0.5rem;
  color: var(--text-normal);
}

/* Text styles */
.systemsculpt-text-normal {
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
}

.systemsculpt-text-muted {
  font-size: var(--font-ui-medium);
  color: var(--text-muted);
}

.systemsculpt-text-small {
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
}

.systemsculpt-text-accent {
  color: var(--text-accent);
}

.systemsculpt-text-error {
  color: var(--text-error);
}

/* Links */
.systemsculpt-link {
  color: var(--text-accent);
  text-decoration: none;
  cursor: pointer;
}

.systemsculpt-link:hover {
  text-decoration: underline;
}

/* Code blocks */
.systemsculpt-code {
  font-family: var(--font-monospace);
  font-size: var(--font-smaller);
  background-color: var(--background-secondary);
  padding: 0.2em 0.4em;
  border-radius: 3px;
}


/* responsive-breakpoints.css */
/* ========================================================================== */
/* == Responsive Breakpoints                                              == */
/* ========================================================================== */

:root {
  /* Mobile breakpoints */
  --mobile-max-width: 480px;
  --tablet-min-width: 600px;
  --desktop-min-width: 1024px;
  
  /* Toolbar opacity values */
  --toolbar-opacity-hidden: 0;
  --toolbar-opacity-partial: 0.6;
  --toolbar-opacity-visible: 0.8;
  --toolbar-opacity-full: 1;
  
  /* Backdrop blur intensity */
  --toolbar-backdrop-blur: 4px;
  
  /* Toolbar scaling on interaction */
  --toolbar-scale-active: 1.05;
  
  /* Border radius for toolbars */
  --toolbar-border-radius: 12px;
}

/* containers.css */
/**
 * Container Components
 * 
 * Styles for layout containers and content wrappers
 */

.systemsculpt-action-container {
  position: sticky;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 16px;
  background: var(--background-primary);
  border-top: 1px solid var(--background-modifier-border);
  display: flex;
  justify-content: center;
  z-index: 10;
}

/* Reasoning container styles removed - using unified collapsible drawer */

.systemsculpt-response-container {
  font-family: var(--font-monospace);
  font-size: 0.9em;
  line-height: 1.5;
}

.systemsculpt-response-container {
  max-height: 200px;
}

.systemsculpt-checkbox-container {
  position: relative;
  width: 40px;
  height: 20px;
  cursor: pointer;
}

.systemsculpt-checkbox-container.systemsculpt-is-enabled .systemsculpt-checkbox-toggle {
  background-color: var(--interactive-accent);
}

.systemsculpt-checkbox-container.systemsculpt-is-enabled .systemsculpt-checkbox-toggle:before {
  transform: translateX(20px);
}

.systemsculpt-checkbox-container.systemsculpt-testing .systemsculpt-checkbox-toggle {
  background-color: var(--background-modifier-border);
  opacity: 0.7;
  cursor: wait;
}

.systemsculpt-checkbox-container.systemsculpt-testing .systemsculpt-checkbox-toggle:before {
  animation: bounce 1s infinite;
}

.systemsculpt-progress-bar-container {
  width: 100%;
  height: 8px;
  background: var(--background-modifier-border);
  border-radius: var(--radius-s);
  overflow: hidden;
  margin: var(--size-4-2) 0;
  position: relative;
}

.systemsculpt-progress-bar-container {
  width: 100%;
  height: 8px;
  background: var(--background-modifier-border);
  border-radius: 4px;
  margin: 16px 0;
  overflow: hidden;
  position: relative;
}

.systemsculpt-chat-container.systemsculpt-drag-active
  .systemsculpt-drag-overlay {
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-messages-container {
  flex-grow: 1;
  overflow-y: auto;
  padding: 0.75rem 0.75rem 0.25rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.systemsculpt-model-icon-container {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--interactive-accent);
  border-radius: 6px;
  color: var(--text-on-accent);
}

.systemsculpt-model-icon-container svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-message-container {
  padding: 8px 0;
}

.systemsculpt-model-icon-container svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-bar-container {
  width: 100%;
  height: 8px;
  background: var(--background-modifier-border);
  border-radius: var(--radius-s);
  overflow: hidden;
  margin: var(--size-4-2) 0;
  position: relative;
}

.systemsculpt-checkbox-container.systemsculpt-testing .systemsculpt-checkbox-toggle {
  background-color: var(--background-modifier-border);
  opacity: 0.7;
  cursor: wait;
}

.systemsculpt-checkbox-container.systemsculpt-testing .systemsculpt-checkbox-toggle:before {
  animation: bounce 1s infinite;
}

.systemsculpt-context-action-container {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 8px;
}

.systemsculpt-content-container.systemsculpt-loading {
  opacity: 0.5;
  pointer-events: none;
}

.systemsculpt-custom-model-name-container {
  display: flex;
  align-items: center;
  width: 100%;
}

.systemsculpt-edit-button-container {
  display: flex;
  justify-content: flex-end;
  padding: 8px 12px;
  border-top: 1px solid var(--background-modifier-border);
}

.systemsculpt-scroll-container {
  flex: 1;
  min-height: 0;
  overflow-y: auto;
  padding: 0 8px;
}

.systemsculpt-license-container .systemsculpt-setting-item-control {
  display: flex;
  gap: 12px;
  align-items: center;
}

.systemsculpt-license-container .systemsculpt-setting-item-control input {
  flex: 1;
}

.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  gap: 1rem;
}

.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 32px;
  width: 100%;
  height: 100%;
  min-height: 200px;
}

.systemsculpt-stream-container {
  display: inline;
  white-space: pre-wrap;
  word-break: break-word;
}

.systemsculpt-stream-container > * {
  display: inline;
}

.systemsculpt-stream-container p {
  display: inline;
  margin: 0;
}

.systemsculpt-extension-container {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 16px;
  padding: 0 4px;
}

.systemsculpt-extension-container {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  padding: 8px;
  margin-bottom: 8px;
}

.systemsculpt-prompt-creation-container {
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
}

/* Removed - using unified collapsible drawer */

.systemsculpt-stream-container p {
  display: inline;
  margin: 0;
}

.systemsculpt-stream-container p {
  display: inline;
  margin: 0;
}

.systemsculpt-popup-container {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 1000;
  padding: 16px;
  animation: popup-fade-in 0.2s ease-out;
}

.systemsculpt-popup-container.systemsculpt-popup-closing {
  animation: popup-fade-out 0.2s ease-out forwards;
}

.systemsculpt-popup-container.systemsculpt-popup-closing .systemsculpt-popup {
  animation: popup-slide-down 0.2s ease-out forwards;
}

.systemsculpt-textarea-container {
  position: relative;
  width: 100%;
  height: 300px;
  display: flex;
  flex-direction: column;
}

.systemsculpt-modal-button-container button.systemsculpt-mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-results-container {
  display: flex;
  flex-direction: column;
  width: 300px;
  min-width: 300px;
  overflow: hidden;
}

/* Removed - using unified collapsible drawer */

/* Reasoning container styles removed - using unified collapsible drawer */

/* Reasoning container styles removed - using unified collapsible drawer */
  transform: translateY(-4px);
  transition: all 0.2s ease;
}

.systemsculpt-custom-input-container {
  position: relative;
  width: 100%;
}


.systemsculpt-modal-button-container button:not(.systemsculpt-mod-cta) {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-modal-button-container button:hover {
  opacity: 0.9;
}

.systemsculpt-template-content-container,
.systemsculpt-note-preview {
  height: 120px;
}

.systemsculpt-template-content-container,
.systemsculpt-note-preview {
  height: 120px;
}

.systemsculpt-popup-container.systemsculpt-popup-closing .systemsculpt-popup {
  animation: popup-slide-down 0.2s ease-out forwards;
}

.systemsculpt-model-message-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.systemsculpt-preview-container {
  position: fixed;
  z-index: 1000;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  pointer-events: none;
  max-width: min(800px, 80vw);
  max-height: min(600px, 80vh);
  overflow: hidden;
}

.systemsculpt-stream-container > * {
  display: inline;
}

.systemsculpt-checkbox-container.systemsculpt-testing .systemsculpt-checkbox-toggle:before {
  animation: bounce 1s infinite;
}

.systemsculpt-popup-container.systemsculpt-popup-closing {
  animation: popup-fade-out 0.2s ease-out forwards;
}

.systemsculpt-popup-container.systemsculpt-popup-closing .systemsculpt-popup {
  animation: popup-slide-down 0.2s ease-out forwards;
}

.systemsculpt-template-content-container {
  height: 200px;
  position: relative;
  border-radius: 0;
  overflow: hidden;
  margin-bottom: 0;
}

.systemsculpt-template-content-container,
.systemsculpt-note-preview {
  height: 120px;
}

.systemsculpt-template-content-container,
.systemsculpt-note-preview {
  height: 120px;
}

.systemsculpt-chat-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: var(--background-primary);
  position: relative;
}

.systemsculpt-chat-container {
  position: relative;
}

.systemsculpt-chat-container.systemsculpt-drag-active
  .systemsculpt-drag-overlay {
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-model-selection-container {
  padding: 12px;
}

.systemsculpt-preset-button-container {
  display: flex;
  gap: 8px;
  margin-bottom: 12px;
  flex-shrink: 0;
  justify-content: center;
}

.systemsculpt-license-container .systemsculpt-setting-item-control input {
  flex: 1;
}

.systemsculpt-notice-container {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
}

.ss-button-container {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 20px;
}

.systemsculpt-sections-container {
  display: flex;
  flex-direction: column;
  gap: 16px;
  width: 100%;
}

.systemsculpt-split-container {
  display: flex;
  gap: 16px;
  flex: 1;
  min-height: 0;
  overflow: hidden;
}


.systemsculpt-content-container {
  opacity: 1;
  transition: opacity 0.2s ease;
}

.systemsculpt-content-container.systemsculpt-loading {
  opacity: 0.5;
  pointer-events: none;
}

.systemsculpt-modal-button-container button {
  padding: var(--size-4-1) var(--size-4-3);
  border-radius: var(--radius-s);
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
  transition: all 0.15s ease-in-out;
}

.systemsculpt-modal-button-container button.systemsculpt-mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-modal-button-container button:hover {
  opacity: 0.9;
}

.systemsculpt-modal-button-container button:not(.systemsculpt-mod-cta) {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-chat-sections-container {
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
}

.systemsculpt-model-name-container {
  margin: 0;
  display: flex;
  align-items: center;
  gap: 0px;
  padding: 1px 0;
}

.systemsculpt-model-name-container {
  flex: 1;
  min-width: 0;
}

.systemsculpt-modal-button-container {
  display: flex;
  justify-content: flex-end;
  gap: var(--size-4-2);
  margin-top: var(--size-4-4);
}

.systemsculpt-modal-button-container button {
  padding: var(--size-4-1) var(--size-4-3);
  border-radius: var(--radius-s);
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
  transition: all 0.15s ease-in-out;
}

.systemsculpt-modal-button-container button.systemsculpt-mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-modal-button-container button:hover {
  opacity: 0.9;
}

.systemsculpt-modal-button-container button:not(.systemsculpt-mod-cta) {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-preview-pdf-container {
  width: 100%;
  height: 70vh;
  background: var(--background-secondary);
  border-radius: 8px;
  overflow: hidden;
}

.systemsculpt-settings-info-container {
  width: 100%;
  max-width: min(800px, 95%);
  margin: 0 auto 16px;
  text-align: center;
  font-size: 0.9em;
  color: var(--text-muted);
  padding: 0 8px;
}

.systemsculpt-settings-link {
  color: var(--text-accent);
  cursor: pointer;
  text-decoration: underline;
}

.systemsculpt-settings-link:hover {
  color: var(--interactive-accent);
}



/* grid.css */
/**
 * Grid Components
 * 
 * Styles for grid layouts and content organization
 */

.systemsculpt-context-grid {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 8px 0;
  overflow-y: auto;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  min-height: 0;
}

.systemsculpt-context-grid::-webkit-scrollbar {
  width: 8px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 4px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-grid::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 4px;
}

.systemsculpt-preview-frontmatter-grid {
  display: grid;
  gap: 4px;
}

.systemsculpt-utility-button-grid {
  display: flex;
  gap: 8px;
  width: 100%;
  justify-content: center;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-chat-grid {
  display: flex;
  flex-direction: column;
  gap: 8px;
  overflow-y: auto;
  flex: 1;
  min-height: 0;
  width: 100%;
  padding: 4px;
}

.systemsculpt-chat-grid::-webkit-scrollbar {
  width: 6px;
}

.systemsculpt-chat-grid::-webkit-scrollbar-thumb {
  background: var(--background-modifier-border);
  border-radius: 3px;
}

.systemsculpt-chat-grid::-webkit-scrollbar-thumb:hover {
  background: var(--background-modifier-border-hover);
}

.systemsculpt-chat-grid::-webkit-scrollbar-track {
  background: transparent;
}

.systemsculpt-chat-grid::-webkit-scrollbar-thumb:hover {
  background: var(--background-modifier-border-hover);
}

.systemsculpt-button-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 6px; /* Slightly smaller gap for native buttons */
  align-items: center;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 4px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-grid::-webkit-scrollbar {
  width: 8px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 4px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-grid::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 4px;
}

.systemsculpt-chat-grid::-webkit-scrollbar-track {
  background: transparent;
}

.systemsculpt-pro-promotion .systemsculpt-features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 8px;
  margin-bottom: 16px;
}

.systemsculpt-model-grid {
  display: block;
  width: 100%;
}

.systemsculpt-model-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 12px;
  overflow-y: scroll;
  padding-right: 8px;
  width: 100%;
  box-sizing: border-box;
}

.systemsculpt-model-grid {
  flex-grow: 1;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(min(100%, 300px), 1fr));
  gap: clamp(8px, 1.5vw, 12px);
  overflow-y: auto;
  padding: 0 4px 8px 0;
  width: 100%;
  min-height: 0;
  margin: 0 auto;
  max-width: 100%;
  align-items: start;
  align-content: start;
}

.systemsculpt-context-grid::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 4px;
}

.systemsculpt-chat-grid::-webkit-scrollbar {
  width: 6px;
}

.systemsculpt-chat-grid::-webkit-scrollbar-thumb {
  background: var(--background-modifier-border);
  border-radius: 3px;
}

.systemsculpt-chat-grid::-webkit-scrollbar-thumb:hover {
  background: var(--background-modifier-border-hover);
}

.systemsculpt-chat-grid::-webkit-scrollbar-track {
  background: transparent;
}



/* drawer.css */
/**
 * Drawer Components
 *
 * Styles for side drawers, panels, and slide-out menus
 */

.systemsculpt-drawer {
  width: 100%;
  position: relative;
}

/* Use model indicator styles for drawer header */
.systemsculpt-drawer-header.systemsculpt-model-indicator {
  width: 100%;
  height: auto;
  min-height: 35px;
}

/* Temporary highlight animation when files are added/removed */
@keyframes systemsculpt-file-change-flash {
  0% {
    background-color: var(--interactive-accent);
    color: var(--text-on-accent);
    border-color: var(--interactive-accent);
  }
  100% {
    background-color: var(--background-modifier-form-field);
    color: var(--text-normal);
    border-color: var(--background-modifier-border);
  }
}

/* Class for temporary flash animation */
.systemsculpt-drawer-header.systemsculpt-model-indicator.files-changed {
  animation: systemsculpt-file-change-flash 2s ease-out forwards;
}

/* Ensure child elements inherit correct colors during animation */
.systemsculpt-drawer-header.systemsculpt-model-indicator.files-changed .systemsculpt-model-indicator-icon,
.systemsculpt-drawer-header.systemsculpt-model-indicator.files-changed .systemsculpt-drawer-title,
.systemsculpt-drawer-header.systemsculpt-model-indicator.files-changed .systemsculpt-model-indicator-arrow,
.systemsculpt-drawer-header.systemsculpt-model-indicator.files-changed .systemsculpt-drawer-count,
.systemsculpt-drawer-header.systemsculpt-model-indicator.files-changed .systemsculpt-sync-status {
  animation: systemsculpt-file-change-text-flash 2s ease-out forwards;
}

@keyframes systemsculpt-file-change-text-flash {
  0% {
    color: var(--text-on-accent);
  }
  100% {
    color: var(--text-normal);
  }
}

/* Override arrow styles for drawer */
.systemsculpt-drawer-toggle.systemsculpt-model-indicator-arrow {
  transition: transform 0.15s ease;
}

.systemsculpt-drawer-toggle.systemsculpt-model-indicator-arrow svg {
  transform: rotate(0deg);
  transition: transform 0.15s ease;
}

/* When drawer is open, rotate the arrow */
.systemsculpt-drawer[data-visible="true"] .systemsculpt-drawer-toggle.systemsculpt-model-indicator-arrow svg {
  transform: rotate(180deg);
}

.systemsculpt-drawer-category {
  font-size: 12px;
  font-weight: 500;
  color: var(--text-muted);
  padding: 8px 4px 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-top: 8px;
}

.systemsculpt-drawer-category:first-child {
  margin-top: 0;
}

.systemsculpt-drawer-buttons-container {
  display: flex;
  gap: 8px;
  padding: 8px 0;
  margin-bottom: 8px;
  border-bottom: 1px solid var(--background-modifier-border);
  justify-content: center;
}

.systemsculpt-add-context-button {
  background-color: var(--background-modifier-form-field);
  color: var(--text-normal);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 6px 12px;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.15s ease;
  flex: 1;
}

.systemsculpt-add-context-button:hover {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

.systemsculpt-clear-all-button {
  background-color: var(--background-modifier-form-field);
  color: var(--text-normal);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 6px 12px;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.15s ease;
  flex: 1;
}

.systemsculpt-clear-all-button:hover {
  background-color: var(--background-modifier-error);
  color: var(--text-on-accent);
  border-color: var(--background-modifier-error);
}

.systemsculpt-drawer-content {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  right: 0;
  padding: 8px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  max-height: min(calc(100vh - 300px), 600px);
  overflow-y: auto;
  opacity: 0;
  transform: translateY(-8px);
  pointer-events: none;
  transition: opacity 0.15s ease, transform 0.15s ease;
  z-index: 100;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  backdrop-filter: none;
}

.systemsculpt-drawer-content::before {
  content: "";
  position: absolute;
  top: -25px;
  left: 0;
  right: 0;
  height: 25px;
  pointer-events: none;
}

.systemsculpt-drawer-content[style*="opacity: 1"] {
  transform: translateY(0);
}

.systemsculpt-drawer-count {
  font-size: 14px;
  color: var(--text-muted);
  background: var(--background-modifier-border);
  padding: 2px 8px;
  border-radius: 8px;
}

.systemsculpt-drawer-empty {
  color: var(--text-muted);
  font-size: 13px;
  text-align: center;
  padding: 12px;
  font-style: italic;
}

.systemsculpt-drawer-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px;
  border-radius: 6px;
  cursor: pointer;
  color: var(--text-normal);
  transition: all 0.15s ease;
  font-size: 13px;
  background: var(--background-primary);
  margin-bottom: 8px;
  min-height: 44px;
  gap: 8px;
}

.systemsculpt-drawer-item:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-drawer-item-danger {
  color: var(--text-error);
}

.systemsculpt-drawer-item-danger:hover {
  background-color: var(--text-error);
  color: var(--text-on-accent);
}

.systemsculpt-drawer-item-path {
  display: flex;
  align-items: center;
  gap: 8px;
  flex: 1;
  min-width: 0;
  overflow: hidden;
}

.systemsculpt-drawer-item-path a {
  color: var(--text-normal);
  text-decoration: none;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  min-width: 0;
}

.systemsculpt-drawer-item-path a:hover {
  color: var(--text-accent);
  text-decoration: underline;
}

.systemsculpt-drawer-item-remove {
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  color: var(--text-muted);
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  width: 32px;
  height: 32px;
  flex-shrink: 0;
  opacity: 1;
  transition: all 0.2s ease;
}

.systemsculpt-drawer-item-remove:hover {
  color: var(--text-error);
  background: var(--background-modifier-error);
}

.systemsculpt-drawer-item:hover .systemsculpt-drawer-item-remove {
  opacity: 1;
}

.systemsculpt-drawer-separator {
  height: 1px;
  background-color: var(--background-modifier-border);
  margin: 4px 0;
  opacity: 0.6;
}

.systemsculpt-drawer-title {
  flex: 1;
  font-size: inherit; /* Changed from 14px to inherit font size from messages container */
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 0;
  color: var(--text-normal);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* REMOVED - This pseudo-element was causing hover issues by extending 40px below drawers */

.systemsculpt-drawer-open {
  overflow: hidden;
  position: fixed;
  width: 100%;
}

/**
 * Shared Drawer Mechanics
 * 
 * Common collapse/expand behavior for drawers - styling stays in component files
 */

/* REMOVED - Duplicate header styles moved to main collapsible drawer section */

/* REMOVED - Duplicate rule with problematic max-height that breaks grid animation 
   The correct rule is at line 570 with proper grid support */

/* REMOVED - Duplicate rule moved to line 582 */

.systemsculpt-drawer-footer {
  /* Styles for the drawer footer if needed */
}

/* The following .systemsculpt-collapsible-drawer related styles have been removed 
   as they are consolidated in client/src/css/components/collapsible-drawer.css */

/*
.systemsculpt-collapsible-header {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 8px;
  background-color: var(--background-secondary);
}

.systemsculpt-collapsible-header:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-collapsible-header::after {
  content: '▼';
  margin-left: auto;
  transition: transform 0.2s ease-out;
}

.systemsculpt-collapsed .systemsculpt-collapsible-header::after {
  transform: rotate(-90deg);
}

.systemsculpt-collapsible-header:hover::after {
  color: var(--text-accent);
}

/* REMOVED - Old max-height based animation, replaced with grid at line 557 */

/* REMOVED - Duplicate rule with problematic max-height: 0 */
*/


/* ========================================================================== */
/* == Collapsible Drawer Component Styles                                  == */
/* == (Originally from components/collapsible-drawer.css)                == */
/* ========================================================================== */

/**
 * Collapsible Drawer Component Styles
 * 
 * Base styles for all collapsible drawers (reasoning, tool calls, etc.)
 * Provides consistent collapse/expand behavior and visual styling
 */

/* Base container styles - SINGLE DEFINITION FOR ALL DRAWER CONTAINERS */
.systemsculpt-collapsible-drawer {
  /* Layout and positioning */
  margin: 4px 0;
  padding: 4px;
  border-radius: 6px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  overflow: visible; /* Keep visible for grid animation */
  max-width: 100%;
  box-sizing: border-box;
  min-height: auto;
  position: relative;
  /* Ensure proper stacking context and hover detection */
  z-index: 1;
  pointer-events: auto !important;
  will-change: transform, border-color;
  /* contain: layout removed - might interfere with grid */
  
  /* Animation entrance state */
  opacity: 1;
  transform: translateY(0);
  
  /* Grid-based collapse/expand animation - CRITICAL FOR ANIMATION */
  display: grid !important;
  grid-template-rows: auto 0fr !important;
  
  /* Unified transitions with consistent timing */
  transition: all 0.2s ease-in-out !important;
}

/* ========================================================================== */
/* == Message Group Drawer Styling (Clean border-only design)             == */
/* ========================================================================== */

/* Subtle but clear drawer styling within message groups */
.systemsculpt-assistant-message-group .systemsculpt-collapsible-drawer {
  margin: 8px 0 !important; /* Consistent spacing with unified parts */
  background: transparent !important;
  border: 1px dashed var(--background-modifier-border) !important;
  border-radius: 4px !important;
  /* Inherit transition from parent to avoid conflicts */
  position: relative !important;
  /* Ensure each drawer creates its own stacking context */
  isolation: isolate !important;
}

/* Reasoning drawers - subtle left accent */
.systemsculpt-assistant-message-group .systemsculpt-reasoning-wrapper .systemsculpt-collapsible-drawer {
  border-left: 2px solid var(--text-accent) !important;
  background: rgba(139, 69, 19, 0.03) !important;
}

/* Tool call drawers - subtle left accent */
.systemsculpt-assistant-message-group .systemsculpt-tool-call-wrapper .systemsculpt-collapsible-drawer {
  border-left: 2px solid var(--interactive-accent) !important;
  background: rgba(139, 69, 19, 0.03) !important;
}

/* Hover glow effects to indicate interactivity - border glow removed */
.systemsculpt-assistant-message-group .systemsculpt-collapsible-drawer:hover {
  /* border-color: rgba(var(--background-modifier-border-rgb), 0.9); */
  /* box-shadow: 0 0 0 1px rgba(var(--background-modifier-border-rgb), 0.3); */
}

.systemsculpt-assistant-message-group .systemsculpt-reasoning-wrapper .systemsculpt-collapsible-drawer:hover {
  /* border-color: rgba(var(--text-accent-rgb), 0.8); */
  /* box-shadow: 0 0 0 1px rgba(var(--text-accent-rgb), 0.2); */
}

.systemsculpt-assistant-message-group .systemsculpt-tool-call-wrapper .systemsculpt-collapsible-drawer:hover {
  /* border-color: rgba(var(--interactive-accent-rgb), 0.8); */
  /* box-shadow: 0 0 0 1px rgba(var(--interactive-accent-rgb), 0.2); */
}

/* Collapsed state for container - FORCE COLLAPSE STATE */
.systemsculpt-collapsible-drawer.systemsculpt-collapsed {
  /* Grid collapses the second row to 0fr - FORCE WITH !important */
  grid-template-rows: auto 0fr !important;
  /* Container should only show header when collapsed */
  padding-bottom: 4px; /* Maintain consistent padding */
}

/* Header styles - clickable area */
.systemsculpt-collapsible-header {
  grid-row: 1;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  user-select: none;
  font-weight: 500;
  color: var(--text-muted);
  transition: color 0.2s ease, background-color 0.2s ease;
  position: relative;
  /* Enhanced clickable area with proper event handling */
  width: 100%;
  padding: 8px; /* Normal padding without negative margins */
  margin: 0; /* No negative margins that might overlap */
  border-radius: 6px;
  background-color: transparent;
  pointer-events: auto !important;
  z-index: 10; /* Ensure header is above content */
  /* Force header to capture all events in its area */
  isolation: isolate;
}

.systemsculpt-collapsible-header:hover {
  color: var(--text-normal);
  /* Subtle background on hover for visual feedback */
  background-color: rgba(var(--background-modifier-hover-rgb), 0.3);
}

/* Icon styles */
.systemsculpt-collapsible-icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
  color: var(--text-accent);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s ease, color 0.2s ease;
}

.systemsculpt-collapsible-icon svg {
  width: 16px;
  height: 16px;
}

/* Title styles */
.systemsculpt-collapsible-title {
  font-weight: 600;
  font-size: inherit; /* Changed from 14px to inherit font size from messages container */
  color: var(--text-normal);
  flex: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}

/* Arrow indicator - shared for all collapsible drawers */
.systemsculpt-collapsible-header::after {
  content: "▼";
  font-size: 10px;
  margin-left: auto;
  transition: transform 0.3s ease-in-out;
  color: var(--text-muted);
}

.systemsculpt-collapsed .systemsculpt-collapsible-header::after {
  transform: rotate(-90deg);
}

.systemsculpt-collapsible-header:hover::after {
  color: var(--text-accent);
}

/* ========================================================================== */
/* == Hover and Expanded State Effects                                     == */
/* ========================================================================== */

/* Hover state for drawer - border glow removed */
.systemsculpt-collapsible-drawer:hover {
  /* border-color: var(--text-muted); */
  background-color: var(--background-secondary-alt);
  /* Bring to front on hover with isolation */
  z-index: 10 !important; /* Higher z-index to ensure it's on top */
  isolation: isolate;
  position: relative !important; /* Ensure z-index works */
}

/* Expanded state visual indicator - FORCE EXPAND STATE - border glow removed */
.systemsculpt-collapsible-drawer:not(.systemsculpt-collapsed) {
  grid-template-rows: auto 1fr !important;
  border-color: var(--interactive-accent);
  /* box-shadow: 0 0 0 1px rgba(var(--interactive-accent-rgb), 0.1); */
}

/* Header hover state when drawer is collapsed */
.systemsculpt-collapsed .systemsculpt-collapsible-header:hover {
  color: var(--interactive-accent);
}

/* Icon animation on hover when collapsed */
.systemsculpt-collapsed .systemsculpt-collapsible-header:hover .systemsculpt-collapsible-icon {
  transform: scale(1.1);
}

/* Icon color when expanded */
.systemsculpt-collapsible-drawer:not(.systemsculpt-collapsed) .systemsculpt-collapsible-icon {
  color: var(--interactive-accent);
}

/* Arrow color when expanded */
.systemsculpt-collapsible-drawer:not(.systemsculpt-collapsed) .systemsculpt-collapsible-header::after {
  color: var(--interactive-accent);
}

/* Content wrapper styles - SINGLE DEFINITION FOR ALL DRAWER CONTENT */
.systemsculpt-collapsible-content {
  /* Grid positioning - makes this the second row of the grid container */
  grid-row: 2;
  
  /* Critical properties for grid animation */
  overflow: hidden;
  min-height: 0;
  
  /* Spacing and visibility when expanded */
  padding-top: 4px;
  margin-top: 8px;
  opacity: 1;
  visibility: visible;
  
  /* Smooth fade transition */
  transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Collapsed content - fade out during collapse and REMOVE ALL SPACING */
.systemsculpt-collapsed .systemsculpt-collapsible-content {
  opacity: 0;
  visibility: hidden;
  margin: 0 !important;
  padding: 0 !important;
  min-height: 0 !important;
  max-height: 0 !important;
  overflow: hidden !important;
  transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1), visibility 0s 0.25s;
}

/* Utility classes for specific drawer types to customize */
.systemsculpt-collapsible-drawer.with-status-indicator .systemsculpt-collapsible-header {
  /* Allow space for status indicators */
}

.systemsculpt-collapsible-drawer.error-state {
  border-color: var(--text-error);
  background-color: rgba(var(--background-modifier-error-rgb), 0.1);
}

.systemsculpt-collapsible-drawer.success-state {
  border-color: var(--text-success);
  background-color: rgba(var(--background-modifier-success-rgb), 0.1);
}

/* REMOVED - Merged into main definition at line 373 */

/* Unified part styling for message chronological display */
.systemsculpt-unified-part.systemsculpt-collapsible-drawer {
  /* Specific styles for unified message parts */
}

/* Wrapper elements for proper DOM insertion */
.systemsculpt-reasoning-wrapper,
.systemsculpt-tool-call-wrapper {
  /* Critical fix: Use grid to contain children without blocking events */
  display: block;
  position: static;
  /* Ensure wrapper takes no space and doesn't interfere */
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  background: transparent !important;
  width: 100% !important;
  /* Keep pointer events active for interactions */
  pointer-events: auto !important;
  /* Prevent any overflow that might block adjacent elements */
  overflow: visible !important;
}

/* Ensure drawer children have proper positioning and stacking context */
.systemsculpt-reasoning-wrapper > .systemsculpt-collapsible-drawer,
.systemsculpt-tool-call-wrapper > .systemsculpt-collapsible-drawer {
  position: relative !important;
  isolation: isolate !important;
}

/* Content part containerization - more differentiated for LLM response text */
.systemsculpt-content-part {
  margin: 4px 0;
  padding: 12px 16px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  line-height: 1.6;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* Content parts within message groups - distinct but harmonious */
.systemsculpt-assistant-message-group .systemsculpt-content-part {
  background: var(--background-secondary) !important;
  border: 1px solid var(--background-modifier-border) !important;
  margin: 8px 0 !important;
  padding: 12px 16px !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08) !important;
}

/* ========================================================================== */
/* == Unified Content Styles (shared by reasoning, tool calls, etc.)       == */
/* ========================================================================== */

/* Base content container - shared by all drawer content types */
.systemsculpt-drawer-content-container {
  padding: 4px 6px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  overflow-x: auto;
  user-select: text !important;
  -webkit-user-select: text !important;
}

/* Base text content - shared text styling */
.systemsculpt-drawer-content-text {
  font-size: 11px;
  line-height: 1.4;
  color: var(--text-normal);
  white-space: pre-wrap;
  word-break: break-word;
  user-select: text !important;
  -webkit-user-select: text !important;
}

/* Monospace variant for code-like content */
.systemsculpt-drawer-content-text.monospace {
  font-family: var(--font-monospace);
  color: var(--text-muted);
}

/* ========================================================================== */
/* == Specific Content Type Styling (minimal overrides)                    == */
/* ========================================================================== */

/* Reasoning content – keep typography identical to normal Markdown */
.systemsculpt-reasoning-text {
  font-family: var(--font-text);
  font-size: var(--font-ui-medium);
  line-height: 1.5;
  color: var(--text-normal);
  white-space: normal;
  user-select: text !important;
  -webkit-user-select: text !important;
}

/* Guard against legacy "monospace" class still lingering */
.systemsculpt-reasoning-text.monospace {
  font-family: var(--font-text);
  color: var(--text-normal);
}

/* Tool response content - uses base styles */
.systemsculpt-tool-response-body {
  /* Inherits from .systemsculpt-drawer-content-container and .systemsculpt-drawer-content-text */
  user-select: text !important;
  -webkit-user-select: text !important;
}

.systemsculpt-tool-response-body pre {
  background: var(--background-secondary);
  padding: 6px;
  border-radius: 4px;
  overflow-x: auto;
  margin: 4px 0;
}

.systemsculpt-tool-response-body code {
  background: var(--background-secondary);
  padding: 2px 4px;
  border-radius: 3px;
  font-size: 0.9em;
}

/* ========================================================================== */
/* == Tool Call Content Styles (content inside drawers)                    == */
/* ========================================================================== */

/* Tool Call Status Indicators */
.systemsculpt-tool-call-status-indicator {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  flex-shrink: 0;
}

.systemsculpt-tool-call-status-indicator svg {
  width: 14px;
  height: 14px;
}

.systemsculpt-tool-call-status-indicator.completed {
  color: var(--text-success);
}

.systemsculpt-tool-call-status-indicator.denied {
  color: var(--text-error);
}

.systemsculpt-tool-call-status-indicator.executing {
  color: var(--text-warning);
}

.systemsculpt-tool-call-status-indicator.pending {
  color: var(--text-muted);
}

.systemsculpt-tool-call-status-indicator.error {
  color: var(--text-error);
}

@keyframes systemsculpt-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.systemsculpt-tool-call-status-indicator svg.systemsculpt-spinning {
  animation: systemsculpt-spin 1s linear infinite;
}

/* Open File Button */
.systemsculpt-tool-call-open-file-btn {
  padding: 4px 8px !important;
  font-size: 11px !important;
  height: 24px !important;
  line-height: 1 !important;
  border-radius: 3px !important;
  background: var(--background-modifier-form-field) !important;
  color: var(--text-muted) !important;
  border: 1px solid var(--background-modifier-border) !important;
  margin-left: 8px !important;
  flex-shrink: 0 !important;
  transition: all 0.15s ease !important;
}

.systemsculpt-tool-call-open-file-btn:hover {
  background: var(--interactive-accent) !important;
  color: var(--text-on-accent) !important;
  border-color: var(--interactive-accent) !important;
}

.systemsculpt-tool-call-open-file-btn:active {
  transform: translateY(1px) !important;
}

/* Dark theme adjustments */
.theme-dark .systemsculpt-tool-call-open-file-btn {
  background: rgba(255, 255, 255, 0.05) !important;
  border-color: rgba(255, 255, 255, 0.15) !important;
}

.theme-dark .systemsculpt-tool-call-open-file-btn:hover {
  background: var(--interactive-accent) !important;
  border-color: var(--interactive-accent) !important;
}

/* Light theme adjustments */
.theme-light .systemsculpt-tool-call-open-file-btn {
  background: rgba(0, 0, 0, 0.03) !important;
  border-color: rgba(0, 0, 0, 0.15) !important;
}

.theme-light .systemsculpt-tool-call-open-file-btn:hover {
  background: var(--interactive-accent) !important;
  border-color: var(--interactive-accent) !important;
}

/* Tool Call Content Styles */
.systemsculpt-tool-call-content {
  /* Inherits from .systemsculpt-drawer-content-container */
  user-select: text !important;
  -webkit-user-select: text !important;
}

/* Tool Call Summary */
.systemsculpt-tool-call-summary {
  font-family: var(--font-monospace);
  font-size: 11px;
  color: var(--text-muted);
  background: var(--background-secondary);
  padding: 4px 8px;
  border-radius: 4px;
  margin-bottom: 8px;
  white-space: pre-wrap;
  line-height: 1.4;
  border: 1px solid var(--background-modifier-border);
}

/* Collapsible Details Toggle */
.systemsculpt-tool-call-details-toggle {
  font-size: 11px;
  color: var(--text-accent);
  cursor: pointer;
  padding: 2px 0;
  margin: 4px 0 2px 0;
  user-select: none;
  transition: color 0.2s ease;
  text-decoration: underline;
  text-decoration-style: dotted;
}

.systemsculpt-tool-call-details-toggle:hover {
  color: var(--text-accent-hover);
  text-decoration-style: solid;
}

/* Collapsible Details Container */
.systemsculpt-tool-call-details-container {
  max-height: 200px;
  overflow: hidden;
  transition: all 0.3s ease;
  opacity: 1;
}

.systemsculpt-tool-call-details-container.systemsculpt-collapsed {
  /* Use transform instead of max-height for smoother animation */
  max-height: 0;
  opacity: 0;
  margin: 0;
}

.systemsculpt-tool-call-details {
  padding: 4px 0;
}

.systemsculpt-tool-call-args {
  margin: 8px 0;
  padding: 8px;
  background: var(--background-primary);
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-tool-call-args-label {
  font-weight: 500;
  color: var(--text-muted);
  font-size: 12px;
  margin-bottom: 3px;
}

.systemsculpt-tool-call-args-content {
  /* Container for arguments */
}

.systemsculpt-tool-call-arg {
  font-size: 11px;
  margin-bottom: 3px;
  display: flex;
  gap: 6px;
  align-items: flex-start;
}

.systemsculpt-tool-call-arg:last-child {
  margin-bottom: 0;
}

.systemsculpt-tool-call-arg-key {
  color: var(--text-muted);
  font-weight: 500;
  min-width: 80px;
  flex-shrink: 0;
}

.systemsculpt-tool-call-arg-key::after {
  content: ":";
}

.systemsculpt-tool-call-arg-value {
  color: var(--text-normal);
  font-family: var(--font-monospace);
  background: transparent;
  padding: 1px 0;
  border-radius: 3px;
  word-break: break-word;
  flex: 1;
}

/* Tool Response Section (matching arguments styling) */
.systemsculpt-tool-call-response {
  margin: 8px 0 !important;
  padding: 8px !important;
  background: var(--background-primary) !important;
  border-radius: 4px !important;
  border: 1px solid var(--background-modifier-border) !important;
}

.systemsculpt-tool-call-response-label {
  font-weight: 500;
  color: var(--text-muted);
  font-size: 12px;
  margin-bottom: 3px;
}

.systemsculpt-tool-call-response-content {
  /* Uniform height for all tool call results */
  height: 150px !important;
  overflow-y: auto !important;
  overflow-x: auto !important;
  font-size: 11px !important;
  line-height: 1.4 !important;
  font-family: var(--font-monospace) !important;
  color: var(--text-normal) !important;
  padding: 0 !important; /* Override base container padding */
}

.systemsculpt-tool-response-json {
  background: var(--background-secondary);
  padding: 4px;
  border-radius: 4px;
  overflow-x: auto;
  margin: 0;
  font-family: var(--font-monospace);
  font-size: 11px;
  line-height: 1.3;
  color: var(--text-normal);
}

.systemsculpt-tool-response-text {
  /* Uses base .systemsculpt-drawer-content-text styles */
  user-select: text !important;
  -webkit-user-select: text !important;
}

.systemsculpt-tool-response-error {
  border-color: var(--text-error);
  background: rgba(var(--background-modifier-error-rgb), 0.1);
}

.systemsculpt-tool-response-error-json {
  background: rgba(var(--background-modifier-error-rgb), 0.2);
  color: var(--text-error);
  padding: 4px;
  border-radius: 4px;
  overflow-x: auto;
  margin: 0;
  font-family: var(--font-monospace);
  font-size: 11px;
  line-height: 1.3;
}

/* Loading state for tool responses */
.systemsculpt-tool-response-executing {
  opacity: 0.8;
}

.systemsculpt-tool-response-loading {
  color: var(--text-muted);
  font-style: italic;
  padding: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* State-specific styling (opacity only, no border colors) */
.systemsculpt-tool-call-denied {
  opacity: 1;
}

.systemsculpt-tool-call-executing {
  opacity: 1;
}

/* Tool Call Actions (Approval/Denial buttons) */
.systemsculpt-tool-call-actions {
  display: flex;
  gap: 8px;
  margin-top: 12px;
}

.systemsculpt-tool-call-approve,
.systemsculpt-tool-call-deny {
  flex: 1;
  padding: 8px 16px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  font-size: 13px;
  font-weight: 500;
  transition: all 0.15s ease;
}

.systemsculpt-tool-call-approve:hover {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

.systemsculpt-tool-call-deny:hover {
  background: var(--background-modifier-error);
  color: var(--text-on-accent);
  border-color: var(--background-modifier-error);
}

.systemsculpt-tool-call-view-file {
  flex: 1;
  padding: 8px 16px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  font-size: 13px;
  font-weight: 500;
  transition: all 0.15s ease;
  color: var(--text-normal);
}

.systemsculpt-tool-call-view-file:hover {
  background: var(--background-modifier-hover);
  border-color: var(--interactive-accent);
  color: var(--interactive-accent);
}

.systemsculpt-tool-call-view-file:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.theme-dark .systemsculpt-tool-call-view-file {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.15);
}

.theme-dark .systemsculpt-tool-call-view-file:hover {
  background: rgba(255, 255, 255, 0.1);
}

.theme-light .systemsculpt-tool-call-view-file {
  background: rgba(0, 0, 0, 0.03);
  border-color: rgba(0, 0, 0, 0.15);
}

.theme-light .systemsculpt-tool-call-view-file:hover {
  background: rgba(0, 0, 0, 0.05);
}

.systemsculpt-tool-call-status {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  font-weight: 500;
}

.systemsculpt-tool-call-status.completed {
  color: var(--text-success);
}

.systemsculpt-tool-call-status.denied {
  color: var(--text-error);
}

.tool-call-auto-executed {
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-normal);
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 0.9em;
  margin: 4px 0;
}

/* Simple Tool Call Approval Interface */
.systemsculpt-tool-call-approval-card {
  background: var(--background-modifier-form-field);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 12px;
  margin: 8px 0;
  font-family: var(--font-interface);
}

.systemsculpt-tool-call-approval-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
}

.systemsculpt-tool-call-approval-title {
  font-weight: 500;
  font-size: 14px;
  color: var(--text-normal);
}

.systemsculpt-tool-call-approval-summary-text {
  font-size: 13px;
  color: var(--text-muted);
  margin-bottom: 12px;
  white-space: pre-wrap;
  line-height: 1.5;
  font-family: var(--font-monospace);
  background: var(--background-secondary);
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-tool-call-approval-actions {
  display: flex;
  gap: 8px;
}

.systemsculpt-tool-call-approval-button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 6px 12px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s ease;
  background: var(--background-primary);
  color: var(--text-normal);
}

.systemsculpt-tool-call-approval-button:hover {
  background: var(--background-modifier-hover);
}

.systemsculpt-tool-call-approval-button-approve {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

.systemsculpt-tool-call-approval-button-approve:hover {
  background: var(--interactive-accent-hover);
}

.systemsculpt-tool-call-approval-button-deny:hover {
  background: var(--background-modifier-error);
  color: var(--text-on-accent);
  border-color: var(--background-modifier-error);
}

.systemsculpt-tool-call-approval-result {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 6px 12px;
  border-radius: 4px;
  font-size: 13px;
  font-weight: 500;
  text-align: center;
}

.systemsculpt-tool-call-approval-result.completed {
  background: var(--background-modifier-success);
  color: var(--text-on-accent);
}

.systemsculpt-tool-call-approval-result.denied {
  background: var(--background-modifier-error);
  color: var(--text-on-accent);
}

.systemsculpt-tool-call-approval-result.error {
  background: var(--background-modifier-error);
  color: var(--text-on-accent);
}

/* Tool Call Approval Container for Follow-up Calls */
.systemsculpt-tool-call-approval-container {
  margin: 8px 0;
  padding: 0;
  background: transparent;
  border: none;
  /* Ensure it's visible and on top */
  position: relative;
  z-index: 100;
  /* Ensure it doesn't interfere with other content */
  clear: both;
}

/* Arguments display within approval card */
.systemsculpt-tool-call-approval-card .systemsculpt-tool-call-args {
  margin: 12px 0;
}

.systemsculpt-tool-call-approval-card .systemsculpt-tool-call-args-content {
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border-hover);
}

.systemsculpt-tool-call-approval-card .systemsculpt-tool-call-details-toggle {
  margin-bottom: 12px;
}

/* ========================================================================== */
/* == Tool Call Result Display (legacy support)                            == */
/* ========================================================================== */

.systemsculpt-tool-call-result {
  margin: 8px 0 !important;
  padding: 8px !important;
  background: var(--background-primary) !important;
  border: 1px solid var(--background-modifier-border) !important;
  border-radius: 4px !important;
}

.systemsculpt-tool-call-result-header {
  font-weight: 500;
  font-size: 14px;
  color: var(--text-normal);
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  user-select: none;
}

.systemsculpt-tool-call-result-content {
  font-size: 11px !important;
  line-height: 1.4 !important;
  font-family: var(--font-monospace) !important;
  color: var(--text-normal) !important;
  background: transparent !important;
  border-radius: 0 !important;
  padding: 0 !important;
  height: 150px !important;
  overflow-y: auto !important;
  overflow-x: auto !important;
  white-space: pre-wrap !important;
  word-break: break-word !important;
}

.systemsculpt-tool-call-result-content pre {
  margin: 0 !important;
  background: none !important;
  border: none !important;
  padding: 0 !important;
  font-size: inherit !important;
  line-height: inherit !important;
  color: inherit !important;
  white-space: pre-wrap !important;
  word-break: break-word !important;
}

.systemsculpt-tool-call-result-content code {
  background: none !important;
  border: none !important;
  padding: 0 !important;
  font-size: inherit !important;
  color: inherit !important;
}

/* Enhanced tool result display */
.systemsculpt-tool-result-container {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  overflow: hidden;
}

.systemsculpt-tool-result-header {
  background: var(--background-secondary);
  padding: 8px 12px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-tool-result-title {
  margin: 0;
  font-size: 12px;
  font-weight: 600;
  color: var(--text-muted);
}

.systemsculpt-tool-result-content {
  padding: 12px;
  max-height: 300px;
  overflow-y: auto;
}

.systemsculpt-tool-result-summary {
  background: var(--background-modifier-form-field);
  padding: 6px 10px;
  border-radius: 4px;
  margin-bottom: 12px;
  font-size: 11px;
  color: var(--text-normal);
  font-weight: 500;
}

.systemsculpt-tool-result-listing {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.systemsculpt-tool-result-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 6px;
  border-radius: 3px;
  font-size: 11px;
  transition: background 0.15s ease;
}

.systemsculpt-tool-result-item:hover {
  background: var(--background-modifier-hover);
}

.systemsculpt-tool-result-item.directory {
  font-weight: 500;
}

.systemsculpt-tool-result-item .item-icon {
  flex-shrink: 0;
  width: 16px;
}

.systemsculpt-tool-result-item .item-name {
  flex: 1;
  font-family: var(--font-monospace);
  color: var(--text-normal);
}

.systemsculpt-tool-result-item .item-number {
  flex-shrink: 0;
  width: 20px;
  color: var(--text-muted);
  font-family: var(--font-monospace);
}

.systemsculpt-tool-result-item .item-content {
  flex: 1;
  font-family: var(--font-monospace);
  color: var(--text-normal);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.systemsculpt-tool-result-text,
.systemsculpt-tool-result-raw {
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 8px;
  font-family: var(--font-monospace);
  font-size: 11px;
  line-height: 1.4;
  color: var(--text-normal);
  white-space: pre-wrap;
  word-break: break-word;
  margin: 0;
  overflow-x: auto;
}

.systemsculpt-tool-result-json {
  margin-top: 8px;
}

.systemsculpt-tool-result-truncated {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 10px;
  background: var(--background-modifier-hover);
  border-radius: 4px;
  margin-top: 8px;
  font-size: 11px;
  color: var(--text-muted);
}

.systemsculpt-tool-result-expand-btn {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border: none;
  border-radius: 3px;
  padding: 2px 8px;
  font-size: 10px;
  cursor: pointer;
  transition: opacity 0.15s ease;
}

.systemsculpt-tool-result-expand-btn:hover {
  opacity: 0.8;
}

/* Legacy support - complete markdown rendering isolation for tool results */
.systemsculpt-tool-result-raw-container {
  font-size: 11px !important;
  line-height: 1.4 !important;
  font-family: var(--font-monospace) !important;
  color: var(--text-normal) !important;
  background: none !important;
  border: none !important;
  padding: 0 !important;
  margin: 0 !important;
  white-space: pre-wrap !important;
  word-break: break-word !important;
  /* Add height constraint for tool call results */
  max-height: 150px !important;
  overflow-y: auto !important;
}



/* Rolling window visual feedback and smooth animations */
.systemsculpt-collapsible-drawer.auto-collapsed .systemsculpt-collapsible-header {
  opacity: 0.7;
  transition: opacity 0.3s ease;
}

.systemsculpt-collapsible-drawer.auto-collapsed:hover .systemsculpt-collapsible-header {
  opacity: 1;
}

/* Smooth collapse animation for FIFO */
.systemsculpt-collapsible-drawer.auto-collapsing {
  transition: transform 0.25s cubic-bezier(0.4, 0, 1, 1), opacity 0.25s cubic-bezier(0.4, 0, 1, 1) !important;
  transform: scale(0.95);
  opacity: 0;
}

/* REMOVED - Merged into main definition at line 373 */

/* REMOVED - Empty rule, content styles consolidated at line 557 */

/* Override ALL possible markdown/syntax highlighting within raw container */
.systemsculpt-tool-result-raw-container *,
.systemsculpt-tool-result-raw-container pre,
.systemsculpt-tool-result-raw-container code,
.systemsculpt-tool-result-raw-container .token,
.systemsculpt-tool-result-raw-container .language-json,
.systemsculpt-tool-result-raw-container .hljs,
.systemsculpt-tool-result-raw-container .cm-editor,
.systemsculpt-tool-result-raw-container .cm-line {
  color: var(--text-normal) !important;
  background: none !important;
  border: none !important;
  padding: 0 !important;
  margin: 0 !important;
  font-size: 11px !important;
  line-height: 1.4 !important;
  font-family: var(--font-monospace) !important;
  font-weight: normal !important;
  text-decoration: none !important;
  box-shadow: none !important;
  border-radius: 0 !important;
}

/* Override heading styles for Result */
.systemsculpt-tool-call-result h4 {
  font-weight: 500 !important;
  color: var(--text-muted) !important;
  font-size: 12px !important;
  margin: 0 0 3px 0 !important;
  padding: 0 !important;
  background: none !important;
  border: none !important;
}

/* Collapsible result styling */
.systemsculpt-tool-call-result-collapsible {
  cursor: pointer;
  position: relative;
}

.systemsculpt-tool-call-result-collapsible.collapsed .systemsculpt-tool-call-result-full {
  display: none;
}

.systemsculpt-tool-call-result-collapsible:not(.collapsed) .systemsculpt-tool-call-result-preview {
  display: none;
}

.systemsculpt-tool-call-result-preview::after {
  content: " (click to expand)";
  color: var(--interactive-accent);
  font-size: 12px;
}

/* Ensure compatibility with new drawer design */
.systemsculpt-tool-call-result.systemsculpt-collapsed .systemsculpt-tool-call-result-content {
  /* Use grid-based animation instead of max-height */
  opacity: 0;
  padding: 0 8px;
}

/* Scrollbar styling for legacy result content */
.systemsculpt-tool-call-result-content::-webkit-scrollbar {
  width: 6px;
}

.systemsculpt-tool-call-result-content::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb-bg);
  border-radius: 3px;
}

.systemsculpt-tool-call-result-content::-webkit-scrollbar-track {
  background-color: var(--scrollbar-bg);
  border-radius: 3px;
}

/* ========================================================================== */
/* == Tool Call Drawer State Styling                                       == */
/* ========================================================================== */

/* State-based drawer styling */
.systemsculpt-tool-call-wrapper .systemsculpt-collapsible-drawer[data-state="pending"] {
  background-color: var(--background-modifier-form-field);
}

.systemsculpt-tool-call-wrapper .systemsculpt-collapsible-drawer[data-state="executing"] {
}

.systemsculpt-tool-call-wrapper .systemsculpt-collapsible-drawer[data-state="completed"] {
}

.systemsculpt-tool-call-wrapper .systemsculpt-collapsible-drawer[data-state="denied"] {
  opacity: 0.7;
}

.systemsculpt-tool-call-wrapper .systemsculpt-collapsible-drawer[data-state="error"],
.systemsculpt-tool-call-wrapper .systemsculpt-collapsible-drawer[data-state="failed"] {
  border-color: var(--text-error);
  background-color: rgba(var(--background-modifier-error-rgb), 0.05);
}

/* Loading state styling */
.systemsculpt-tool-response-loading {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--text-muted);
  font-style: italic;
  padding: 12px;
  background: var(--background-modifier-form-field);
  border-radius: 4px;
  justify-content: center;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .systemsculpt-tool-call-actions {
    flex-direction: column;
    gap: 4px;
  }
  
  .systemsculpt-tool-call-approve,
  .systemsculpt-tool-call-deny {
    width: 100%;
    justify-content: center;
  }
}

/* ========================================================================== */
/* == Streaming UI Logic                                                   == */
/* ========================================================================== */

.systemsculpt-collapsible-drawer.is-streaming-reasoning.systemsculpt-collapsed {
  animation: pulsating-glow-reasoning 2s ease-in-out infinite;
  border-color: var(--text-accent-translucent);
}

.systemsculpt-collapsible-drawer.is-streaming-reasoning.systemsculpt-collapsed .systemsculpt-collapsible-header .systemsculpt-collapsible-title::after {
  content: '...';
  display: inline-block;
  animation: ellipsis-animation 1.5s infinite steps(3, end);
  width: 1.2em;
  text-align: left;
  vertical-align: bottom;
  position: absolute;
}

@keyframes pulsating-glow-reasoning {
  0% {
    box-shadow: 0 0 2px 0px transparent, inset 0 0 2px 0px transparent;
  }
  50% {
    box-shadow: 0 0 5px 1px var(--text-accent-translucent), inset 0 0 4px 0px var(--text-accent-translucent);
  }
  100% {
    box-shadow: 0 0 2px 0px transparent, inset 0 0 2px 0px transparent;
  }
}

@keyframes ellipsis-animation {
  0% { content: '.'; }
  50% { content: '..'; }
  100% { content: '...'; }
}

/* ========================================================================== */
/* == Compact Drawer Grouping - Override Margins for Messages with Drawers == */
/* ========================================================================== */

/* 
 * CORRECTED: Target drawers within consecutive messages in the group,
 * not consecutive wrappers within the same message
 */

/* Drawers within grouped messages should have tighter spacing */
.systemsculpt-assistant-message-group .systemsculpt-message .systemsculpt-collapsible-drawer {
  margin: 2px 0 !important; /* Override the base 8px margin for much tighter spacing */
}

/* Visual indicators for consecutive messages with drawers */
.systemsculpt-assistant-message-group .systemsculpt-message + .systemsculpt-message .systemsculpt-collapsible-drawer {
  border-top-left-radius: 2px !important;
  border-top-right-radius: 2px !important;
  border-top-style: dotted !important; /* Subtle visual connection to previous message's drawer */
  opacity: 0.95; /* Slightly fade follow-up message drawers for visual hierarchy */
}

/* Extra tight spacing and visual connection for 3rd+ consecutive messages */
.systemsculpt-assistant-message-group .systemsculpt-message + .systemsculpt-message + .systemsculpt-message .systemsculpt-collapsible-drawer {
  margin: 1px 0 !important; /* Extra tight for deeply nested message sequences */
  border-top-style: solid !important;
  opacity: 0.9; /* More fading for deeper nesting */
}

/* ========================================================================== */
/* == End Compact Drawer Grouping Overrides                               == */
/* ========================================================================== */



/* ss-buttons.css */
/**
 * SystemSculpt Standardized Button Styles
 * 
 * This file contains all styles for the standardized button system.
 * These styles ensure consistent button appearance and behavior across the application.
 */

/* Base button */
.ss-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 12px;
  border-radius: var(--radius-s, 4px);
  background-color: var(--interactive-normal);
  color: var(--text-normal);
  cursor: pointer;
  font-size: var(--font-ui-small, 14px);
  border: 1px solid var(--background-modifier-border);
  transition: all 0.15s ease;
  min-height: 32px;
  min-width: 80px;
  text-align: center;
  box-sizing: border-box;
  line-height: 1.3;
}

.ss-button:hover {
  background-color: var(--interactive-hover);
}

.ss-button:active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  transform: translateY(1px);
}

/* Button with icon */
.ss-button__icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: 5px; /* Standardized spacing between icon and text */
}

.ss-button__icon svg {
  width: 16px;
  height: 16px;
}

/* Button variants */
.ss-button--primary {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

.ss-button--primary:hover {
  background-color: var(--interactive-accent-hover);
  border-color: var(--interactive-accent-hover);
}

.ss-button--secondary {
  background-color: transparent;
  color: var(--text-normal);
  border-color: var(--background-modifier-border);
}

.ss-button--danger {
  background-color: var(--background-modifier-error);
  color: white;
  border-color: var(--background-modifier-error);
}

.ss-button--danger:hover {
  opacity: 0.9;
  background-color: var(--background-modifier-error-hover, var(--background-modifier-error));
}

.ss-button--small {
  padding: 3px 8px;
  font-size: 12px;
  min-height: 24px;
  min-width: unset;
}

.ss-button--small .ss-button__icon {
  margin-right: 4px;
}

.ss-button--small .ss-button__icon svg {
  width: 14px;
  height: 14px;
}

/* Button states */
.ss-button.mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  font-weight: 500;
}

.ss-button.mod-cta:hover {
  background-color: var(--interactive-accent-hover);
}

.ss-button.mod-warning {
  background-color: var(--text-warning);
  color: white;
  border-color: var(--text-warning);
}

.ss-button.mod-warning:hover {
  opacity: 0.9;
}

.ss-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.ss-button.ss-active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

/* Button loading state */
.ss-button.ss-loading {
  position: relative;
  color: transparent;
}

.ss-button.ss-loading::after {
  content: "";
  position: absolute;
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.25);
  border-top-color: var(--text-on-accent);
  border-radius: 50%;
  animation: ss-spin 0.8s linear infinite;
}

/* Button container */
.ss-button-container {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  justify-content: flex-end;
  align-items: center;
}

/* Keyboard shortcut hint */
.systemsculpt-shortcut-hint {
  opacity: 0.8 !important;
  font-size: 0.9em !important;
  margin-left: 5px !important;
} 

/* standardized-modal.css */
/**
 * Standardized Modal System
 * 
 * This file contains all styles for the standardized modal system.
 * The goal is to provide a consistent, reusable set of components
 * for all modals in the SystemSculpt plugin.
 * 
 * Components include:
 * - Modal containers with various sizes
 * - Header, content, and footer sections
 * - List items with consistent styling
 * - Search components with clear functionality
 * - Filter buttons for toggling options
 * - Loading and empty states
 * 
 * All classes use the 'ss-' prefix to avoid collisions.
 */

/* Base styles */
.ss-modal {
  background-color: var(--background-primary);
  border-radius: 8px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
  color: var(--text-normal);
  display: flex;
  flex-direction: column;
  max-width: 90vw;
  max-height: 85vh;
  width: 90vw;
  animation: ss-fade-in 0.2s ease-out;
  overflow: hidden;
}

/* Size variations */
.ss-modal--small {
  width: 400px;
  height: auto;
}

.ss-modal--medium {
  width: 550px;
  height: auto;
  max-height: 75vh;
}

.ss-modal--large {
  width: 650px;
  height: 600px; /* Fixed height to prevent jumping */
  max-height: 85vh; /* Keep max-height for smaller screens */
}



.ss-modal--fullwidth {
  width: 90vw;
  height: 90vh;
  max-width: 1200px;
}

/* Header */
.ss-modal__header {
  background-color: var(--background-primary);
  border-bottom: 1px solid var(--background-modifier-border);
  padding: 16px 20px;
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
}

.ss-modal__title-container {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 4px;
}

.ss-modal__title {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-normal);
  margin: 0;
  line-height: 1.3;
}

.ss-modal__description {
  color: var(--text-muted);
  font-size: 14px;
  margin: 4px 0 0;
  line-height: 1.4;
}

.ss-modal__close-button {
  color: var(--text-muted);
  cursor: pointer;
  border-radius: 4px;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: -2px;
  margin-left: 16px;
  flex-shrink: 0;
  padding: 0;
  background: transparent;
  border: none;
}

.ss-modal__close-button:hover {
  color: var(--text-normal);
  background-color: var(--background-modifier-hover);
}

/* Content */
.ss-modal__content {
  padding: 16px 20px;
  overflow: hidden; /* Change from overflow-y: auto to hidden to let list handle scrolling */
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}

.ss-modal__custom-content {
  margin-bottom: 16px;
}

/* --- Filter Container --- */
.ss-modal__filter-container {
  display: grid; /* Use grid layout */
  grid-template-columns: repeat(auto-fit, minmax(120px, max-content)); /* Auto-fit columns */
  gap: 10px; /* Consistent gap between grid items */
  align-items: center; /* Vertically align items */
  padding: 12px 20px; /* Consistent padding */
  margin-bottom: 16px;
  border-bottom: 1px solid var(--background-modifier-border); /* Add border if needed */
}

/* --- Base Filter Button Style (Applies to both provider and favorites) --- */
.ss-filter-button,
.systemsculpt-favorites-filter {
  display: inline-flex;
  align-items: center;
  justify-content: center; /* Center content */
  height: 34px; /* Consistent height */
  padding: 0 12px; /* Consistent padding */
  border-radius: 6px; /* Consistent border radius */
  font-size: 14px; /* Consistent font size */
  font-weight: 500; /* Consistent font weight */
  cursor: pointer;
  user-select: none;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary); /* Default background */
  color: var(--text-muted); /* Default text color */
  transition: all 0.15s ease;
  white-space: nowrap;
  gap: 6px; /* Gap between icon and text */
  margin-right: 0; /* Remove specific margins, rely on grid gap */
}

/* Hover state for all filter buttons */
.ss-filter-button:hover,
.systemsculpt-favorites-filter:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
  border-color: var(--background-modifier-border-hover);
}

/* Active state for Provider filter buttons */
.ss-filter-button.ss-active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}
.ss-filter-button.ss-active .ss-filter-button__icon svg {
  color: var(--text-on-accent); /* Ensure icon color matches */
}


/* Active state for Favorites filter button */
.systemsculpt-favorites-filter.is-active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}
.systemsculpt-favorites-filter.is-active .svg-icon {
   color: var(--text-on-accent); /* Ensure icon color matches */
}


/* Specific styles for Provider button icon/text */
.ss-filter-button__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
}
.ss-filter-button__text {
  /* font-size is handled by base style */
  /* font-weight is handled by base style */
}

/* Specific styles for Favorites button icon */
.systemsculpt-favorites-filter .svg-icon {
  /* margin-right: 6px; /* Use gap instead */
  width: 16px; /* Match provider icon size */
  height: 16px; /* Match provider icon size */
  color: var(--text-muted); /* Default icon color */
  transition: all 0.2s ease;
}

/* Remove old badge styles if not used */
.ss-filter-button__badge {
  /* Remove or adjust if badges are not part of the design */
  display: none;
}

/* Focus state */
.ss-filter-button:focus-visible,
.systemsculpt-favorites-filter:focus-visible {
  outline: 2px solid var(--background-modifier-border-focus);
  outline-offset: 1px;
  box-shadow: 0 0 0 2px var(--background-primary), 0 0 0 4px var(--background-modifier-border-focus); /* Improved focus ring */
}

/* Responsive adjustments (Optional, based on previous attempt) */
@media (max-width: 600px) {
  .ss-modal__filter-container {
    /* Grid handles wrapping automatically, but adjust columns if needed */
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); /* Allow more buttons per row on smaller screens */
    padding: 12px; /* Adjust padding */
    gap: 8px; /* Slightly smaller gap */
  }
  .ss-filter-button,
  .systemsculpt-favorites-filter {
    /* width: 100%; /* Let grid handle width */
    justify-content: center; /* Center content */
    margin-right: 0; /* Ensure no margin interferes */
  }
  
  /* Adjust list height for mobile */
  .ss-modal__list {
    height: 300px; /* Smaller height for mobile */
    min-height: 300px;
  }
  
  /* Adjust modal height for mobile */
  .ss-modal--large {
    height: 500px; /* Smaller overall height for mobile */
  }
}

/* Search */
.ss-modal__search {
  position: relative;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
}

.ss-modal__search-input {
  width: 100%;
  height: 36px;
  padding: 8px 36px 8px 36px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  font-size: 14px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  text-indent: 24px;
}

.ss-modal__search-input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.2);
}

.ss-modal__search-icon {
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  width: 16px;
  height: 16px;
  z-index: 1;
  pointer-events: none;
}

.ss-modal__search-clear {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  width: 16px;
  height: 16px;
  cursor: pointer;
  display: none;
  z-index: 1;
}

.ss-modal__search-input:not(:placeholder-shown) + .ss-modal__search-clear {
  display: block;
}

.ss-modal__search-clear:hover {
  color: var(--text-normal);
}

/* List */
.ss-modal__list {
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  gap: 4px;
  padding-bottom: 4px;
  /* Remove fixed height for better flexibility */
  flex: 1 1 auto; /* Allow list to grow and shrink */
  min-height: 0; /* Important for proper flex behavior */
}

/* 
 * NOTE: The ss-modal__item styling has been moved to favorite-toggle.css
 * to use a grid layout that properly positions the favorite toggle and provider badge
 * without overlap. The commented styles below are kept for reference only.
 */
/*
.ss-modal__item {
  display: flex;
  align-items: center;
  padding: 10px;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.1s ease;
  position: relative;
  gap: 8px;
}
*/

.ss-modal__item:hover,
.ss-modal__item:focus {
  background-color: var(--background-modifier-hover);
}

.ss-modal__item.ss-active {
  background-color: var(--background-primary-alt);
}

.ss-modal__item.ss-active .ss-modal__item-icon {
  color: var(--interactive-accent);
}

/* 
 * The following item content styles are now managed through the grid layout
 * in favorite-toggle.css, but we keep the color and text styles here.
 */
.ss-modal__item-title {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-normal);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ss-modal__item-description {
  font-size: 12px;
  color: var(--text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ss-modal__item-badge {
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 3px;
  background-color: var(--background-modifier-hover);
  color: var(--text-muted);
  margin-left: 8px;
  flex-shrink: 0;
}

.ss-modal__empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px 16px;
  text-align: center;
  color: var(--text-muted);
  font-size: 14px;
  height: 150px;
}

.ss-modal__empty-state-icon {
  width: 32px;
  height: 32px;
  margin-bottom: 8px;
  color: var(--text-muted);
}

/* Footer */
.ss-modal__footer {
  display: flex;
  justify-content: flex-end;
  padding: 16px 20px;
  border-top: 1px solid var(--background-modifier-border);
  gap: 8px;
  flex-shrink: 0;
}

/* Misc */
.ss-modal__loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px;
  color: var(--text-muted);
  height: 150px;
  text-align: center;
}

.ss-modal__loading::before {
  content: "";
  display: block;
  width: 24px;
  height: 24px;
  border: 2px solid var(--background-modifier-border);
  border-top-color: var(--interactive-accent);
  border-radius: 50%;
  animation: ss-spin 1s linear infinite;
  margin-bottom: 16px;
}

.ss-modal__loading svg {
  animation: ss-spin 1s linear infinite;
  color: var(--text-muted);
  width: 20px;
  height: 20px;
}

.ss-modal__error {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px;
  color: var(--text-error);
  height: 150px;
  text-align: center;
  font-size: 14px;
}

.ss-modal__error::before {
  content: "!";
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  background-color: var(--text-error);
  color: var(--background-primary);
  border-radius: 50%;
  font-weight: bold;
  margin-bottom: 16px;
}

@keyframes ss-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Thumbnails and Image Previews */
.ss-modal__item-thumbnail {
  width: 48px;
  height: 48px;
  border-radius: 4px;
  overflow: hidden;
  flex-shrink: 0;
  margin-left: auto;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
  position: relative;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
}

.ss-modal__item-thumbnail::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.1);
  opacity: 0;
  transition: opacity 0.2s ease;
  z-index: 1;
}

.ss-modal__item-thumbnail:hover::before {
  opacity: 1;
}

.ss-modal__item-thumbnail::after {
  content: '👁️';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.8);
  color: white;
  font-size: 16px;
  opacity: 0;
  transition: opacity 0.2s ease, transform 0.2s ease;
  z-index: 2;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}

.ss-modal__item-thumbnail:hover::after {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
}

.ss-modal__item-thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.2s ease;
}

.ss-modal__item-thumbnail:hover img {
  transform: scale(1.1);
}

/* Hover preview (for desktop) */
.ss-preview-container {
  position: fixed;
  z-index: 9999;
  background-color: var(--background-primary);
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
  padding: 12px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  gap: 8px;
  animation: fadeIn 0.2s ease;
  border: 1px solid var(--background-modifier-border);
}

.ss-preview-title {
  font-weight: bold;
  text-align: center;
  font-size: 14px;
  margin-bottom: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

.ss-preview-container img {
  object-fit: contain;
  max-width: 100%;
  max-height: 100%;
  border-radius: 4px;
  display: block;
}

/* Expanded preview (for mobile) */
.ss-modal__item.expanded {
  flex-direction: column;
  align-items: flex-start;
  gap: 12px;
  padding: 12px;
}

.ss-modal__item.expanded .ss-modal__item-thumbnail {
  width: 48px;
  height: 48px;
  margin-left: 0;
}

.ss-modal__item-preview {
  width: 100%;
  height: auto;
  max-height: 200px;
  overflow: hidden;
  border-radius: 6px;
  margin-top: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--background-modifier-border);
  animation: ss-fade-in 0.2s ease;
  background-color: var(--background-secondary);
}

.ss-modal__item-preview img {
  max-width: 100%;
  max-height: 200px;
  object-fit: contain;
}

/* Animation for fade-in effect */
@keyframes ss-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.ss-modal-thumbnail {
  width: 24px;
  height: 24px;
  margin-right: 8px;
  object-fit: cover;
  border-radius: 4px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.ss-modal-thumbnail:hover {
  transform: scale(1.1);
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
}

/* System Prompt Modal specific styles */
.ss-modal__presets {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 16px;
}

.ss-modal__title-input-container {
  display: flex;
  gap: 8px;
  margin-top: 8px;
  align-items: center;
}

.ss-modal__title-input {
  flex: 1;
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 14px;
}

.ss-modal__model-selection {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 8px;
}

.ss-modal__model-display {
  flex: 1;
  padding: 8px 12px;
  border-radius: 6px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  font-size: 14px;
  cursor: pointer;
  position: relative;
  transition: background-color 0.15s ease, border-color 0.15s ease;
}

.ss-modal__model-display:hover {
  background-color: var(--background-secondary-alt);
  border-color: var(--background-modifier-border-hover);
}

.ss-modal__model-display::after {
  content: "\2BC6"; /* Down arrow Unicode character */
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  font-size: 12px;
}

.ss-modal__section {
  margin-bottom: 24px;
}

.ss-modal__section-header {
  margin-bottom: 12px;
}

.ss-modal__section-header h3 {
  margin: 0;
  font-size: 16px;
  color: var(--text-normal);
  font-weight: 600;
}

.ss-modal__prompt-editor {
  margin-top: 12px;
  margin-bottom: 20px;
}

.ss-modal__prompt-textarea {
  width: 100%;
  height: 200px;
  padding: 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 14px;
  font-family: var(--font-monospace);
  line-height: 1.5;
  resize: none;
  overflow-y: auto;
}

/* System prompt modal */
.ss-system-prompt-modal .ss-modal__content {
  padding-bottom: 0;
}

.ss-system-prompt-modal .ss-modal__prompt-preview {
  margin-top: 12px;
  padding: 12px;
  border-radius: 6px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  font-size: 14px;
  max-height: 150px;
  overflow-y: auto;
  white-space: pre-wrap;
}

/* Layout for two-panel modal (e.g., Chat Settings) */
.ss-chat-modal-layout {
  display: flex;
  gap: 20px; /* Adjust gap as needed */
}

.ss-chat-modal-layout .ss-modal__content {
  display: flex;
  gap: 20px;
  padding: 0; /* Remove default padding if layout handles it */
}

.ss-chat-modal-left-panel,
.ss-chat-modal-right-panel {
  display: flex;
  flex-direction: column;
  gap: 16px; /* Spacing between elements within a panel */
  padding: 16px 20px; /* Add padding back to panels */
  overflow-y: auto; /* Allow panels to scroll independently */
}

.ss-chat-modal-left-panel {
  flex: 1; /* Adjust flex ratio as needed, e.g., 1 for equal */
  min-width: 250px; /* Ensure left panel doesn't collapse too much */
  border-right: 1px solid var(--background-modifier-border);
}

.ss-chat-modal-right-panel {
  flex: 2; /* Adjust flex ratio as needed, e.g., 2 for wider right panel */
  min-width: 300px;
}

/* Ensure prompt editor takes available space */
.ss-chat-modal-right-panel .ss-modal__prompt-editor {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}

.ss-chat-modal-right-panel .ss-prompt-editor-container {
  flex-grow: 1;
  display: flex;
}

.ss-chat-modal-right-panel .ss-prompt-textarea {
  flex-grow: 1; /* Allow textarea to fill vertical space */
  height: auto; /* Override fixed height */
  min-height: 200px; /* Set a minimum height */
}

.ss-chat-modal-right-panel .ss-prompt-editor-note {
  margin-top: 8px;
  font-size: 12px;
  color: var(--text-muted);
}

/* --- Specific Modal Overrides --- */



/* Ensure all list items remain fully visible */
.ss-modal__list .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
  transition: background-color 0.15s ease;
}

/* Prevent any parent state from making items semi-transparent */
.ss-modal--with-filters .ss-modal__item,
.ss-modal__list.filtered .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Add specific styling for the sort dropdown if needed */
.ss-modal-sort-container {
  /* Container for the dropdown, allows alignment */
  display: flex;
  align-items: center;
  margin-left: auto; /* Push to the right within the filter container */
}
.ss-modal-sort-container .ss-sort-dropdown {
  /* Example: Adjust width or appearance */
  min-width: 150px;
  height: 34px; /* Match filter button height */
  font-size: 14px; /* Match filter button font size */
  border-radius: 6px; /* Match filter button border radius */
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
  padding-left: 8px; /* Adjust padding */
  padding-right: 8px;
}


/* cards.css */
/**
 * Card Components
 * 
 * Styles for card containers, card content, and card actions
 */

.systemsculpt-model-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
  gap: 8px;
}

.systemsculpt-context-card.systemsculpt-is-selected {
  border-color: var(--interactive-accent);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
  outline: 2px solid var(--interactive-accent);
  outline-offset: 2px;
}

.systemsculpt-context-card.systemsculpt-is-selected {
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-context-card.systemsculpt-is-selected:hover {
  box-shadow: 0 3px 10px rgb(0, 0, 0);
}

.systemsculpt-chat-card {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  border-radius: 8px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  cursor: pointer;
  transition: all 0.15s ease;
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
  position: relative;
}

.systemsculpt-chat-card {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

.systemsculpt-chat-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 8px;
}

.systemsculpt-chat-card.selected {
  border-color: var(--interactive-accent);
}

.systemsculpt-chat-card.selected {
  border-color: var(--interactive-accent);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-chat-card.systemsculpt-keyboard-selected {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 1px var(--interactive-accent);
}

.systemsculpt-chat-card:hover {
  border-color: var(--interactive-accent);
  transform: translateY(-1px);
}

.systemsculpt-chat-card:hover .systemsculpt-favorite-button {
  opacity: 1;
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing {
  opacity: 1;
  cursor: wait;
  background-color: var(--background-modifier-border);
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing svg {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-custom-provider-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.systemsculpt-custom-provider-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 4px rgb(0, 0, 0);
}

.systemsculpt-custom-provider-card-status {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 0.8em;
  padding: 2px 6px;
  border-radius: 4px;
  background-color: var(--background-modifier-success);
  color: var(--text-on-accent);
}

.systemsculpt-custom-provider-card-status {
  cursor: pointer;
  transition: all 0.15s ease;
  padding: 4px 8px;
  border-radius: 4px;
  background-color: var(--background-modifier-success);
}

.systemsculpt-custom-provider-card-status.disabled {
  background-color: var(--background-modifier-error);
}

.systemsculpt-custom-provider-card-status.disabled {
  background-color: var(--background-modifier-error);
}

.systemsculpt-custom-provider-card-status.disabled {
  color: var(--text-faint);
  cursor: not-allowed;
}

.systemsculpt-custom-provider-card-status.disabled {
  opacity: 1;
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing {
  opacity: 1;
  cursor: wait;
  background-color: var(--background-modifier-border);
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing svg {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-custom-provider-card-status:hover {
  opacity: 1;
}

.systemsculpt-custom-provider-card-status.disabled {
  background-color: var(--background-modifier-error);
}

.systemsculpt-custom-provider-card-status.disabled {
  background-color: var(--background-modifier-error);
}

.systemsculpt-custom-provider-card-status.disabled {
  color: var(--text-faint);
  cursor: not-allowed;
}

.systemsculpt-custom-provider-card-status.disabled {
  opacity: 1;
}

.systemsculpt-custom-provider-card-status:hover {
  opacity: 1;
}

.systemsculpt-custom-model-card .systemsculpt-favorite-button {
  top: 50%;
  transform: translateY(-50%);
  right: 4px;
  width: 20px;
  height: 20px;
}

.systemsculpt-model-card {
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: clamp(8px, 1.5vw, 12px);
  position: relative;
  cursor: pointer;
  transition: all 0.2s ease;
  width: 100%;
  height: fit-content;
  min-height: clamp(120px, 20vh, 160px);
  display: flex;
  flex-direction: column;
  gap: 4px;
  box-sizing: border-box;
}

.systemsculpt-model-card {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  width: 100%;
  box-sizing: border-box;
}

.systemsculpt-model-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
  gap: 8px;
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
  background-color: var(--background-secondary-alt);
}

.systemsculpt-model-card.systemsculpt-keyboard-selected {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--interactive-accent);
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-custom-provider-card {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  border-radius: 6px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  transition: all 0.2s ease;
}

.systemsculpt-custom-provider-card-action {
  padding: 4px;
  border-radius: 4px;
  color: var(--text-muted);
  cursor: pointer;
  transition: all 0.2s ease;
  background: none;
  border: none;
}

.systemsculpt-custom-provider-card-action.systemsculpt-delete:hover {
  color: var(--text-error);
}

.systemsculpt-custom-provider-card-action:hover {
  color: var(--text-normal);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-custom-provider-card-actions {
  display: flex;
  gap: 8px;
}

.systemsculpt-custom-provider-card-detail {
  display: flex;
  align-items: center;
  gap: 6px;
}

.systemsculpt-custom-provider-card-details {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 0.85em;
  color: var(--text-muted);
}

.systemsculpt-custom-provider-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.systemsculpt-custom-provider-card-name {
  font-weight: 500;
  color: var(--text-normal);
  font-size: 1em;
  margin: 0;
}

.systemsculpt-custom-provider-card-status {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 0.8em;
  padding: 2px 6px;
  border-radius: 4px;
  background-color: var(--background-modifier-success);
  color: var(--text-on-accent);
}

.systemsculpt-custom-provider-card-status {
  cursor: pointer;
  transition: all 0.15s ease;
  padding: 4px 8px;
  border-radius: 4px;
  background-color: var(--background-modifier-success);
}

.systemsculpt-custom-provider-card-status.disabled {
  background-color: var(--background-modifier-error);
}

.systemsculpt-custom-provider-card-status.disabled {
  background-color: var(--background-modifier-error);
}

.systemsculpt-custom-provider-card-status.disabled {
  color: var(--text-faint);
  cursor: not-allowed;
}

.systemsculpt-custom-provider-card-status.disabled {
  opacity: 1;
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing {
  opacity: 1;
  cursor: wait;
  background-color: var(--background-modifier-border);
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing svg {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-custom-provider-card-status:hover {
  opacity: 1;
}

.systemsculpt-custom-provider-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 4px rgb(0, 0, 0);
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-custom-provider-card-action.systemsculpt-delete:hover {
  color: var(--text-error);
}

.systemsculpt-custom-provider-card-action:hover {
  color: var(--text-normal);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-custom-provider-card-actions {
  display: flex;
  gap: 8px;
}

.systemsculpt-model-card.systemsculpt-keyboard-selected {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--interactive-accent);
}

.systemsculpt-chat-card.systemsculpt-keyboard-selected {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 1px var(--interactive-accent);
}

.systemsculpt-custom-provider-card-name {
  font-weight: 500;
  color: var(--text-normal);
  font-size: 1em;
  margin: 0;
}

.systemsculpt-chat-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 8px;
}

.systemsculpt-custom-provider-card-action {
  padding: 4px;
  border-radius: 4px;
  color: var(--text-muted);
  cursor: pointer;
  transition: all 0.2s ease;
  background: none;
  border: none;
}

.systemsculpt-custom-provider-card-action.systemsculpt-delete:hover {
  color: var(--text-error);
}

.systemsculpt-custom-provider-card-action:hover {
  color: var(--text-normal);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-custom-provider-card-actions {
  display: flex;
  gap: 8px;
}

.systemsculpt-context-card {
  position: relative;
  padding: 12px;
  border-radius: 8px;
  background: var(--background-primary);
  border: 1px solid transparent;
  transition: all 0.2s ease;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
  min-width: 0;
}

.systemsculpt-context-card.systemsculpt-is-added {
  background: var(--background-primary-alt);
  border-color: var(--interactive-accent);
}

.systemsculpt-context-card.systemsculpt-is-added .systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}

.systemsculpt-context-card.systemsculpt-is-selected {
  border-color: var(--interactive-accent);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
  outline: 2px solid var(--interactive-accent);
  outline-offset: 2px;
}

.systemsculpt-context-card.systemsculpt-is-selected {
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-context-card.systemsculpt-is-selected:hover {
  box-shadow: 0 3px 10px rgb(0, 0, 0);
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
  background-color: var(--background-secondary-alt);
}

.systemsculpt-custom-model-card {
  min-height: unset;
  height: auto;
  padding: 6px 32px 6px 12px;
  gap: 0;
  display: flex;
  align-items: center;
}

.systemsculpt-custom-model-card .systemsculpt-favorite-button {
  top: 50%;
  transform: translateY(-50%);
  right: 4px;
  width: 20px;
  height: 20px;
}

.systemsculpt-custom-provider-card-status.systemsculpt-testing svg {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-chat-card.selected {
  border-color: var(--interactive-accent);
}

.systemsculpt-chat-card.selected {
  border-color: var(--interactive-accent);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-chat-card:hover .systemsculpt-favorite-button {
  opacity: 1;
}

.systemsculpt-context-card.systemsculpt-is-added .systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}

.systemsculpt-theme-dark .systemsculpt-context-card.systemsculpt-is-selected {
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-theme-dark .systemsculpt-context-card.systemsculpt-is-selected:hover {
  box-shadow: 0 3px 10px rgb(0, 0, 0);
}

.systemsculpt-custom-provider-card-details {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 0.85em;
  color: var(--text-muted);
}

.systemsculpt-custom-provider-card-detail {
  display: flex;
  align-items: center;
  gap: 6px;
}

.systemsculpt-custom-provider-card-details {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 0.85em;
  color: var(--text-muted);
}

.systemsculpt-card-content {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  width: 100%;
}

.systemsculpt-card-text {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-width: 0;
}

.systemsculpt-theme-dark .systemsculpt-context-card.systemsculpt-is-selected:hover {
  box-shadow: 0 3px 10px rgb(0, 0, 0);
}

.systemsculpt-chat-card:hover {
  border-color: var(--interactive-accent);
  transform: translateY(-1px);
}

.systemsculpt-chat-card:hover .systemsculpt-favorite-button {
  opacity: 1;
}

.systemsculpt-context-card.systemsculpt-is-added {
  background: var(--background-primary-alt);
  border-color: var(--interactive-accent);
}

.systemsculpt-context-card.systemsculpt-is-added .systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}



/* messages.css */
/**
 * Message Components
 *
 * Styles for chat messages, user and assistant messages, and message containers
 */

.systemsculpt-message-content p:first-child {
  margin-top: 0;
}

.systemsculpt-messages-container {
  flex-grow: 1;
  overflow-y: auto;
  padding: 0.75rem 0.75rem 0.25rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.systemsculpt-message-content li > ol {
  margin: 0.25em 0;
}

.systemsculpt-message-container {
  padding: 8px 0;
}

/* ========================================================================== */
/* == Assistant Message Grouping                                          == */
/* ========================================================================== */

/**
 * Visual grouping for consecutive assistant messages
 * Makes multiple assistant messages appear as one seamless conversation
 */
.systemsculpt-assistant-message-group {
  display: flex;
  flex-direction: column;
  background-color: var(--background-secondary);
  border-radius: 8px;
  padding: 12px;
  margin: 8px 0;
  border: 1px solid var(--background-modifier-border);
  gap: 4px;
  position: relative;
  transition: all 0.2s ease-out;
}

/* Individual messages within a group should have minimal styling */
.systemsculpt-assistant-message-group .systemsculpt-message {
  background: none;
  border: none;
  margin: 0;
  padding: 0;
  border-radius: 0;
  transition: none; /* Disable individual message transitions */
}

/* Remove gaps between messages in a group and add subtle separators */
.systemsculpt-assistant-message-group .systemsculpt-message + .systemsculpt-message {
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid var(--background-modifier-border);
  opacity: 0.95; /* Slightly fade follow-up messages for visual hierarchy */
}

/* First message in group should be fully opaque */
.systemsculpt-assistant-message-group .systemsculpt-message:first-child {
  opacity: 1;
}

/* Style message content within groups */
.systemsculpt-assistant-message-group .systemsculpt-message-content {
  background: none;
  border: none;
  padding: 0;
  margin: 0;
}

/* Ensure unified parts within grouped messages have consistent spacing */
.systemsculpt-assistant-message-group .systemsculpt-unified-part {
  margin: 8px 0;
}

/* Hide individual message toolbars within groups */
.systemsculpt-assistant-message-group .systemsculpt-message .systemsculpt-message-button-toolbar {
  display: none !important;
}

/* Hide both collapsed and expanded individual toolbars within groups */
.systemsculpt-assistant-message-group .systemsculpt-message .systemsculpt-message-button-toolbar-collapsed {
  display: none !important;
}

.systemsculpt-assistant-message-group .systemsculpt-message .systemsculpt-message-button-toolbar-expanded {
  display: none !important;
}

/* Group toolbar now uses unified .systemsculpt-message-button-toolbar class */
/* Group toolbar hover rules updated for container-based approach */
.systemsculpt-assistant-message-group:hover .systemsculpt-message-button-toolbar-collapsed:not(.hidden) {
  opacity: 1;
  visibility: visible;
  transform: translateY(0) scale(1);
}

/* Show expanded group toolbar when active */
.systemsculpt-assistant-message-group .systemsculpt-message-button-toolbar-expanded.active {
  opacity: 1;
  visibility: visible;
  transform: translateY(0) scale(1);
}

/* Group hover effects - border glow removed */
.systemsculpt-assistant-message-group:hover {
  /* border-color: var(--text-muted); */
  /* box-shadow: 0 0 0 1px rgba(var(--text-muted-rgb), 0.3); */
}

/* Content part styling within groups - remove redundant borders */
.systemsculpt-assistant-message-group .systemsculpt-content-part {
  border: none;
  background: none;
  padding: 0;
  border-radius: 0;
}

.systemsculpt-assistant-message-group .systemsculpt-content-part:hover {
  background: none;
  border: none;
}



/* Special styling for thinking indicator in grouped messages */
.systemsculpt-assistant-message-group .systemsculpt-thinking-indicator {
  opacity: 0.8;
  font-style: italic;
}

/* Responsive adjustments for message groups */
@media (max-width: 768px) {
  .systemsculpt-assistant-message-group {
    padding: 8px;
    margin: 6px 0;
  }
  
  .systemsculpt-assistant-message-group .systemsculpt-message + .systemsculpt-message {
    margin-top: 8px;
    padding-top: 8px;
  }
}

/* ========================================================================== */
/* == End Assistant Message Grouping                                      == */
/* ========================================================================== */

/* Unified Message Parts - ensure they fit within container */
.systemsculpt-unified-part {
  max-width: 100%;
  box-sizing: border-box;
  overflow: hidden;
}

/* Content parts should be visible and styled like regular message content */
.systemsculpt-content-part {
  color: var(--text-normal);
  margin: 8px 0;
  padding: 8px 12px;
  display: block;
  width: 100%;
  user-select: text;
  -webkit-user-select: text;
  /* Visual container styling */
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: var(--background-primary);
  /* Smooth transitions for hover effects */
  transition: border-color 0.2s ease-out, background-color 0.2s ease-out;
}

/* Hover effect for content parts - border glow removed */
.systemsculpt-content-part:hover {
  /* border-color: var(--text-muted); */
  background-color: var(--background-primary-alt);
}

/* Ensure proper spacing between multiple content parts */
.systemsculpt-content-part + .systemsculpt-content-part {
  margin-top: 8px;
}

/* Consistent spacing with other unified parts (reasoning, tool calls) */
.systemsculpt-unified-part + .systemsculpt-content-part,
.systemsculpt-content-part + .systemsculpt-unified-part {
  margin-top: 8px;
}

/* Ensure content parts in assistant messages have correct text color */
.systemsculpt-assistant-message .systemsculpt-content-part {
  color: var(--text-normal);
}

/* Remove top margin from first paragraph in content part */
.systemsculpt-content-part p:first-child {
  margin-top: 0;
}

/* Remove bottom margin from last paragraph in content part */
.systemsculpt-content-part p:last-child {
  margin-bottom: 0;
}

.systemsculpt-user-message .systemsculpt-message-content {
  color: var(--text-on-accent);
}

.systemsculpt-error-message {
  color: var(--text-error);
  padding: 16px;
  text-align: center;
  background-color: var(--background-modifier-error);
  border-radius: 4px;
}

.systemsculpt-message-content pre {
  margin: 0;
  padding: 2em 1em 1em;
  background-color: var(--background-primary);
  border-radius: 8px;
  overflow-x: auto;
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content pre[class*="language-"]::before {
  content: attr(class);
  position: absolute;
  top: 0.5em;
  left: 1em;
  font-size: var(--chat-code-label-font-size);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  user-select: none;
  -webkit-user-select: none;
  pointer-events: none;
}

.systemsculpt-assistant-message {
  align-self: flex-start;
  width: 100%;
  background-color: var(--background-secondary);
  border-radius: 16px 16px 16px 4px;
}

/* Assistant message toolbar positioning handled by modern floating design */

.systemsculpt-assistant-message .systemsculpt-message-content {
  color: var(--text-normal);
}

.systemsculpt-assistant-message .systemsculpt-message-label {
  color: var(--text-accent);
}

.systemsculpt-message-content > * {
  clear: both;
  display: block;
}

.systemsculpt-message-image {
  max-width: 100%;
  height: auto;
  display: block;
  border-radius: 8px;
  max-height: 70vh;
  object-fit: contain;
  padding: 16px;
}

.systemsculpt-assistant-message .systemsculpt-message-label {
  color: var(--text-accent);
}

.systemsculpt-message-content li {
  margin: 0.25em 0;
}

.systemsculpt-message-content li > ol {
  margin: 0.25em 0;
}

.systemsculpt-message-content p:last-child {
  margin-bottom: 0;
}

/* Wiki-links styling in messages */
.systemsculpt-message-content a.internal-link {
  color: var(--link-color);
  text-decoration: none;
  cursor: pointer;
  transition: color 0.1s ease;
}

.systemsculpt-message-content a.internal-link:hover {
  color: var(--link-color-hover);
  text-decoration: underline;
}

/* Style for user messages with accent background */
.systemsculpt-user-message .systemsculpt-message-content a.internal-link {
  color: var(--text-on-accent);
  opacity: 0.9;
}

.systemsculpt-user-message .systemsculpt-message-content a.internal-link:hover {
  opacity: 1;
  text-decoration: underline;
}

.systemsculpt-message-label {
  color: var(--text-accent);
}

.systemsculpt-message-label {
  font-size: var(--chat-label-font-size);
  margin-bottom: 0.25rem;
  display: block;
}

.systemsculpt-message-label {
  color: var(--text-on-accent);
  opacity: 1;
  font-weight: 500;
}

.systemsculpt-assistant-message .systemsculpt-message-content {
  color: var(--text-normal);
}

/* Legacy button and toolbar styles removed - using modern floating design */

.systemsculpt-popup-message {
  color: var(--text-normal);
  line-height: 1.5;
}

.systemsculpt-message-button.systemsculpt-success.systemsculpt-confirming {
  color: white;
  background-color: var(--interactive-accent);
}

.systemsculpt-message-button.systemsculpt-success.systemsculpt-confirming:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-message-content {
  color: var(--text-normal);
}

.systemsculpt-message-content {
  color: var(--text-normal);
  margin: 0;
  padding: 0;
  display: grid;
  grid-template-columns: minmax(0, 1fr);
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content > * {
  clear: both;
  display: block;
}

.systemsculpt-message-content a {
  color: var(--text-accent);
  text-decoration: none;
}

.systemsculpt-message-content a:hover {
  text-decoration: underline;
}

.systemsculpt-message-content blockquote {
  margin: 0.75em 0;
  padding: 0.5em 1em;
  border-left: 3px solid var(--interactive-accent);
  background-color: var(--background-primary);
  border-radius: 0 4px 4px 0;
  display: block;
  width: 100%;
}

.systemsculpt-message-content code {
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content h6 {
  margin: 1em 0 0.5em;
  line-height: 1.3;
  display: block;
  width: 100%;
}

.systemsculpt-message-content li {
  margin: 0.25em 0;
}

.systemsculpt-message-content li > ol {
  margin: 0.25em 0;
}

.systemsculpt-message-content ol {
  margin: 0.75em 0;
  padding-left: 2em;
}

.systemsculpt-message-content p {
  margin: 0.5em 0;
  display: block;
  width: 100%;
}

.systemsculpt-message-content p:first-child {
  margin-top: 0;
}

.systemsculpt-message-content p:last-child {
  margin-bottom: 0;
}

/* Web Search Citations Styles */
.systemsculpt-citations-container {
  margin-top: 1.25rem;
  font-size: var(--chat-citation-font-size);
  color: var(--text-muted);
  background-color: var(--background-secondary);
  border-radius: 8px;
  padding: 0.75rem 1rem;
}

.systemsculpt-citations-divider {
  border: none;
  border-top: 1px solid var(--background-modifier-border);
  margin: 0.5rem 0;
}

.systemsculpt-citations-header {
  font-weight: 600;
  margin-bottom: 0.75rem;
  color: var(--text-normal);
  font-size: var(--chat-citation-header-font-size);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.systemsculpt-citations-header::before {
  content: "";
  display: inline-block;
  width: 16px;
  height: 16px;
  background-color: var(--text-accent);
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' d='M0 0h24v24H0z'/%3E%3Cpath d='M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm0 2c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 3c1.82 0 3.413.973 4.288 2.428l-1.714 1.029A3 3 0 0 0 12 9a3 3 0 0 0-3 3c0 .88.377 1.673.982 2.224l-1.453 1.358A5 5 0 0 1 7 12c0-2.76 2.24-5 5-5zm0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z' fill='rgba(128,128,128,1)'/%3E%3C/svg%3E");
  mask-size: cover;
  mask-repeat: no-repeat;
}

.systemsculpt-citations-list {
  list-style-type: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.systemsculpt-citation-item {
  padding: 0.5rem 0.75rem;
  border-radius: 6px;
  background-color: var(--background-primary);
  border-left: 3px solid var(--text-accent);
  margin-bottom: 0.25rem;
}

.systemsculpt-citation-title {
  font-weight: 500;
  color: var(--text-accent);
  text-decoration: none;
  display: block;
  margin-bottom: 0.25rem;
}

.systemsculpt-citation-title:hover {
  text-decoration: underline;
}

.systemsculpt-citation-url {
  font-size: var(--chat-citation-url-font-size);
  color: var(--text-faint);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-citation-snippet {
  font-size: var(--chat-citation-font-size);
  color: var(--text-muted);
  line-height: 1.5;
  border-top: 1px dashed var(--background-modifier-border);
  padding-top: 0.5rem;
  margin-top: 0.25rem;
}

.systemsculpt-message-content pre {
  margin: 0;
  padding: 2em 1em 1em;
  background-color: var(--background-primary);
  border-radius: 8px;
  overflow-x: auto;
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content pre[class*="language-"]::before {
  content: attr(class);
  position: absolute;
  top: 0.5em;
  left: 1em;
  font-size: var(--chat-code-label-font-size);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  user-select: none;
  -webkit-user-select: none;
  pointer-events: none;
}

.systemsculpt-message-content::after {
  pointer-events: none;
}

.systemsculpt-message-content {
  color: var(--text-on-accent);
}

.systemsculpt-message-content ol {
  margin: 0.75em 0;
  padding-left: 2em;
}

.systemsculpt-message-text {
  line-height: 1.5;
  color: var(--text-normal);
  white-space: pre-wrap;
}

/* Legacy hover behavior removed - handled by modern floating toolbar */

.systemsculpt-model-message-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.systemsculpt-user-message .systemsculpt-message-label {
  color: var(--text-on-accent);
  opacity: 1;
  font-weight: 500;
}

.systemsculpt-drag-message {
  background: var(--background-secondary);
  color: var(--text-accent);
  padding: 16px 24px;
  border-radius: 8px;
  font-size: 16px;
  box-shadow: 0 2px 8px rgb(0, 0, 0);
  border: 1px solid var(--background-modifier-border);
  animation: fade-in 0.2s ease;
  text-align: center;
  min-width: 200px;
  white-space: nowrap;
}

.systemsculpt-message-button-toolbar {
  justify-content: flex-start;
}

.systemsculpt-message-content {
  color: var(--text-normal);
}

.systemsculpt-message-label {
  color: var(--text-accent);
}

.systemsculpt-message {
  position: relative;
  width: 100%;
  max-width: 100%;
  padding: 0.75rem;
  margin: 0.5rem;
  border-radius: 16px;
}

/* Removed duplicate - using unified ultra-compact button styling */



.systemsculpt-message-button.systemsculpt-confirming {
  width: auto;
  min-width: 20px;
  padding: 4px 8px;
  transition: all 0.15s ease;
}

.systemsculpt-message-button.systemsculpt-confirming span {
  font-size: var(--chat-button-text-font-size);
  display: inline-block;
  vertical-align: middle;
}

.systemsculpt-message-button.systemsculpt-danger.systemsculpt-confirming {
  color: white;
  background-color: var(--background-modifier-error);
}

.systemsculpt-message-button.systemsculpt-danger.systemsculpt-confirming:hover {
  color: white;
  background-color: var(--background-modifier-error);
}

.systemsculpt-message-button.systemsculpt-danger:hover {
  color: white;
  background-color: var(--background-modifier-error);
}

.systemsculpt-message-button.systemsculpt-success {
  color: white;
  background-color: var(--background-modifier-success);
}

.systemsculpt-message-button.systemsculpt-success.systemsculpt-confirming {
  color: white;
  background-color: var(--interactive-accent);
}

.systemsculpt-message-button.systemsculpt-success.systemsculpt-confirming:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-message-button:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-message-container {
  padding: 8px 0;
}

.systemsculpt-message-content {
  color: var(--text-normal);
  margin: 0;
  padding: 0;
  display: grid;
  grid-template-columns: minmax(0, 1fr);
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content > * {
  clear: both;
  display: block;
}

.systemsculpt-message-content a {
  color: var(--text-accent);
  text-decoration: none;
}

.systemsculpt-message-content a:hover {
  text-decoration: underline;
}

.systemsculpt-message-content blockquote {
  margin: 0.75em 0;
  padding: 0.5em 1em;
  border-left: 3px solid var(--interactive-accent);
  background-color: var(--background-primary);
  border-radius: 0 4px 4px 0;
  display: block;
  width: 100%;
}

.systemsculpt-message-content code {
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content h6 {
  margin: 1em 0 0.5em;
  line-height: 1.3;
  display: block;
  width: 100%;
}

.systemsculpt-message-content li {
  margin: 0.25em 0;
}

.systemsculpt-message-content li > ol {
  margin: 0.25em 0;
}

.systemsculpt-message-content ol {
  margin: 0.75em 0;
  padding-left: 2em;
}

.systemsculpt-message-content p {
  margin: 0.5em 0;
  display: block;
  width: 100%;
}

.systemsculpt-message-content p:first-child {
  margin-top: 0;
}

.systemsculpt-message-content p:last-child {
  margin-bottom: 0;
}

/* Web Search Citations Styles */
.systemsculpt-citations-container {
  margin-top: 1.25rem;
  font-size: var(--chat-citation-font-size);
  color: var(--text-muted);
  background-color: var(--background-secondary);
  border-radius: 8px;
  padding: 0.75rem 1rem;
}

.systemsculpt-citations-divider {
  border: none;
  border-top: 1px solid var(--background-modifier-border);
  margin: 0.5rem 0;
}

.systemsculpt-citations-header {
  font-weight: 600;
  margin-bottom: 0.75rem;
  color: var(--text-normal);
  font-size: var(--chat-citation-header-font-size);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.systemsculpt-citations-header::before {
  content: "";
  display: inline-block;
  width: 16px;
  height: 16px;
  background-color: var(--text-accent);
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' d='M0 0h24v24H0z'/%3E%3Cpath d='M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm0 2c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 3c1.82 0 3.413.973 4.288 2.428l-1.714 1.029A3 3 0 0 0 12 9a3 3 0 0 0-3 3c0 .88.377 1.673.982 2.224l-1.453 1.358A5 5 0 0 1 7 12c0-2.76 2.24-5 5-5zm0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z' fill='rgba(128,128,128,1)'/%3E%3C/svg%3E");
  mask-size: cover;
  mask-repeat: no-repeat;
}

.systemsculpt-citations-list {
  list-style-type: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.systemsculpt-citation-item {
  padding: 0.5rem 0.75rem;
  border-radius: 6px;
  background-color: var(--background-primary);
  border-left: 3px solid var(--text-accent);
  margin-bottom: 0.25rem;
}

.systemsculpt-citation-title {
  font-weight: 500;
  color: var(--text-accent);
  text-decoration: none;
  display: block;
  margin-bottom: 0.25rem;
}

.systemsculpt-citation-title:hover {
  text-decoration: underline;
}

.systemsculpt-citation-url {
  font-size: var(--chat-citation-url-font-size);
  color: var(--text-faint);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-citation-snippet {
  font-size: var(--chat-citation-font-size);
  color: var(--text-muted);
  line-height: 1.5;
  border-top: 1px dashed var(--background-modifier-border);
  padding-top: 0.5rem;
  margin-top: 0.25rem;
}

.systemsculpt-message-content pre {
  margin: 0;
  padding: 2em 1em 1em;
  background-color: var(--background-primary);
  border-radius: 8px;
  overflow-x: auto;
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content pre[class*="language-"]::before {
  content: attr(class);
  position: absolute;
  top: 0.5em;
  left: 1em;
  font-size: var(--chat-code-label-font-size);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  user-select: none;
  -webkit-user-select: none;
  pointer-events: none;
}

.systemsculpt-message-content::after {
  pointer-events: none;
}

.systemsculpt-message-content {
  color: var(--text-on-accent);
}

.systemsculpt-message-content ol {
  margin: 0.75em 0;
  padding-left: 2em;
}

.systemsculpt-message-text {
  line-height: 1.5;
  color: var(--text-normal);
  white-space: pre-wrap;
}

/* Legacy hover behavior removed - modern toolbar uses pure CSS */

.systemsculpt-messages-container {
  flex-grow: 1;
  overflow-y: auto;
  padding: 0.75rem 0.75rem 0.25rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

/* Removed - using unified positioning */

.systemsculpt-message-content {
  color: var(--text-on-accent);
}

.systemsculpt-message-label {
  color: var(--text-on-accent);
  opacity: 1;
  font-weight: 500;
}

.systemsculpt-message-button.systemsculpt-danger.systemsculpt-confirming:hover {
  color: white;
  background-color: var(--background-modifier-error);
}

/* Removed duplicate hover rule */

.systemsculpt-notice-message {
  flex: 1;
  font-weight: 500;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-user-message {
  align-self: flex-end;
  background-color: var(--interactive-accent);
  border-radius: 16px 16px 16px 16px;
}

/* Removed - using unified toolbar positioning */

.systemsculpt-user-message .systemsculpt-message-content {
  color: var(--text-on-accent);
}

.systemsculpt-user-message .systemsculpt-message-label {
  color: var(--text-on-accent);
  opacity: 1;
  font-weight: 500;
}

.systemsculpt-message-content code {
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content h6 {
  margin: 1em 0 0.5em;
  line-height: 1.3;
  display: block;
  width: 100%;
}

/* Removed duplicate hover rule */

.systemsculpt-message-content pre[class*="language-"]::before {
  content: attr(class);
  position: absolute;
  top: 0.5em;
  left: 1em;
  font-size: var(--chat-code-label-font-size);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  user-select: none;
  -webkit-user-select: none;
  pointer-events: none;
}

.systemsculpt-message-button.systemsculpt-confirming span {
  font-size: var(--chat-button-text-font-size);
  display: inline-block;
  vertical-align: middle;
}

.systemsculpt-message:hover::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: -40px;
  height: 40px;
  z-index: 99;
}

.systemsculpt-message-button.systemsculpt-danger:hover {
  color: white;
  background-color: var(--background-modifier-error);
}

.systemsculpt-message-button.systemsculpt-danger.systemsculpt-confirming {
  color: white;
  background-color: var(--background-modifier-error);
}

.systemsculpt-message-button.systemsculpt-danger.systemsculpt-confirming:hover {
  color: white;
  background-color: var(--background-modifier-error);
}

.systemsculpt-message-button.systemsculpt-confirming {
  width: auto;
  min-width: 20px;
  padding: 4px 8px;
  transition: all 0.15s ease;
}

.systemsculpt-message-button.systemsculpt-confirming span {
  font-size: var(--chat-button-text-font-size);
  display: inline-block;
  vertical-align: middle;
}

.systemsculpt-message-content blockquote {
  margin: 0.75em 0;
  padding: 0.5em 1em;
  border-left: 3px solid var(--interactive-accent);
  background-color: var(--background-primary);
  border-radius: 0 4px 4px 0;
  display: block;
  width: 100%;
}

.systemsculpt-message-content p {
  margin: 0.5em 0;
  display: block;
  width: 100%;
}

.systemsculpt-message-content p:first-child {
  margin-top: 0;
}

.systemsculpt-message-content p:last-child {
  margin-bottom: 0;
}

.systemsculpt-message-content pre {
  margin: 0;
  padding: 2em 1em 1em;
  background-color: var(--background-primary);
  border-radius: 8px;
  overflow-x: auto;
  user-select: text;
  -webkit-user-select: text;
}

.systemsculpt-message-content pre[class*="language-"]::before {
  content: attr(class);
  position: absolute;
  top: 0.5em;
  left: 1em;
  font-size: var(--chat-code-label-font-size);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  user-select: none;
  -webkit-user-select: none;
  pointer-events: none;
}

.systemsculpt-message::after {
  content: "";
  position: absolute;
  top: -8px;
  left: -8px;
  right: -8px;
  bottom: -40px;
  pointer-events: none;
}

.systemsculpt-message-button:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-message-content a:hover {
  text-decoration: underline;
}

.systemsculpt-message-content::after {
  pointer-events: none;
}

/* Removed - using unified toolbar positioning */

.systemsculpt-message-edit-button:hover {
  color: var(--text-normal);
  background: var(--background-modifier-hover);
}

/* Assistant message specific styling */
.systemsculpt-assistant-message .systemsculpt-message-content {
  /* Styles for the general content area of an assistant message if needed */
}

/* Styling for the new wrapper around the assistant's textual response */
.systemsculpt-assistant-text-content-wrapper {
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-m); /* Medium radius, adjust as needed */
  padding: var(--size-4-3); /* Equivalent to 10px if base is 8px for var(--size-4-1) being 4px */
  margin-top: var(--size-4-2); /* Add some space above this container if it's not the first element */
  background-color: var(--background-secondary-alt); /* Slightly different background to distinguish if needed */
}

/* Ensure markdown within the new wrapper is styled correctly */
.systemsculpt-assistant-text-content-wrapper .markdown-rendered p:first-child {
  margin-top: 0;
}

.systemsculpt-assistant-text-content-wrapper .markdown-rendered p:last-child {
  margin-bottom: 0;
}

.systemsculpt-assistant-text-content-wrapper .markdown-rendered ul,
.systemsculpt-assistant-text-content-wrapper .markdown-rendered ol {
  margin-top: var(--size-4-2);
  margin-bottom: var(--size-4-2);
  padding-left: var(--size-4-5); /* Default list padding */
}

.systemsculpt-assistant-text-content-wrapper .markdown-rendered pre {
  margin-top: var(--size-4-2);
  margin-bottom: var(--size-4-2);
}

/* ========================================================================== */
/* == Message Button Toolbar (Hover Actions) - Modern Floating Design     == */
/* ========================================================================== */

/* Collapsible slider toolbar container */
.systemsculpt-message-button-toolbar {
  position: absolute;
  bottom: 4px;
  right: 6px;
  display: flex;
  align-items: center;
  gap: 2px;
  padding: 2px;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  /* Simplified shadows for better scroll performance */
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  opacity: 0;
  visibility: hidden;
  transform: translateY(1px) scale(0.95);
  /* Optimized transition for scroll performance */
  transition: opacity 0.15s ease, visibility 0.15s ease, transform 0.15s ease;
  z-index: 150;
  height: 20px;
  /* Remove heavy backdrop filters during scrolling for performance */
  /* backdrop-filter: blur(2px); */
  /* -webkit-backdrop-filter: blur(2px); */
  will-change: opacity, transform; /* Hint browser for optimization */
  overflow: hidden;
  white-space: nowrap;
}

/* Toolbar visible state */
.systemsculpt-message:hover .systemsculpt-message-button-toolbar,
.systemsculpt-message:focus-within .systemsculpt-message-button-toolbar {
  opacity: 1;
  visibility: visible;
  transform: translateY(0) scale(1);
}

/* Container-based collapsible toolbar - industry standard approach */

/* Collapsed toolbar - only chevron toggle button with transparent background */
.systemsculpt-message-button-toolbar-collapsed {
  position: absolute;
  bottom: 4px;
  right: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 20px;
  padding: 2px;
  background: transparent; /* Transparent when collapsed */
  border: none; /* No border when collapsed */
  border-radius: 12px;
  box-shadow: none; /* No shadow when collapsed */
  opacity: 0;
  visibility: hidden;
  transform: translateY(1px) scale(0.95);
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  z-index: 150;
  backdrop-filter: none; /* No backdrop filter when collapsed */
  -webkit-backdrop-filter: none;
}

/* Expanded toolbar - all action buttons */
.systemsculpt-message-button-toolbar-expanded {
  position: absolute;
  bottom: 4px;
  right: 6px;
  display: flex;
  align-items: center;
  gap: 2px;
  padding: 2px;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  /* Simplified shadows for better scroll performance */
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  opacity: 0;
  visibility: hidden;
  transform: translateY(1px) scale(0.95);
  /* Optimized transition for scroll performance */
  transition: opacity 0.15s ease, visibility 0.15s ease, transform 0.15s ease;
  z-index: 150;
  height: 20px;
  /* Remove heavy backdrop filters during scrolling for performance */
  /* backdrop-filter: blur(2px); */
  /* -webkit-backdrop-filter: blur(2px); */
  will-change: opacity, transform; /* Hint browser for optimization */
  width: auto;
  min-width: 80px;
}

/* Show collapsed toolbar on hover (when expanded is hidden) */
.systemsculpt-message:hover .systemsculpt-message-button-toolbar-collapsed:not(.hidden),
.systemsculpt-message:focus-within .systemsculpt-message-button-toolbar-collapsed:not(.hidden) {
  opacity: 1;
  visibility: visible;
  transform: translateY(0) scale(1);
}

/* Show expanded toolbar when active */
.systemsculpt-message-button-toolbar-expanded.active {
  opacity: 1;
  visibility: visible;
  transform: translateY(0) scale(1);
}

/* Hide collapsed when expanded is active */
.systemsculpt-message-button-toolbar-collapsed.hidden {
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none;
}

/* Individual button styling - industry standard */
.systemsculpt-message-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  padding: 0;
  background: none;
  border: none;
  border-radius: 3px;
  color: var(--text-muted);
  cursor: pointer;
  transition: all 0.12s ease-out;
  position: relative;
  flex-shrink: 0;
}

/* Button hover effects */
.systemsculpt-message-button:hover {
  background: var(--background-modifier-hover);
  color: var(--text-normal);
  transform: scale(1.05);
}

/* Button active state */
.systemsculpt-message-button:active {
  transform: scale(0.95);
}

/* Icon sizing within buttons - compact slider */
.systemsculpt-message-button .lucide {
  width: 12px;
  height: 12px;
}

/* Chevron icon specific styling for collapsed toolbar */
.systemsculpt-message-button-toolbar-collapsed .systemsculpt-message-button .lucide {
  transition: transform 0.2s ease;
}

/* Keep button transparent in collapsed toolbar - override general hover styles */
.systemsculpt-message-button-toolbar-collapsed .systemsculpt-message-button {
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
}

.systemsculpt-message-button-toolbar-collapsed .systemsculpt-message-button:hover {
  background: transparent !important;
  transform: scale(1.05); /* Keep the scale transform but remove background */
}

/* Chevron icon specific styling for expanded toolbar */
.systemsculpt-message-button-toolbar-expanded .systemsculpt-message-button.chevron .lucide {
  transform: rotate(180deg); /* Flip chevron when expanded */
  transition: transform 0.2s ease;
}

/* Success state (e.g., after copy) */
.systemsculpt-message-button.systemsculpt-success {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-message-button.systemsculpt-success:hover {
  background: var(--interactive-accent-hover);
}

/* Danger state (delete button) */
.systemsculpt-message-button.systemsculpt-danger:hover {
  background: var(--background-modifier-error);
  color: var(--text-on-accent);
}

/* Confirming state for delete/resubmit actions - ultra-compact */
.systemsculpt-message-button.systemsculpt-confirming {
  width: auto;
  min-width: 14px;
  padding: 0 4px;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  font-size: var(--chat-compact-button-font-size);
  font-weight: 500;
}

.systemsculpt-message-button.systemsculpt-confirming span {
  font-size: var(--chat-compact-button-font-size);
  white-space: nowrap;
}

.systemsculpt-message-button.systemsculpt-danger.systemsculpt-confirming {
  background: var(--background-modifier-error);
}

.systemsculpt-message-button.systemsculpt-danger.systemsculpt-confirming:hover {
  background: var(--background-modifier-error);
  opacity: 0.9;
}

/* Unified positioning for all message types - always bottom right */

/* Removed - now using unified .systemsculpt-message-button-toolbar */

/* Dark mode adjustments */
.theme-dark .systemsculpt-message-button-toolbar {
  background: rgba(var(--background-primary-rgb), 0.9);
  border-color: var(--background-modifier-border);
}

/* High contrast support */
@media (prefers-contrast: high) {
  .systemsculpt-message-button-toolbar {
    border-width: 2px;
    box-shadow: 
      0 3px 12px rgba(0, 0, 0, 0.2),
      0 1px 4px rgba(0, 0, 0, 0.15);
  }
  
  .systemsculpt-message-button {
    border: 1px solid transparent;
  }
  
  .systemsculpt-message-button:hover {
    border-color: var(--background-modifier-border);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .systemsculpt-message-button-toolbar {
    transition: opacity 0.1s ease, visibility 0.1s ease;
    transform: none;
  }
  
  .systemsculpt-message:hover .systemsculpt-message-button-toolbar,
  .systemsculpt-message:focus-within .systemsculpt-message-button-toolbar {
    transform: none;
  }
  
  .systemsculpt-message-button {
    transition: background-color 0.1s ease, color 0.1s ease;
  }
  
  .systemsculpt-message-button:hover,
  .systemsculpt-message-button:active {
    transform: none;
  }
}

/* Mobile responsive adjustments - ultra-compact design */
@media (max-width: 768px) {
  .systemsculpt-message-button-toolbar {
    bottom: 3px;
    right: 4px;
    padding: 2px 3px;
    gap: 1px;
    min-height: 18px;
  }
  
  .systemsculpt-message-button {
    width: 16px;
    height: 16px;
  }
  
  .systemsculpt-message-button .lucide {
    width: 12px;
    height: 12px;
  }
  
  /* Slightly larger touch targets on mobile */
  .systemsculpt-message-button.systemsculpt-confirming {
    padding: 0 6px;
    font-size: calc(var(--chat-compact-button-font-size) + 1px);
  }
}

/* Remove old/redundant toolbar styles */
.systemsculpt-message::after {
  display: none;
}

.systemsculpt-message:hover::before {
  display: none;
}

/* ========================================================================== */
/* == End Modern Floating Toolbar                                         == */
/* ========================================================================== */

.systemsculpt-message-content pre.systemsculpt-code-block {
  margin: 1em 0;
  background-color: var(--background-primary-alt);
  border-radius: 8px;
  position: relative;
}

.systemsculpt-code-copy-button {
  display: none !important;
}

.systemsculpt-content-part pre,
.systemsculpt-content-part .markdown-rendered pre {
  margin: 1em 0;
  padding: 2em 1em 1em;
  background-color: var(--background-primary-alt, var(--background-primary));
  border-radius: 8px;
  overflow-x: auto;
  position: relative;
}

.systemsculpt-content-part pre code {
  user-select: text;
}

/* ========================================================================== */
/* == Compact Drawer Grouping for Consecutive Messages with Tool Calls    == */
/* ========================================================================== */

/* 
 * CRITICAL FIX: The real DOM structure has consecutive .systemsculpt-message elements
 * within the group, each containing drawers. We need to target consecutive messages
 * that contain tool calls, not consecutive drawers within the same message.
 */

/* Tighter spacing between consecutive messages that have tool calls */
.systemsculpt-assistant-message-group .systemsculpt-message + .systemsculpt-message {
  margin-top: 4px !important; /* Much tighter spacing between consecutive assistant messages */
  padding-top: 4px !important; /* Reduce the padding too */
}

/* Even tighter for 3rd+ consecutive messages */
.systemsculpt-assistant-message-group .systemsculpt-message + .systemsculpt-message + .systemsculpt-message {
  margin-top: 2px !important;
  padding-top: 2px !important;
}

/* Also target the drawer spacing within each message for extra compactness */
.systemsculpt-assistant-message-group .systemsculpt-message .systemsculpt-tool-call-wrapper,
.systemsculpt-assistant-message-group .systemsculpt-message .systemsculpt-reasoning-wrapper {
  margin: 2px 0 !important; /* Tight spacing for drawers within grouped messages */
}

/* Content parts within grouped messages should also be more compact */
.systemsculpt-assistant-message-group .systemsculpt-message .systemsculpt-content-part {
  margin: 2px 0 !important; /* Tight spacing for content within grouped messages */
}

/* ========================================================================== */
/* == End Compact Drawer Grouping                                          == */
/* ========================================================================== */

/* ========================================================================== */
/* == Chat Font Size Classes                                              == */
/* ========================================================================== */

/* Define CSS custom properties for different text sizes */
.systemsculpt-messages-container {
  /* Default (medium) sizes */
  --chat-base-font-size: 1em;
  --chat-label-font-size: 0.8rem;
  --chat-citation-font-size: 0.85rem;
  --chat-citation-header-font-size: 0.9rem;
  --chat-citation-url-font-size: 0.8rem;
  --chat-code-label-font-size: 0.8em;
  --chat-button-text-font-size: 0.9em;
  --chat-compact-button-font-size: 9px;
}

/* Small size overrides */
.systemsculpt-messages-container.systemsculpt-chat-small {
  --chat-base-font-size: 0.75em;
  --chat-label-font-size: 0.7rem;
  --chat-citation-font-size: 0.75rem;
  --chat-citation-header-font-size: 0.8rem;
  --chat-citation-url-font-size: 0.7rem;
  --chat-code-label-font-size: 0.75em;
  --chat-button-text-font-size: 0.85em;
  --chat-compact-button-font-size: 8px;
}

/* Medium size (default) */
.systemsculpt-messages-container.systemsculpt-chat-medium {
  /* Uses default values defined above */
}

/* Large size overrides */
.systemsculpt-messages-container.systemsculpt-chat-large {
  --chat-base-font-size: 1.3em;
  --chat-label-font-size: 0.95rem;
  --chat-citation-font-size: 1rem;
  --chat-citation-header-font-size: 1.1rem;
  --chat-citation-url-font-size: 0.95rem;
  --chat-code-label-font-size: 0.9em;
  --chat-button-text-font-size: 1em;
  --chat-compact-button-font-size: 11px;
}

/* Apply the base font size to the container */
.systemsculpt-messages-container {
  font-size: var(--chat-base-font-size);
}

/* ========================================================================== */
/* == End Chat Font Size Classes                                          == */
/* ========================================================================== */



/* scroll-performance.css */
/**
 * Scroll Performance Optimizations
 * 
 * CSS optimizations specifically designed to improve scrolling performance
 * during AI message generation and large conversation handling
 */

/* ========================================================================== */
/* == Global Scroll Performance Hints                                     == */
/* ========================================================================== */

/* Optimize message containers for smooth scrolling - SAFE VERSION */
.systemsculpt-message,
.systemsculpt-assistant-message-group {
  /* Enable hardware acceleration for smooth scrolling */
  transform: translateZ(0);
  /* Remove containment - it was breaking height calculation */
  /* contain: style paint; */
  /* Reduce repaints on scroll */
  backface-visibility: hidden;
}

/* Further optimize grouped assistant messages during generation */
.systemsculpt-assistant-message-group.generating {
  /* Prioritize scroll performance during generation */
  will-change: transform;
  /* Remove all containment that breaks sizing */
  /* contain: layout style paint; */
}

/* ========================================================================== */
/* == Toolbar Performance During Scrolling                               == */
/* ========================================================================== */

/* Reduce expensive effects when scrolling */
.systemsculpt-messages-container:not(:hover) .systemsculpt-message-button-toolbar,
.systemsculpt-messages-container:not(:hover) .systemsculpt-message-button-toolbar-collapsed,
.systemsculpt-messages-container:not(:hover) .systemsculpt-message-button-toolbar-expanded {
  /* Disable transitions during active scrolling for performance */
  transition: none !important;
  /* Force opacity to 0 to reduce rendering load */
  opacity: 0 !important;
  visibility: hidden !important;
}

/* Re-enable effects when scrolling stops */
.systemsculpt-messages-container:hover .systemsculpt-message-button-toolbar,
.systemsculpt-messages-container:hover .systemsculpt-message-button-toolbar-collapsed,
.systemsculpt-messages-container:hover .systemsculpt-message-button-toolbar-expanded {
  transition: opacity 0.15s ease, visibility 0.15s ease, transform 0.15s ease;
}

/* ========================================================================== */
/* == Content Optimization for Large Conversations                       == */
/* ========================================================================== */

/* Optimize code blocks and content for scrolling */
.systemsculpt-content-part pre,
.systemsculpt-message-content pre {
  /* Remove containment that breaks sizing */
  /* contain: layout style; */
  /* Reduce reflow impact */
  overflow: auto;
  /* Enable smooth scrolling within code blocks */
  scroll-behavior: auto; /* Override smooth to prevent conflicts */
}

/* Optimize content parts for scroll performance */
.systemsculpt-content-part {
  /* Remove containment to avoid sizing issues */
  /* contain: style paint; */
  /* Optimize for frequent updates during generation */
  will-change: auto; /* Reset will-change when not actively changing */
}

/* ========================================================================== */
/* == Responsive Scroll Optimizations                                     == */
/* ========================================================================== */

/* Mobile-specific scroll optimizations */
@media (max-width: 768px) {
  .systemsculpt-messages-container {
    /* Optimize touch scrolling */
    -webkit-overflow-scrolling: touch;
    /* Reduce momentum scrolling conflicts */
    overscroll-behavior-y: contain;
  }
  
  /* Only hide toolbars on very small screens (phones in portrait) */
  /* This preserves functionality on iPad split-view and larger screens */
}

/* Improved responsive toolbar handling for touch devices */
@media (max-width: var(--mobile-max-width)) {
  /* Only hide on very small screens like phones */
  .systemsculpt-message-button-toolbar,
  .systemsculpt-message-button-toolbar-collapsed,
  .systemsculpt-message-button-toolbar-expanded {
    /* Reduce complexity on very small screens only */
    display: none !important;
  }
}

/* Touch-friendly action buttons for devices without hover */
@media (hover: none) {
  /* Make collapsed toolbar visible by default on touch devices */
  .systemsculpt-message-button-toolbar-collapsed {
    opacity: var(--toolbar-opacity-partial) !important;
    visibility: visible !important;
    background: rgba(var(--background-primary-rgb), 0.8) !important;
    border: 1px solid var(--background-modifier-border) !important;
    border-radius: var(--toolbar-border-radius) !important;
    backdrop-filter: blur(var(--toolbar-backdrop-blur)) !important;
    -webkit-backdrop-filter: blur(var(--toolbar-backdrop-blur)) !important;
  }
  
  /* Full visibility when touched/active */
  .systemsculpt-message:active .systemsculpt-message-button-toolbar-collapsed,
  .systemsculpt-message-button-toolbar-collapsed:active {
    opacity: var(--toolbar-opacity-full) !important;
    transform: translateY(0) scale(var(--toolbar-scale-active)) !important;
  }
  
  /* Ensure buttons within collapsed toolbar are visible */
  .systemsculpt-message-button-toolbar-collapsed .systemsculpt-message-button {
    opacity: var(--toolbar-opacity-full) !important;
    visibility: visible !important;
  }
}

/* Tablet-friendly: Allow toolbars on larger touch devices */
@media (hover: none) and (min-width: var(--tablet-min-width)) {
  /* iPad and larger tablets should show toolbars */
  .systemsculpt-message-button-toolbar,
  .systemsculpt-message-button-toolbar-collapsed,
  .systemsculpt-message-button-toolbar-expanded {
    display: flex !important; /* Override any hiding rules */
  }
  
  /* Make collapsed toolbar more visible on tablets */
  .systemsculpt-message-button-toolbar-collapsed {
    opacity: var(--toolbar-opacity-visible) !important;
    visibility: visible !important;
  }
}

/* Desktop with fine pointer: Original hover behavior */
@media (hover: hover) and (pointer: fine) {
  /* Desktop users get original hover-based interaction */
  .systemsculpt-message-button-toolbar-collapsed {
    opacity: var(--toolbar-opacity-hidden);
    visibility: hidden;
  }
  
  .systemsculpt-message:hover .systemsculpt-message-button-toolbar-collapsed:not(.hidden) {
    opacity: var(--toolbar-opacity-full);
    visibility: visible;
  }
}

/* ========================================================================== */
/* == Animation Performance                                               == */
/* ========================================================================== */

/* Optimize animations for devices with limited GPU */
@media (prefers-reduced-motion: reduce) {
  .systemsculpt-messages-container {
    /* Disable smooth scrolling for reduced motion */
    scroll-behavior: auto !important;
  }
  
  .systemsculpt-message,
  .systemsculpt-assistant-message-group,
  .systemsculpt-content-part {
    /* Remove hardware acceleration hints for reduced motion */
    transform: none;
    will-change: auto;
    contain: none;
  }
}

/* High performance mode for modern browsers - DISABLED to prevent height issues */
/* @supports (contain: strict) {
  .systemsculpt-assistant-message-group {
    contain: strict;
  }
} */

/* ========================================================================== */
/* == Scroll Snap Optimizations (Experimental)                           == */
/* ========================================================================== */

/* Optional: Enable scroll snapping for better UX (disabled by default) */
.systemsculpt-messages-container.scroll-snap-enabled {
  scroll-snap-type: y proximity;
}

.systemsculpt-messages-container.scroll-snap-enabled .systemsculpt-message {
  scroll-snap-align: start;
  scroll-snap-stop: normal;
}

/* ========================================================================== */
/* == Memory and GPU Optimizations                                        == */
/* ========================================================================== */

/* Optimize for GPU memory usage */
.systemsculpt-messages-container {
  /* Limit GPU layer creation */
  transform-style: flat;
  /* Optimize compositing */
  isolation: isolate;
}

/* Prevent unnecessary layer creation for hidden elements */
.systemsculpt-message-button-toolbar[style*="opacity: 0"],
.systemsculpt-message-button-toolbar-collapsed[style*="opacity: 0"],
.systemsculpt-message-button-toolbar-expanded[style*="opacity: 0"] {
  transform: none !important;
  will-change: auto !important;
}

/* modals.css */
/**
 * Modal Components
 *
 * Styles for all modal dialogs, popups, and overlays
 */

.ss-modal__textarea {
  width: 100%;
  padding: 8px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-family: var(--font-interface);
  font-size: var(--font-ui-medium);
  resize: vertical;
  box-sizing: border-box;
}


/*
 * Button styles have been moved to ss-buttons.css
 * Use .ss-button and .ss-button--secondary instead
 */

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/*
 * Button styles have been moved to ss-buttons.css
 * Use .ss-button and .ss-button--secondary instead
 */

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-header
  h2 {
  margin: 0;
  font-size: 1.3em;
  color: var(--text-normal);
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-mod-cta:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-text-modification-modal .systemsculpt-button:hover {
  background-color: var(--background-modifier-border-hover);
}

.systemsculpt-text-modification-modal .systemsculpt-input-section,
.systemsculpt-text-modification-modal .systemsculpt-preview-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-text-modification-modal .systemsculpt-modal-content {
  display: flex;
  gap: 20px;
  height: calc(100% - 120px);
  padding: 20px;
}

.systemsculpt-text-modification-modal .systemsculpt-modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  padding: 20px;
  border-top: 1px solid var(--background-modifier-border);
}

.systemsculpt-text-modification-modal .systemsculpt-preview-content {
  flex-grow: 1;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  overflow-y: auto;
  white-space: pre-wrap;
  font-family: var(--font-text);
  line-height: 1.5;
}

.systemsculpt-text-modification-modal .systemsculpt-textarea {
  flex-grow: 1;
  resize: none;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-family: var(--font-text);
  line-height: 1.5;
}

.systemsculpt-text-modification-modal label {
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-empty-text {
  font-size: 0.9em;
  text-align: center;
}

.systemsculpt-text-modification-modal .systemsculpt-modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  padding: 20px;
  border-top: 1px solid var(--background-modifier-border);
}

.systemsculpt-text-modification-modal .systemsculpt-preview-content {
  flex-grow: 1;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  overflow-y: auto;
  white-space: pre-wrap;
  font-family: var(--font-text);
  line-height: 1.5;
}

.systemsculpt-modal-buttons button {
  padding: 8px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
}

.systemsculpt-modal-buttons button.systemsculpt-mod-warning {
  background-color: var(--background-modifier-error);
  border: 1px solid var(--background-modifier-error);
  color: var(--text-on-accent);
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status-content {
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 2px;
  padding-top: 10px;
  border-top: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-modal-button-container button:hover {
  opacity: 0.9;
  transform: translateY(-1px);
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  padding-top: 10px;
  border-top: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
  position: sticky; /* Make it stick to the bottom */
  bottom: 0;
  background-color: var(--background-primary); /* Ensure it has a background */
  z-index: 1; /* Ensure it stays on top of scrolling content */
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-loading svg {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-model-selection-modal {
  height: min(85vh, 900px);
  width: clamp(300px, 95%, 1200px);
  padding: clamp(8px, 2vw, 16px);
  display: flex;
  flex-direction: column;
  gap: clamp(8px, 1.5vw, 16px);
  overflow: hidden;
  margin: 0 auto;
  border-radius: 8px;
  background: var(--background-primary);
  box-shadow: var(--shadow-l);
}

.systemsculpt-model-selection-modal {
  max-width: min(800px, 95vw);
  max-height: 80vh;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 12px !important;
  box-sizing: border-box;
  margin: 0 auto;
  align-items: center;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-button-primary:hover {
  background-color: var(--interactive-accent-hover) !important;
  transform: translateY(-1px);
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status {
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
  color: var(--text-muted);
  font-size: var(--font-ui-small);
  padding: var(--size-4-1) 0;
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status-content {
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-accent);
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status-text {
  color: var(--text-muted);
}

.systemsculpt-text-modification-modal .systemsculpt-preview-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-preset-buttons {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-header
  h2 {
  margin: 0;
  font-size: 1.3em;
  color: var(--text-normal);
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-back {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 4px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  cursor: pointer;
  font-size: 0.85em;
  transition: all 0.2s ease;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-back:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header h2 {
  margin: 0;
  font-size: 1.3em;
  color: var(--text-normal);
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-button {
  padding: 6px 14px;
  border-radius: 4px;
  font-size: 0.9em;
  cursor: pointer;
  transition: all 0.2s ease;
  border: none;
  height: 32px;
  min-width: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-button-primary {
  background-color: var(--interactive-accent) !important;
  color: var(--text-on-accent) !important;
  border: none !important;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-button-primary:hover {
  background-color: var(--interactive-accent-hover) !important;
  transform: translateY(-1px);
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-button-primary {
  background-color: var(--interactive-accent) !important;
  color: var(--text-on-accent) !important;
  border: none !important;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-button-primary:hover {
  background-color: var(--interactive-accent-hover) !important;
  transform: translateY(-1px);
}

.systemsculpt-context-modal {
  display: flex;
  flex-direction: column;
  height: 100vh;
  padding: 16px;
  background: var(--background-primary);
  overflow: hidden;
}

.systemsculpt-text-modification-modal .systemsculpt-button {
  padding: 8px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  background-color: var(--background-modifier-border);
  color: var(--text-normal);
  border: none;
  transition: background-color 0.2s ease;
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-loading {
  opacity: 0.7;
  cursor: not-allowed;
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-loading svg {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-text-modification-modal .systemsculpt-button.systemsculpt-mod-cta:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-text-modification-modal .systemsculpt-button:hover {
  background-color: var(--background-modifier-border-hover);
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  input::placeholder {
  color: var(--text-muted);
}

.systemsculpt-text-modification-modal .systemsculpt-input-section,
.systemsculpt-text-modification-modal .systemsculpt-preview-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  label {
  color: var(--text-normal);
  font-weight: 500;
  font-size: 0.9em;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-back:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-recorder-modal.systemsculpt-recording .systemsculpt-recorder-live {
  opacity: 1;
  animation: pulse 2s infinite;
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-empty-icon {
  font-size: 2em;
  opacity: 0.5;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-back:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-custom-provider-manager-modal
  .systemsculpt-custom-provider-manager-list {
  flex-grow: 1;
  overflow-y: auto;
  padding-right: 4px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.systemsculpt-modal-content {
  padding: var(--size-4-4);
  display: flex;
  flex-direction: column;
  gap: var(--size-4-2);
}

.systemsculpt-modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: var(--size-4-2);
  padding: var(--size-4-2);
  border-top: 1px solid var(--background-modifier-border);
}

.systemsculpt-modal {
  max-width: 500px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.systemsculpt-modal {
  max-width: 600px;
  max-height: 80vh;
  border-radius: var(--radius-l);
  padding: var(--size-4-4);
  background-color: var(--background-primary);
  box-shadow: var(--shadow-l);
}

.systemsculpt-modal-button-container {
  display: flex;
  justify-content: flex-end;
  gap: var(--size-4-2);
  margin-top: var(--size-4-4);
}

.systemsculpt-modal-button-container button {
  padding: var(--size-4-1) var(--size-4-3);
  border-radius: var(--radius-s);
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
  transition: all 0.15s ease-in-out;
}

.systemsculpt-modal-button-container button.systemsculpt-mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-modal-button-container button:hover {
  opacity: 0.9;
  transform: translateY(-1px);
}

.systemsculpt-modal-button-container button:not(.systemsculpt-mod-cta) {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-modal-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 16px;
}

.systemsculpt-modal-buttons button {
  padding: 8px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
}

.systemsculpt-modal-buttons button.systemsculpt-mod-warning {
  background-color: var(--background-modifier-error);
  border: 1px solid var(--background-modifier-error);
  color: var(--text-on-accent);
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status-content {
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form {
  display: flex;
  flex-direction: column;
  gap: 14px;
  overflow: visible;
  padding: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 2px;
  padding-top: 10px;
  border-top: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header h2 {
  margin: 0;
  font-size: 1.3em;
  color: var(--text-normal);
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-presets {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 12px;
}

.systemsculpt-recorder-modal.systemsculpt-dragging {
  opacity: 0.9;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  select {
  padding: 6px 10px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 0.9em;
  width: 100%;
  height: 32px;
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  select:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  select {
  padding-right: 24px;
  appearance: none;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>');
  background-repeat: no-repeat;
  background-position: right 6px center;
  background-size: 16px;
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-preset-buttons {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-presets
  label {
  color: var(--text-normal);
  font-weight: 500;
  font-size: 0.9em;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-back {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 4px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  cursor: pointer;
  font-size: 0.85em;
  transition: all 0.2s ease;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-back:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form {
  display: flex;
  flex-direction: column;
  gap: 14px;
  overflow: visible;
  padding: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 2px;
  padding-top: 10px;
  border-top: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header h2 {
  margin: 0;
  font-size: 1.3em;
  color: var(--text-normal);
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-presets {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 12px;
}

.systemsculpt-recorder-modal.systemsculpt-dragging {
  opacity: 0.9;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
}

.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  input,
.systemsculpt-custom-provider-modal
  .systemsculpt-custom-provider-form-group
  select {
  padding: 6px 10px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 0.9em;
  width: 100%;
  height: 32px;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-presets {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 12px;
}

.systemsculpt-template-modal {
  max-width: 800px;
  width: 90vw;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-header h2 {
  margin: 0;
  font-size: 1.3em;
  color: var(--text-normal);
}

.systemsculpt-audio-transcription-modal .systemsculpt-progress-status-text {
  color: var(--text-muted);
}

.systemsculpt-chat-modal {
   max-width: min(800px, 95vw);
   max-height: 80vh;
   width: 100%;
   display: flex;
   flex-direction: column;
   gap: 12px;
   padding: 16px !important;
   box-sizing: border-box;
   margin: 0 auto;
   align-items: center;
   background-color: var(--background-primary);
}

.systemsculpt-text-modification-modal {
   width: 80vw;
   height: 80vh;
   max-width: 1200px;
   max-height: 800px;
}

.systemsculpt-extension-container .systemsculpt-extension-badge {
  display: inline-flex;
  align-items: center;
  padding: 2px 4px;
  margin-left: 4px;
  border-radius: 4px;
  font-size: 0.7em;
  background-color: var(--background-modifier-border);
  border: 1px solid var(--background-modifier-border);
}

/* Embedding-related styles have been moved to components/embeddings.css */


/* Hover preview tooltip */
.systemsculpt-hover-preview {
  position: absolute;
  z-index: 1000;
  max-width: 400px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 8px 12px;
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.15);
  font-size: 0.9em;
  max-height: 300px;
  overflow-y: auto;
  pointer-events: none;
}



/* inputs.css */
/**
 * Input Components
 *
 * Styles for form inputs, textareas, and related form elements
 */


.systemsculpt-chat-search input {
  width: 100%;
  padding: 12px 16px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 1em;
  transition: all 0.2s ease;
}

.systemsculpt-chat-search input:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.systemsculpt-chat-input.disabled {
  background-color: var(--background-modifier-form-field);
  border-color: var(--background-modifier-border);
  color: var(--text-muted);
  cursor: not-allowed;
}

.systemsculpt-chat-input.disabled {
  background-color: var(--background-modifier-form-field);
  border-color: var(--background-modifier-border);
  color: var(--text-muted);
  cursor: not-allowed;
}

.systemsculpt-textarea:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-chat-input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  background-color: var(--background-primary);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-chat-input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.systemsculpt-input-action-button.disabled:hover {
  background-color: var(--background-modifier-form-field);
  transform: none;
}

.systemsculpt-input-action-button.disabled:hover {
  background-color: transparent;
}


.systemsculpt-custom-input::placeholder {
  color: var(--text-muted);
}

.systemsculpt-textarea-modal {
  max-width: 800px;
  width: 90vw;
}

.systemsculpt-custom-input {
  width: 100%;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 14px;
  line-height: 1.4;
  transition: all 0.2s ease;
}

.systemsculpt-custom-input-container {
  position: relative;
  width: 100%;
}

.systemsculpt-custom-input::placeholder {
  color: var(--text-muted);
}

.systemsculpt-custom-input:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-input-action-button.disabled {
  background-color: var(--background-modifier-form-field);
  border-color: var(--background-modifier-border);
  color: var(--text-muted);
  cursor: not-allowed;
  transform: none;
}

.systemsculpt-input-action-button.disabled {
  opacity: 0.5;
  cursor: not-allowed;
  filter: grayscale(100%);
}

.systemsculpt-input-action-button.disabled:hover {
  background-color: var(--background-modifier-form-field);
  transform: none;
}

.systemsculpt-input-action-button.disabled:hover {
  background-color: transparent;
}

.systemsculpt-input-container {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 8px;
  background-color: var(--background-primary);
  border-top: 1px solid var(--background-modifier-border);
  position: relative;
}

.systemsculpt-input-container.disabled .systemsculpt-button-group-divider {
  opacity: 0.2;
}

.systemsculpt-input-container.disabled .systemsculpt-button-group-divider {
  opacity: 0.5;
}

.systemsculpt-model-search input {
  width: 100%;
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  font-size: 14px;
  box-sizing: border-box;
}

.systemsculpt-providers-button {
  box-sizing: border-box !important;
  height: 32px !important;
  min-height: 32px !important;
  max-height: 32px !important;
  padding: 0 12px !important;
  border-radius: 4px;
  background-color: var(--background-secondary-alt) !important;
  border: 1px solid var(--background-modifier-border);
  font-size: 13px;
  color: var(--text-normal);
  line-height: 30px !important;
  transition: all 0.2s ease;
}

.systemsculpt-textarea-container {
  position: relative;
  width: 100%;
  height: 300px;
  display: flex;
  flex-direction: column;
}

.systemsculpt-custom-input-container {
  position: relative;
  width: 100%;
}

.systemsculpt-prompt-creation-title-input::placeholder {
  color: var(--text-muted);
}

.systemsculpt-input-action-button:hover {
  background-color: var(--background-modifier-hover);
  transform: translateY(-1px);
}

.systemsculpt-prompt-creation-title-input:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-text-modification-modal .systemsculpt-input-section,
.systemsculpt-text-modification-modal .systemsculpt-preview-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-custom-input:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-input-action-button:active {
  transform: translateY(0);
}

.systemsculpt-input-action-button {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 8px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary-alt);
  color: var(--text-normal);
  cursor: pointer;
  transition: all 0.2s ease;
  width: 36px;
  height: 36px;
}

.systemsculpt-input-action-button.active {
  background-color: var(--background-modifier-hover);
  color: var(--text-accent);
}

.systemsculpt-input-action-button.active:not(.disabled),
.systemsculpt-input-action-button.systemsculpt-is-enabled:not(.disabled) {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

/* Recording button styles */
.systemsculpt-button-grid button[aria-label="Record audio message"].ss-active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  animation: mic-pulse 2s infinite;
}

@keyframes mic-pulse {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(0.95);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.systemsculpt-input-action-button.active:not(.disabled),
.systemsculpt-input-action-button.systemsculpt-is-enabled:not(.disabled) {
  color: var(--text-accent);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-input-action-button.disabled {
  background-color: var(--background-modifier-form-field);
  border-color: var(--background-modifier-border);
  color: var(--text-muted);
  cursor: not-allowed;
  transform: none;
}

.systemsculpt-input-action-button.disabled {
  opacity: 0.5;
  cursor: not-allowed;
  filter: grayscale(100%);
}

.systemsculpt-input-action-button.disabled:hover {
  background-color: var(--background-modifier-form-field);
  transform: none;
}

.systemsculpt-input-action-button.disabled:hover {
  background-color: transparent;
}

.systemsculpt-input-action-button:active {
  transform: translateY(0);
}

.systemsculpt-input-action-button:hover {
  background-color: var(--background-modifier-hover);
  transform: translateY(-1px);
}

.systemsculpt-input-action-button.active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-context-search input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-input-action-button.active {
  background-color: var(--background-modifier-hover);
  color: var(--text-accent);
}

.systemsculpt-input-action-button.active:not(.disabled),
.systemsculpt-input-action-button.systemsculpt-is-enabled:not(.disabled) {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-input-action-button.active:not(.disabled),
.systemsculpt-input-action-button.systemsculpt-is-enabled:not(.disabled) {
  color: var(--text-accent);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-input-action-button.active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-input-action-button.systemsculpt-is-enabled:not(.disabled) {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-input-action-button.systemsculpt-is-enabled:not(.disabled) {
  color: var(--text-accent);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-license-container .systemsculpt-setting-item-control input {
  flex: 1;
}

.systemsculpt-textarea {
  flex-grow: 1;
  resize: none;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-family: var(--font-text);
  line-height: 1.5;
}

.systemsculpt-textarea {
  width: 100%;
  flex-grow: 1;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 14px;
  line-height: 1.6;
  resize: none;
  transition: all 0.2s ease;
  overflow-y: auto;
}

.systemsculpt-textarea-container {
  position: relative;
  width: 100%;
  height: 300px;
  display: flex;
  flex-direction: column;
}

.systemsculpt-textarea-modal {
  max-width: 800px;
  width: 90vw;
}

.systemsculpt-textarea:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-chat-input {
  flex-grow: 1;
  resize: none;
  min-height: 40px;
  max-height: 150px;
  padding: 0.5rem;
  margin-right: 0.25rem;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 16px;
  line-height: 1.4;
  transition: all 0.2s ease;
}

.systemsculpt-chat-input {
  flex-grow: 1;
  resize: none;
  min-height: 40px;
  max-height: 150px;
  padding: 12px 16px;
  margin: 0;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 15px;
  line-height: 1.5;
  transition: all 0.2s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.systemsculpt-chat-input.disabled {
  background-color: var(--background-modifier-form-field);
  border-color: var(--background-modifier-border);
  color: var(--text-muted);
  cursor: not-allowed;
}

.systemsculpt-chat-input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  background-color: var(--background-primary);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-chat-input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.systemsculpt-chat-input.disabled {
  background-color: var(--background-modifier-form-field);
  border-color: var(--background-modifier-border);
  color: var(--text-muted);
  cursor: not-allowed;
}

.systemsculpt-chat-search input:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.systemsculpt-context-search input {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  font-size: 16px;
  transition: all 0.2s ease;
}

.systemsculpt-context-search input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}



.systemsculpt-providers-button {
  box-sizing: border-box !important;
  height: 32px !important;
  min-height: 32px !important;
  max-height: 32px !important;
  padding: 0 12px !important;
  border-radius: 4px;
  background-color: var(--background-secondary-alt) !important;
  border: 1px solid var(--background-modifier-border);
  font-size: 13px;
  color: var(--text-normal);
  line-height: 30px !important;
  transition: all 0.2s ease;
}


.systemsculpt-prompt-creation-title-input::placeholder {
  color: var(--text-muted);
}

.systemsculpt-prompt-creation-title-input {
  width: 100%;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 14px;
  line-height: 1.4;
  transition: all 0.2s ease;
}

.systemsculpt-prompt-creation-title-input:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-input-container.disabled .systemsculpt-button-group-divider {
  opacity: 0.2;
}

.systemsculpt-input-container.disabled .systemsculpt-button-group-divider {
  opacity: 0.5;
}

.systemsculpt-input-action-button.active:not(.disabled),
.systemsculpt-input-action-button.systemsculpt-is-enabled:not(.disabled) {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-input-action-button.active:not(.disabled),
.systemsculpt-input-action-button.systemsculpt-is-enabled:not(.disabled) {
  color: var(--text-accent);
  background-color: var(--background-modifier-hover);
}

/*
  Input action button styles removed - Now using ss-button component classes
  The systemsculpt-input-action-button class has been replaced with ss-button classes in the code
*/
/* Make input handler buttons show pointer cursor on hover */
.systemsculpt-button-grid button:hover {
  cursor: pointer;
}



/* loaders.css */
/**
 * Loader Components
 * 
 * Styles for loaders, spinners, and loading indicators
 */

/* Core spinner animation - this is the standard animation for all spinners */
@keyframes ss-spin {
  to {
    transform: rotate(360deg);
  }
}

/* Core loader styles */
.systemsculpt-loader {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: 0.5em;
}

.systemsculpt-loader svg {
  animation: ss-spin 1s linear infinite;
  width: 1em;
  height: 1em;
}

.systemsculpt-loader-container {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1em;
}

/* Message content wrappers for streaming responses */
.systemsculpt-content-wrapper {
  flex: 1;
  width: 100%;
}

.systemsculpt-indicator-container {
  position: relative;
  display: block;
  margin-top: 8px;
  pointer-events: none;
}

/* Terminal-style block loading indicator */
.systemsculpt-streaming-status {
  display: inline-block;
  font-family: monospace;
  font-size: 1em;
  color: var(--text-muted);
  margin-left: 0.5em;
  min-width: 1ch;
  line-height: 1;
}

@keyframes block-cycle {
  0%   { content: "█"; }
  25%  { content: "▓"; }
  50%  { content: "▒"; }
  75%  { content: "░"; }
  100% { content: "█"; }
}

.systemsculpt-streaming-status::after {
  content: "█";
  animation: block-cycle 0.8s steps(4) infinite;
}

/* Preview loading styles */
.systemsculpt-preview-loading {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  text-align: center;
  padding: 16px;
  min-height: 200px;
  position: absolute;
  inset: 0;
  background: var(--background-primary);
  z-index: 1;
}

.systemsculpt-preview-loading svg {
  width: 32px;
  height: 32px;
  animation: ss-spin 1s linear infinite;
}

/* Standard loading spinner */
.systemsculpt-loading-spinner {
  display: inline-flex;
  color: var(--text-muted);
}

.systemsculpt-loading-spinner svg {
  width: 1em;
  height: 1em;
  animation: ss-spin 1s linear infinite;
}

/* Loading text container */
.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 32px;
  width: 100%;
  height: 100%;
  min-height: 200px;
}

.systemsculpt-loading-text {
  color: var(--text-muted);
  font-size: 14px;
}

/* Standard inline loading state */
.systemsculpt-loading {
  display: inline-flex;
  align-items: center;
  color: var(--text-muted);
  position: relative;
  padding-left: 1.5em;
}

.systemsculpt-loading::before {
  content: "";
  position: absolute;
  left: 0;
  width: 1em;
  height: 1em;
  border: 2px solid currentColor;
  border-radius: 50%;
  border-right-color: transparent;
  animation: ss-spin 0.8s linear infinite;
}

/* Button loading states have been moved to ss-buttons.css */
/* Use .ss-button.ss-loading instead */

.systemsculpt-progress-spinner {
  animation: ss-spin 2s linear infinite;
}

.systemsculpt-preview-loading svg {
  width: 32px;
  height: 32px;
  animation: ss-spin 1s linear infinite;
}

.systemsculpt-ss-button.systemsculpt-is-loading {
  position: relative;
  color: transparent;
}

.systemsculpt-ss-button.systemsculpt-is-loading::after {
  content: "";
  position: absolute;
  width: 16px;
  height: 16px;
  border: 2px solid rgb(255, 255, 255);
  border-radius: 50%;
  border-top-color: currentColor;
  animation: ss-loading-spin 0.8s linear infinite;
  opacity: 1;
}

.systemsculpt-credit-balance.systemsculpt-loading {
  position: relative;
  color: transparent;
}

.systemsculpt-credit-balance.systemsculpt-loading::after {
  content: "";
  position: absolute;
  left: 8px;
  top: 50%;
  width: 12px;
  height: 12px;
  border: 2px solid var(--text-muted);
  border-radius: 50%;
  border-top-color: transparent;
  animation: token-loading 0.6s linear infinite;
}

.systemsculpt-content-container.systemsculpt-loading {
  opacity: 1;
  pointer-events: none;
}

.systemsculpt-context-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 32px;
  color: var(--text-muted);
}

.systemsculpt-context-loading svg {
  width: 24px;
  height: 24px;
  animation: ss-spin 1s linear infinite;
}

.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  gap: 1rem;
}

.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 32px;
  width: 100%;
  height: 100%;
  min-height: 200px;
}

.systemsculpt-loading-container svg {
  animation: ss-spin 1s linear infinite;
  width: 1.5em;
  height: 1.5em;
  margin-right: 0.5em;
}

.systemsculpt-loading-text {
  color: var(--text-muted);
  font-size: 14px;
}

.systemsculpt-loading-text {
  color: var(--text-muted);
  font-size: 14px;
}

.systemsculpt-context-loading svg {
  width: 24px;
  height: 24px;
  animation: ss-spin 1s linear infinite;
}

.systemsculpt-loading {
  opacity: 1;
  pointer-events: none;
}

.systemsculpt-loading {
  position: relative;
  color: transparent;
}

.systemsculpt-loading::after {
  content: "";
  position: absolute;
  left: 8px;
  top: 50%;
  width: 12px;
  height: 12px;
  border: 2px solid var(--text-muted);
  border-radius: 50%;
  border-top-color: transparent;
  animation: token-loading 0.6s linear infinite;
}

.systemsculpt-loading {
  display: inline;
  position: relative;
  margin-left: 0.1rem;
  margin-right: 0.1rem;
  margin-top: 0.15rem;
  animation: pulse 1.5s infinite;
  color: var(--text-accent);
  font-size: 0.8em;
  line-height: inherit;
  vertical-align: baseline;
  user-select: none;
}

.systemsculpt-loading {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
  color: var(--text-muted);
  font-size: 14px;
}

.systemsculpt-loading .systemsculpt-lucide-loader-2 {
  animation: ss-spin 1s linear infinite;
}

.systemsculpt-loading-animation {
  font-size: 24px;
  animation: pulse 1.5s infinite;
  color: var(--text-accent);
}

.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  gap: 1rem;
}

.systemsculpt-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 32px;
  width: 100%;
  height: 100%;
  min-height: 200px;
}

.systemsculpt-loading-spinner {
  color: var(--text-muted);
  animation: ss-spin 2s linear infinite;
}

.systemsculpt-loading-spinner svg {
  width: 32px;
  height: 32px;
}

.systemsculpt-loading-text {
  color: var(--text-muted);
  font-size: 14px;
}

.systemsculpt-loading-text {
  color: var(--text-muted);
  font-size: 14px;
}

/* Spinner animation optimization - Apply transform-origin to center */
.systemsculpt-loader svg,
.systemsculpt-loading-spinner svg,
.systemsculpt-preview-loading svg,
.systemsculpt-context-loading svg,
.systemsculpt-loading::before,
.systemsculpt-ss-button.systemsculpt-is-loading::after,
.systemsculpt-loading .systemsculpt-lucide-loader-2 {
  transform-origin: center center;
}



/* load-chat.css */
/* Load Chat Modal Styles */


/* Style the SearchComponent's input to mimic OmniSearch */
.systemsculpt-load-chat-modal .search-input-container input.search-input {
  flex: 1;
  border: none !important; /* Override default Obsidian styles */
  background: transparent !important; /* Override default Obsidian styles */
  font-size: 15px; /* Slightly smaller than OmniSearch for balance */
  color: var(--text-normal);
  padding: 6px 0 !important; /* Override default Obsidian styles */
  height: auto !important; /* Override default Obsidian styles */
  box-shadow: none !important; /* Override default Obsidian styles */
  outline: none !important; /* Override default Obsidian styles */
}

/* Hide the default magnifying glass icon from Obsidian's SearchComponent */
.systemsculpt-load-chat-modal .search-input-container .search-icon {
  display: none !important;
}

/* Adjust flex grow for the input container if SearchComponent wraps it */
.systemsculpt-load-chat-modal .search-input-container {
  flex-grow: 1;
  display: flex; /* Ensure input inside also behaves with flex */
}

.systemsculpt-chat-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-height: 70vh;
  overflow-y: auto;
  padding: 0 4px;
  margin-bottom: 16px;
}

.systemsculpt-section-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
  padding: 4px 8px;
  border-bottom: 1px solid var(--background-modifier-border);
  font-size: 14px;
  color: var(--text-accent);
  font-weight: 600;
}

.systemsculpt-section-icon {
  color: var(--text-accent);
}

.systemsculpt-section-title {
  font-weight: bold;
  font-size: 1rem;
}

.systemsculpt-chat-card {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  border-radius: 6px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  position: relative;
  cursor: pointer;
  transition: all 0.2s ease;
}

.systemsculpt-chat-card:hover {
  background-color: var(--background-secondary-alt);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-chat-card.is-selected {
  background-color: var(--background-modifier-hover);
  border-color: var(--text-accent);
}

.systemsculpt-favorite-button {
  position: absolute;
  top: 10px;
  left: 10px;
}

.systemsculpt-favorite-button .svg-icon {
  color: var(--text-faint);
}

.systemsculpt-favorite-button:hover .svg-icon {
  color: var(--text-accent);
}

.systemsculpt-badge-container {
  display: flex;
  gap: 8px;
  margin-left: 40px;
  flex-wrap: wrap;
}

.systemsculpt-model-badge,
.systemsculpt-context-badge,
.systemsculpt-prompt-badge {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.8rem;
  background-color: var(--background-modifier-border);
  color: var(--text-muted);
}

.systemsculpt-model-badge .svg-icon,
.systemsculpt-context-badge .svg-icon,
.systemsculpt-prompt-badge .svg-icon {
  width: 14px;
  height: 14px;
}

.systemsculpt-chat-preview {
  margin-top: 4px;
  font-size: 0.9rem;
  color: var(--text-normal);
  line-height: 1.4;
  max-height: 80px;
  overflow: hidden;
  text-overflow: ellipsis;
  position: relative;
}

.systemsculpt-chat-preview::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 20px;
  background: linear-gradient(var(--background-secondary), var(--background-secondary));
  pointer-events: none;
}

.systemsculpt-chat-card:hover .systemsculpt-chat-preview::after {
  background: linear-gradient(var(--background-secondary-alt), var(--background-secondary-alt));
}

.systemsculpt-chat-card.is-selected .systemsculpt-chat-preview::after {
  background: linear-gradient(var(--background-modifier-hover), var(--background-modifier-hover));
}

.systemsculpt-preview-message {
  white-space: pre-wrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-chat-meta {
  display: flex;
  justify-content: space-between;
  color: var(--text-muted);
  font-size: 0.8rem;
  margin-top: 8px;
}

.systemsculpt-chat-actions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
  padding-top: 8px;
  border-top: 1px solid var(--background-modifier-border);
}

.systemsculpt-chat-actions .clickable-icon {
  padding: 6px;
  border-radius: 4px;
}

.systemsculpt-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 40px 20px;
  text-align: center;
  color: var(--text-muted);
}

.systemsculpt-empty-state .svg-icon {
  width: 48px;
  height: 48px;
  opacity: 1;
}

/* --- Modal List Item Styles --- */

.systemsculpt-modal-list-item {
  padding: var(--size-4-2) var(--size-4-3);
  margin-bottom: var(--size-4-2);
  border-radius: var(--radius-s);
  cursor: pointer;
  border: 1px solid transparent;
  transition: all 0.2s ease;
  background-color: var(--background-secondary);
  display: flex;
}

.systemsculpt-modal-list-item:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-modal-list-item.is-selected {
  background-color: var(--background-modifier-hover);
  border-color: var(--text-accent);
}

/* When an item is favorited, add visual distinction */
.systemsculpt-modal-list-item[data-favorite="true"] {
  /* border-left: 3px solid var(--color-yellow); */ /* Existing border for favorite */
  background-color: rgb(255, 217, 0);
}

.systemsculpt-modal-list-item-content {
  flex: 1;
  margin-left: 4px;
  overflow: hidden;
}

.systemsculpt-modal-list-item-title {
  font-weight: 600;
  margin-bottom: 4px;
  color: var(--text-normal);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 14px;
  line-height: 1.4;
  padding-right: 8px;
}

.systemsculpt-modal-list-item-preview {
  margin-bottom: 8px;
  font-size: 13px;
  color: var(--text-muted);
  line-height: 1.4;
  max-height: 3.5em;
  overflow: hidden;
  position: relative;
}

.systemsculpt-modal-list-item-preview::after {
  content: "";
  position: absolute;
  bottom: 0;
  right: 0;
  width: 30%;
  height: 1.4em;
  background: linear-gradient(to right, transparent, var(--background-secondary));
  pointer-events: none;
}

.systemsculpt-modal-list-item:hover .systemsculpt-modal-list-item-preview::after {
  background: linear-gradient(to right, transparent, var(--background-modifier-hover));
}

.systemsculpt-modal-list-item.is-selected .systemsculpt-modal-list-item-preview::after {
  background: linear-gradient(to right, transparent, var(--background-modifier-hover));
}

.systemsculpt-modal-message {
  margin-bottom: 4px;
  line-height: 1.4;
  font-size: 13px;
}

.systemsculpt-modal-list-item-meta {
  display: flex;
  justify-content: space-between;
  color: var(--text-faint);
  font-size: 0.75rem;
  margin-top: 4px;
}

.systemsculpt-modal-list-item-date,
.systemsculpt-modal-list-item-count {
  white-space: nowrap;
}

.systemsculpt-modal-empty-state {
  text-align: center;
  padding: 32px 24px;
  color: var(--text-muted);
  font-size: 14px;
}


/* Favorites UI Enhancements */
.systemsculpt-chat-favorite {
  display: flex;
  align-items: flex-start;
  justify-content: center;
  margin-right: 8px;
  margin-top: 4px;
}

.systemsculpt-modal-list-item[data-favorite="true"] {
  /* border-left: 3px solid var(--color-yellow); */ /* Existing border for favorite */
  background-color: rgb(255, 217, 0);
}

.systemsculpt-modal-list-item[data-favorite="true"]:hover {
  background-color: rgb(255, 217, 0);
  /* border-color: var(--color-yellow-hover); */
}

.systemsculpt-modal-list-item[data-favorite="true"].is-selected {
  /* border-color: var(--color-yellow); */
  background-color: rgba(var(--interactive-accent-rgb), 0.1);
}

/* Dark theme adjustments */
.theme-dark .systemsculpt-modal-list-item[data-favorite="true"] {
  /* border-left-color: var(--color-yellow); */
  background-color: rgb(255, 217, 0);
}

.theme-dark .systemsculpt-modal-list-item[data-favorite="true"]:hover {
  background-color: rgb(255, 217, 0);
  /* border-left-color: var(--color-yellow-hover); */
}

/* Responsive styles */
@media (max-width: 768px) {
  .systemsculpt-modal-list-item-meta {
    flex-direction: column;
    gap: 4px;
  }
  
  .systemsculpt-chat-favorite {
    margin-top: 2px;
  }
}

/* --- New Load Chat Modal Styles --- */

/* Basic Modal Structure */
.systemsculpt-load-chat-modal-new .modal-content {
    display: flex;
    flex-direction: column;
    height: 70vh; /* Adjust height as needed */
    padding: 0; /* Remove default padding if standard modal adds it */
}

.systemsculpt-load-chat-modal-new h2 {
    padding: var(--size-4-3) var(--size-4-6);
    margin: 0;
    border-bottom: 1px solid var(--background-modifier-border);
    font-size: var(--font-ui-large);
}

/* Search Container */
.systemsculpt-modal-search-container {
    padding: var(--size-4-3) var(--size-4-6);
    border-bottom: 1px solid var(--background-modifier-border);
    width: 100%;
    box-sizing: border-box;
}

.systemsculpt-modal-search-input {
    width: 100%;
    padding: var(--size-4-2) var(--size-4-3);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--radius-s);
    background-color: var(--background-secondary);
    box-sizing: border-box;
}

/* List Container */
.systemsculpt-modal-list-container {
    flex-grow: 1;
    overflow-y: auto;
    padding: var(--size-4-3) var(--size-4-6);
}

/* Section Header */
.systemsculpt-modal-section-header {
    font-size: 1.1rem;
    margin: 0 0 var(--size-4-2) 0;
    padding-bottom: var(--size-4-1);
    border-bottom: 1px solid var(--background-modifier-border);
    color: var(--text-accent);
    text-transform: uppercase;
    font-weight: 600;
    letter-spacing: 0.5px;
}

/* Chat List Item */
.systemsculpt-modal-list-item {
    padding: var(--size-4-2) var(--size-4-3);
    margin-bottom: var(--size-4-2);
    border-radius: var(--radius-s);
    cursor: pointer;
    border: 1px solid transparent; /* For selection border */
    transition: background-color 0.1s ease-in-out;
    background-color: var(--background-secondary);
}

.systemsculpt-modal-list-item:hover {
    background-color: var(--background-modifier-hover);
}

.systemsculpt-modal-list-item.is-selected {
    background-color: var(--background-modifier-active);
    border-color: var(--interactive-accent);
}

/* Title */
.systemsculpt-modal-list-item-title {
    font-weight: 500;
    margin-bottom: var(--size-4-1);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-size: 1.1em;
}

/* Preview */
.systemsculpt-modal-list-item-preview {
    margin-bottom: var(--size-4-1);
    font-size: 0.9em;
    color: var(--text-muted);
    max-height: 100px;
    overflow: hidden;
    position: relative;
}

/* Message (inside preview) */
.systemsculpt-modal-message {
    margin-bottom: var(--size-4-1);
    white-space: pre-wrap;
    word-break: break-word;
}

/* Metadata */
.systemsculpt-modal-list-item-meta {
    display: flex;
    justify-content: space-between;
    color: var(--text-muted);
    font-size: 0.8em;
}

.systemsculpt-modal-list-item-date,
.systemsculpt-modal-list-item-count {
    opacity: 0.8;
}

/* Empty State */
.systemsculpt-modal-empty-state {
    text-align: center;
    padding: var(--size-4-8);
    color: var(--text-faint);
}

/* Footer */
.systemsculpt-modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: var(--size-4-3);
    padding: var(--size-4-3) var(--size-4-6);
    border-top: 1px solid var(--background-modifier-border);
    background-color: var(--background-secondary);
}

/* Buttons */
.systemsculpt-modal-button {
    padding: var(--size-4-1) var(--size-4-3);
    border-radius: var(--radius-s);
    font-size: var(--font-ui-small);
    cursor: pointer;
    background-color: var(--interactive-normal);
    color: var(--text-normal);
    border: 1px solid var(--background-modifier-border);
}

.systemsculpt-modal-button:hover {
    background-color: var(--interactive-hover);
}

.systemsculpt-modal-button:active {
    background-color: var(--interactive-accent);
    color: var(--text-on-accent);
}

.systemsculpt-modal-button:disabled {
    background-color: var(--background-modifier-form-field);
    color: var(--text-faint);
    cursor: not-allowed;
    opacity: 1;
}

.systemsculpt-modal-button.mod-cta {
    background-color: var(--interactive-accent);
    color: var(--text-on-accent);
}

.systemsculpt-modal-button.mod-cta:hover {
    background-color: var(--interactive-accent-hover);
}

.systemsculpt-modal-button.mod-cancel {
    background-color: transparent;
}


/* Responsive Adjustments */
@media (max-width: 768px) {
    .systemsculpt-modal-list-item-meta {
        flex-direction: column;
        gap: var(--size-4-1);
    }
}

.systemsculpt-modal-list-item-date,
.systemsculpt-modal-list-item-tokens {
  color: var(--text-muted);
  opacity: 1;
} 

/* system-search.css */
/**
 * System Search Modal Styles
 * 
 * Minimal styling that extends the StandardModal system.
 * Uses ss-modal classes and components for consistency.
 */

/* Notice styles for embeddings info */
.ss-notice {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  margin-bottom: 16px;
  border-radius: 6px;
  font-size: 13px;
  line-height: 1.4;
}

.ss-notice--info {
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
}

.ss-notice__content {
  flex: 1;
}

.ss-link {
  color: var(--interactive-accent);
  text-decoration: none;
  font-weight: 500;
}

.ss-link:hover {
  text-decoration: underline;
}

/* List header styles */
.ss-modal__list-header {
  padding: 12px 16px;
  border-bottom: 1px solid var(--background-modifier-border);
  margin-bottom: 8px;
}

.ss-modal__list-header h4 {
  margin: 0 0 4px 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-normal);
}

.ss-modal__list-subtitle {
  font-size: 12px;
  color: var(--text-muted);
}

/* Clickable item modifier */
.ss-modal__item--clickable {
  cursor: pointer;
}

.ss-modal__item--clickable:hover {
  background-color: var(--background-modifier-hover);
}

/* Search highlighting */
.ss-highlight {
  background-color: var(--text-highlight-bg);
  color: var(--text-normal);
  border-radius: 2px;
  padding: 0 2px;
  font-weight: 600;
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .ss-modal__list-header {
    padding: 8px 12px;
  }
  
  .ss-notice {
    font-size: 12px;
    padding: 8px 12px;
  }
}

/* tooltips.css */
/**
 * Tooltip Components
 * 
 * Styles for tooltips, popovers, and help text
 */

.systemsculpt-model-description.systemsculpt-has-tooltip {
  cursor: help;
}

.systemsculpt-has-tooltip {
  cursor: help;
}

.systemsculpt-has-tooltip {
  cursor: help;
}



/* checkboxes.css */
/**
 * Checkbox styles for SystemSculpt
 * 
 * This file contains styles for custom checkboxes that match Obsidian's design system.
 */

/* Custom checkbox container */
.systemsculpt-checkbox-container {
  display: flex;
  align-items: center;
  position: relative;
  padding-left: 28px;
  margin-bottom: 8px;
  cursor: pointer;
  user-select: none;
}

/* Hide the browser's default checkbox */
.systemsculpt-checkbox-container input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

/* Create a custom checkbox */
.systemsculpt-checkbox {
  position: absolute;
  top: 0;
  left: 0;
  height: 18px;
  width: 18px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 3px;
  transition: all 0.2s ease;
}

/* On mouse-over, add a background color */
.systemsculpt-checkbox-container:hover input ~ .systemsculpt-checkbox {
  background-color: var(--background-secondary);
}

/* When the checkbox is checked, add accent background */
.systemsculpt-checkbox-container input:checked ~ .systemsculpt-checkbox {
  background-color: var(--interactive-accent);
  border-color: var(--interactive-accent);
}

/* Create the checkmark/indicator (hidden when not checked) */
.systemsculpt-checkbox:after {
  content: "";
  position: absolute;
  display: none;
}

/* Show the checkmark when checked */
.systemsculpt-checkbox-container input:checked ~ .systemsculpt-checkbox:after {
  display: block;
}

/* Style the checkmark/indicator */
.systemsculpt-checkbox-container .systemsculpt-checkbox:after {
  left: 6px;
  top: 2px;
  width: 5px;
  height: 10px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

/* Disabled state */
.systemsculpt-checkbox-container.disabled {
  opacity: 1;
  cursor: not-allowed;
}

.systemsculpt-checkbox-container.disabled input ~ .systemsculpt-checkbox {
  background-color: var(--background-secondary);
  border-color: var(--background-modifier-border);
}

/* Toggle switch variant */
.systemsculpt-toggle {
  position: relative;
  display: inline-block;
  width: 36px;
  height: 20px;
}

.systemsculpt-toggle input {
  opacity: 0;
  width: 0;
  height: 0;
}

.systemsculpt-toggle-slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--background-modifier-border);
  transition: .4s;
  border-radius: 34px;
}

.systemsculpt-toggle-slider:before {
  position: absolute;
  content: "";
  height: 16px;
  width: 16px;
  left: 2px;
  bottom: 2px;
  background-color: var(--background-primary);
  transition: .4s;
  border-radius: 50%;
}

.systemsculpt-toggle input:checked + .systemsculpt-toggle-slider {
  background-color: var(--interactive-accent);
}

.systemsculpt-toggle input:checked + .systemsculpt-toggle-slider:before {
  transform: translateX(16px);
}


/* setup.css */
/* Setup Tab Styles */

.systemsculpt-setup-settings {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.systemsculpt-api-connection-section,
.systemsculpt-license-section {
  display: flex;
  flex-direction: column;
  gap: 0;
}

/* Reset margins and control spacing manually for precise control */
.systemsculpt-api-connection-section h3,
.systemsculpt-license-section h3 {
  margin: 0 0 var(--size-4-3) 0;
}

.systemsculpt-api-connection-section p,
.systemsculpt-license-section p {
  margin: 0;
}

.systemsculpt-api-connection-section .systemsculpt-setup-section-description {
  margin-bottom: var(--size-4-3);
}


.settings-section-divider {
  border: none;
  border-top: 1px solid var(--background-modifier-border);
  margin: 16px 0;
}



.systemsculpt-one-click-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.one-click-button {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: 100px;
  height: 90px;
  border-radius: 8px;
  background-color: var(--background-primary);
  border: 2px solid var(--background-modifier-border);
  color: var(--text-normal);
  font-size: 0.85em;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  padding: 12px 8px;
  position: relative;
  overflow: hidden;
  text-align: center;
}

.one-click-button:hover {
  transform: translateY(-2px);
  border-color: var(--interactive-accent);
  box-shadow: 0 3px 10px rgb(0, 0, 0);
}

.one-click-button.openai {
  background-color: rgb(16, 163, 127);
  border-color: rgb(16, 163, 127);
  color: #10a37f;
}

.one-click-button.openrouter {
  background-color: rgb(66, 133, 244);
  border-color: rgb(66, 133, 244);
  color: #4285f4;
}

.one-click-button.ollama {
  background-color: rgb(105, 72, 115);
  border-color: rgb(105, 72, 115);
  color: #694873;
}

.one-click-button.lmstudio {
  background-color: rgb(249, 115, 22);
  border-color: rgb(249, 115, 22);
  color: #f97316;
}

.one-click-button.custom {
  background-color: rgb(128, 128, 128);
  border-color: rgb(128, 128, 128);
  width: 110px;
  font-size: 0.8em;
}

.one-click-icon {
  font-size: 1.5em;
  margin-bottom: 2px;
}



.systemsculpt-active-providers-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 8px;
}

.no-providers-message {
  color: var(--text-muted);
  font-style: italic;
  margin: 16px 0;
  text-align: center;
  padding: 20px;
  border: 1px dashed var(--background-modifier-border);
  border-radius: 6px;
}

.provider-card {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  border-radius: 6px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  transition: all 0.2s ease;
}

.provider-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 1px 3px rgb(0, 0, 0);
}

.provider-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.provider-header h5 {
  margin: 0;
  font-size: 0.95em;
  font-weight: 600;
}

.provider-status-container {
  display: flex;
  align-items: center;
  gap: 8px;
}

.provider-status {
  font-size: 0.7em;
  border-radius: 10px;
  padding: 2px 8px;
}

.provider-status.enabled {
  background-color: rgb(50, 205, 50);
  color: rgb(50, 205, 50);
}

.provider-status.disabled {
  background-color: rgb(255, 99, 71);
  color: rgb(255, 99, 71);
}

/* Toggle switch styling */
/* REMOVE START */
/* .provider-toggle {
  position: relative;
  width: 28px;
  height: 16px;
  border-radius: 10px;
  background-color: var(--background-modifier-border);
  cursor: pointer;
  transition: all 0.2s ease;
}

.provider-toggle.is-enabled {
  background-color: var(--interactive-accent);
}

.provider-toggle.testing {
  opacity: 0.6;
  pointer-events: none;
} */
/* REMOVE END */

.provider-details {
  font-size: 0.8em;
  color: var(--text-muted);
  margin-top: 8px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.provider-endpoint {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.provider-api-key {
  display: flex;
  gap: 4px;
}

.masked-api-key {
  font-family: monospace;
  color: var(--text-faint);
}

.provider-last-tested {
  font-size: 0.9em;
  color: var(--text-faint);
  font-style: italic;
}

.provider-actions {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.provider-action-button {
  font-size: 0.75em;
  padding: 4px 8px;
  border-radius: 4px;
  background-color: var(--background-modifier-border);
  color: var(--text-muted);
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
}

.provider-action-button:hover {
  color: var(--text-normal);
}

.provider-action-button.test:hover {
  background-color: rgb(66, 133, 244);
  border-color: var(--color-blue-hover);
}

.provider-action-button.edit:hover {
  background-color: rgb(50, 205, 50);
  border-color: var(--color-green-hover);
}

.provider-action-button.delete:hover {
  background-color: rgb(255, 99, 71);
  border-color: var(--color-red-hover);
}

.provider-action-button.testing {
  opacity: 1;
  pointer-events: none;
}

/* Add Provider Button */
.add-provider-container {
  margin-top: 16px;
  display: flex;
  justify-content: center;
}

.add-provider-button {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 4px;
  background-color: rgba(var(--interactive-accent-rgb), 0.1);
  border: 1px solid rgba(var(--interactive-accent-rgb), 0.2);
  color: var(--interactive-accent);
  cursor: pointer;
  font-size: 0.85em;
  transition: all 0.2s ease;
}

.add-provider-button:hover {
  background-color: rgba(var(--interactive-accent-rgb), 0.2);
  border-color: var(--interactive-accent);
}

/* License section styling */
.license-description {
  margin-bottom: 0;
}

/* Redesigned Pro Promotion Section */
.systemsculpt-pro-promotion-redesigned {
  width: calc(100% + 40px);
  margin-left: -20px;
  margin-right: -20px;
  margin-top: 24px;
  margin-bottom: 24px;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
}

/* Header section with gradient */
.systemsculpt-pro-header-section {
  background: linear-gradient(135deg, 
    rgba(var(--interactive-accent-rgb), 0.1) 0%, 
    rgba(var(--interactive-accent-rgb), 0.05) 100%);
  padding: 32px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-pro-header-content {
  max-width: 800px;
  margin: 0 auto;
  text-align: center;
}

.systemsculpt-pro-title-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  margin-bottom: 16px;
}

.systemsculpt-pro-badge-large {
  display: flex;
  align-items: center;
  gap: 8px;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  padding: 8px 16px;
  border-radius: 20px;
  font-weight: 700;
  font-size: 0.9em;
}

.pro-badge-text {
  letter-spacing: 1px;
}

.systemsculpt-pro-title {
  margin: 0;
  font-size: 1.8em;
  font-weight: 700;
  color: var(--text-normal);
}

.systemsculpt-pro-subtitle {
  margin: 0;
  font-size: 1.1em;
  color: var(--text-muted);
  line-height: 1.6;
}

/* Content section */
.systemsculpt-pro-content-section {
  padding: 32px;
}

/* Features grid */
.systemsculpt-pro-features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-bottom: 40px;
}

.systemsculpt-pro-feature-card {
  background: var(--background-secondary);
  padding: 20px;
  border-radius: 8px;
  text-align: center;
  transition: all 0.3s ease;
  border: 1px solid transparent;
}

.systemsculpt-pro-feature-card:hover {
  transform: translateY(-2px);
  border-color: var(--interactive-accent);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.systemsculpt-pro-feature-icon {
  font-size: 2em;
  margin-bottom: 12px;
}

.systemsculpt-pro-feature-title {
  margin: 0 0 8px 0;
  font-size: 1em;
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-pro-feature-desc {
  margin: 0;
  font-size: 0.85em;
  color: var(--text-muted);
  line-height: 1.4;
}

/* Pricing section */
.systemsculpt-pro-pricing-section {
  margin-top: 40px;
}

.systemsculpt-pro-pricing-title {
  text-align: center;
  margin: 0 0 24px 0;
  font-size: 1.4em;
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-pro-pricing-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 24px;
  max-width: 600px;
  margin: 0 auto;
}

.systemsculpt-pro-pricing-card {
  background: var(--background-secondary);
  border: 2px solid var(--background-modifier-border);
  border-radius: 12px;
  padding: 24px;
  text-align: center;
  position: relative;
  transition: all 0.3s ease;
}

.systemsculpt-pro-pricing-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
}

.systemsculpt-pro-pricing-card.featured {
  border-color: var(--interactive-accent);
  transform: scale(1.05);
}

.systemsculpt-pro-pricing-card.featured:hover {
  transform: scale(1.05) translateY(-4px);
}

.systemsculpt-pro-popular-badge {
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  padding: 4px 16px;
  border-radius: 12px;
  font-size: 0.75em;
  font-weight: 700;
  letter-spacing: 0.5px;
}

.systemsculpt-pro-plan-name {
  margin: 0 0 16px 0;
  font-size: 1.2em;
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-pro-price {
  display: flex;
  align-items: baseline;
  justify-content: center;
  gap: 4px;
  margin-bottom: 12px;
}

.systemsculpt-pro-price .currency {
  font-size: 1.2em;
  color: var(--text-muted);
}

.systemsculpt-pro-price .amount {
  font-size: 2.5em;
  font-weight: 700;
  color: var(--text-normal);
}

.systemsculpt-pro-price .period {
  font-size: 1em;
  color: var(--text-muted);
}

.systemsculpt-pro-plan-desc {
  margin: 0 0 20px 0;
  font-size: 0.9em;
  color: var(--text-muted);
  line-height: 1.4;
}

.systemsculpt-pro-cta-button {
  width: 100%;
  padding: 12px 24px;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border: none;
  border-radius: 6px;
  font-size: 1em;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.systemsculpt-pro-cta-button:hover {
  background: var(--interactive-accent-hover);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(var(--interactive-accent-rgb), 0.3);
}

.systemsculpt-pro-cta-button.featured {
  background: linear-gradient(135deg, 
    var(--interactive-accent) 0%, 
    var(--interactive-accent-hover) 100%);
  box-shadow: 0 4px 16px rgba(var(--interactive-accent-rgb), 0.2);
}

/* Trust section */
.systemsculpt-pro-trust-section {
  margin-top: 32px;
  padding-top: 24px;
  border-top: 1px solid var(--background-modifier-border);
}

.systemsculpt-pro-trust-indicators {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 24px;
}

.systemsculpt-pro-trust-item {
  font-size: 0.9em;
  color: var(--text-muted);
  display: flex;
  align-items: center;
  gap: 4px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .systemsculpt-pro-promotion-redesigned {
    width: calc(100% + 32px);
    margin-left: -16px;
    margin-right: -16px;
  }
  
  .systemsculpt-pro-header-section,
  .systemsculpt-pro-content-section {
    padding: 24px;
  }
  
  .systemsculpt-pro-title {
    font-size: 1.4em;
  }
  
  .systemsculpt-pro-features-grid {
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 16px;
  }
  
  .systemsculpt-pro-pricing-cards {
    grid-template-columns: 1fr;
  }
  
  .systemsculpt-pro-pricing-card.featured {
    transform: scale(1);
  }
  
  .systemsculpt-pro-pricing-card.featured:hover {
    transform: translateY(-4px);
  }
}

/* API Notice Banner Button */
.api-notice-settings-button {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  font-size: 0.8em;
  padding: 4px 8px;
  border-radius: 4px;
  border: none;
  cursor: pointer;
  margin-top: 8px;
  display: block;
  margin-left: auto;
  margin-right: auto;
  transition: background-color 0.2s ease;
}

.api-notice-settings-button:hover {
  background-color: var(--interactive-accent-hover);
}

/* SystemSculpt Primary Provider Styling */
.systemsculpt-primary-provider-active {
  border: 2px solid var(--interactive-accent) !important;
  background: linear-gradient(135deg, 
    rgba(var(--interactive-accent-rgb), 0.05) 0%, 
    rgba(var(--interactive-accent-rgb), 0.02) 100%) !important;
  box-shadow: 0 4px 16px rgba(var(--interactive-accent-rgb), 0.15) !important;
  position: relative;
  overflow: hidden;
}

.systemsculpt-primary-provider-active::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, 
    var(--interactive-accent) 0%, 
    var(--interactive-accent-hover) 50%, 
    var(--interactive-accent) 100%);
  z-index: 1;
}

.systemsculpt-primary-provider-header {
  margin-bottom: 16px;
  padding: 12px 16px;
  background: rgba(var(--interactive-accent-rgb), 0.08);
  border-radius: 8px;
  border: 1px solid rgba(var(--interactive-accent-rgb), 0.2);
  position: relative;
  z-index: 2;
}

.systemsculpt-primary-provider-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  padding: 6px 12px;
  border-radius: 16px;
  font-size: 0.75em;
  font-weight: 700;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  margin-bottom: 8px;
  box-shadow: 0 2px 8px rgba(var(--interactive-accent-rgb), 0.3);
}

.systemsculpt-primary-provider-description {
  margin: 0;
  font-size: 0.9em;
  color: var(--text-normal);
  font-weight: 500;
  line-height: 1.4;
}

.systemsculpt-primary-toggle {
  background: var(--interactive-accent) !important;
  border-color: var(--interactive-accent) !important;
}

.systemsculpt-primary-provider-active:hover {
  box-shadow: 0 6px 20px rgba(var(--interactive-accent-rgb), 0.25) !important;
  border-color: var(--interactive-accent-hover) !important;
}

/* Enhanced native provider card styling */
.systemsculpt-native-provider-card {
  margin-bottom: 20px;
  transition: all 0.3s ease;
}

.systemsculpt-native-provider-card .setting-item {
  border: none;
  background: transparent;
}

.systemsculpt-native-provider-card .setting-item:first-child {
  border-top: none;
}

.systemsculpt-native-provider-card .setting-item:last-child {
  border-bottom: none;
}

/* Credit Display and "Need More Credits?" Styling */
.systemsculpt-credit-display-container {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 4px;
}

.systemsculpt-credit-breakdown-text {
  font-size: 0.9em;
  color: var(--text-normal);
  font-weight: 500;
  line-height: 1.3;
}

.systemsculpt-need-more-credits-link {
  font-size: 0.8em;
  color: var(--interactive-accent);
  text-decoration: none;
  cursor: pointer;
  transition: all 0.2s ease;
  border-bottom: 1px solid transparent;
  margin-top: 2px;
  padding: 2px 0;
  font-weight: 500;
}

.systemsculpt-need-more-credits-link:hover {
  color: var(--interactive-accent-hover);
  border-bottom-color: var(--interactive-accent-hover);
  text-decoration: none;
  transform: translateY(-1px);
}

.systemsculpt-need-more-credits-link:active {
  transform: translateY(0);
} 

/* welcome.css */
/**
 * Welcome screen styles for SystemSculpt
 * 
 * This file contains styles for the welcome/onboarding experience.
 */

.systemsculpt-welcome-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
}

.systemsculpt-welcome-header {
  text-align: center;
  margin-bottom: 2rem;
}

.systemsculpt-welcome-logo {
  width: 120px;
  height: 120px;
  margin-bottom: 1rem;
}

.systemsculpt-welcome-title {
  font-size: var(--font-ui-larger);
  font-weight: var(--font-bold);
  margin-bottom: 0.5rem;
  color: var(--text-normal);
}

.systemsculpt-welcome-subtitle {
  font-size: var(--font-ui-medium);
  color: var(--text-muted);
  margin-bottom: 1rem;
}

.systemsculpt-welcome-steps {
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.systemsculpt-welcome-step {
  display: flex;
  align-items: flex-start;
  padding: 1rem;
  background-color: var(--background-secondary);
  border-radius: 8px;
  transition: transform 0.2s ease;
}

.systemsculpt-welcome-step:hover {
  transform: translateY(-2px);
}

.systemsculpt-welcome-step-number {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-radius: 50%;
  font-weight: var(--font-bold);
  margin-right: 1rem;
  flex-shrink: 0;
}

.systemsculpt-welcome-step-content {
  flex: 1;
}

.systemsculpt-welcome-step-title {
  font-size: var(--font-ui-medium);
  font-weight: var(--font-bold);
  margin-bottom: 0.5rem;
  color: var(--text-normal);
}

.systemsculpt-welcome-step-description {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  margin-bottom: 0.5rem;
}

.systemsculpt-welcome-actions {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
}

.systemsculpt-welcome-skip {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  text-decoration: underline;
  cursor: pointer;
  margin-top: 1rem;
}

.systemsculpt-welcome-skip:hover {
  color: var(--text-normal);
}

/* Welcome tour tooltip styles */
.systemsculpt-welcome-tooltip {
  position: absolute;
  z-index: 1000;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  padding: 1rem;
  box-shadow: 0 4px 12px rgb(0, 0, 0);
  max-width: 300px;
}

.systemsculpt-welcome-tooltip-arrow {
  position: absolute;
  width: 12px;
  height: 12px;
  background-color: var(--background-primary);
  transform: rotate(45deg);
  border: 1px solid var(--background-modifier-border);
  z-index: -1;
}


/* buttons.css */
/**
 * Button styles for SystemSculpt
 * 
 * This file contains styles for buttons that match Obsidian's design system.
 * These styles complement the ss-buttons.css file with additional button variants.
 */

/* Base button styles */
.systemsculpt-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 12px;
  border-radius: 4px;
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
  cursor: pointer;
  transition: all 0.05s ease;
  border: 1px solid transparent;
  gap: 6px;
}

/* Button variants */
.systemsculpt-button-primary {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-button-primary:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-button-secondary {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
  border-color: var(--background-modifier-border);
}

.systemsculpt-button-secondary:hover {
  background-color: var(--background-secondary);
}

.systemsculpt-button-danger {
  background-color: var(--background-modifier-error);
  color: var(--text-on-accent);
}

.systemsculpt-button-danger:hover {
  background-color: var(--text-error);
}

.systemsculpt-button-ghost {
  background-color: transparent;
  color: var(--text-muted);
}

.systemsculpt-button-ghost:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-button-link {
  background-color: transparent;
  color: var(--text-accent);
  padding: 0;
  border: none;
  text-decoration: underline;
}

.systemsculpt-button-link:hover {
  color: var(--text-accent-hover);
  text-decoration: none;
}

/* Button sizes */
.systemsculpt-button-small {
  padding: 4px 8px;
  font-size: var(--font-ui-smaller);
}

.systemsculpt-button-large {
  padding: 8px 16px;
  font-size: var(--font-ui-medium);
}

/* Button states */
.systemsculpt-button:disabled,
.systemsculpt-button.disabled {
  opacity: 1;
  cursor: not-allowed;
  pointer-events: none;
}

.systemsculpt-button.loading {
  position: relative;
  color: transparent;
}

.systemsculpt-button.loading::after {
  content: "";
  position: absolute;
  width: 16px;
  height: 16px;
  border: 2px solid rgb(255, 255, 255);
  border-radius: 50%;
  border-top-color: currentColor;
  animation: spin 0.8s linear infinite;
}

/* Icon button */
.systemsculpt-icon-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 4px;
  background-color: transparent;
  color: var(--text-muted);
  cursor: pointer;
  transition: all 0.05s ease;
  border: none;
}

.systemsculpt-icon-button:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-icon-button svg {
  width: 16px;
  height: 16px;
}

/* Button group */
.systemsculpt-button-group {
  display: inline-flex;
}

.systemsculpt-button-group .systemsculpt-button {
  border-radius: 0;
}

.systemsculpt-button-group .systemsculpt-button:first-child {
  border-top-left-radius: 4px;
  border-bottom-left-radius: 4px;
}

.systemsculpt-button-group .systemsculpt-button:last-child {
  border-top-right-radius: 4px;
  border-bottom-right-radius: 4px;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}


/* icons.css */
/**
 * Icon styles for SystemSculpt
 * 
 * This file contains styles for icons used throughout the plugin.
 */

/* Base icon styles */
.systemsculpt-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  color: currentColor;
  flex-shrink: 0;
}

/* Icon sizes */
.systemsculpt-icon-xs {
  width: 12px;
  height: 12px;
}

.systemsculpt-icon-sm {
  width: 16px;
  height: 16px;
}

.systemsculpt-icon-md {
  width: 20px;
  height: 20px;
}

.systemsculpt-icon-lg {
  width: 24px;
  height: 24px;
}

.systemsculpt-icon-xl {
  width: 32px;
  height: 32px;
}

/* Icon colors */
.systemsculpt-icon-muted {
  color: var(--text-muted);
}

.systemsculpt-icon-normal {
  color: var(--text-normal);
}

.systemsculpt-icon-accent {
  color: var(--text-accent);
}

.systemsculpt-icon-error {
  color: var(--text-error);
}

.systemsculpt-icon-success {
  color: var(--background-modifier-success);
}

.systemsculpt-icon-warning {
  color: var(--color-yellow);
}

/* Icon with background */
.systemsculpt-icon-with-bg {
  padding: 6px;
  border-radius: 4px;
  background-color: var(--background-secondary);
}

/* Icon button */
.systemsculpt-icon-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border-radius: 4px;
  background-color: transparent;
  color: var(--text-muted);
  cursor: pointer;
  transition: all 0.2s ease;
  border: none;
}

.systemsculpt-icon-btn:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

/* Animated icons */
.systemsculpt-icon-spin {
  animation: systemsculpt-spin 1s linear infinite;
}

.systemsculpt-icon-pulse {
  animation: systemsculpt-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes systemsculpt-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes systemsculpt-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
}

/* Icon with text */
.systemsculpt-icon-with-text {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.systemsculpt-icon-with-text .systemsculpt-icon {
  flex-shrink: 0;
}

/* Icon list */
.systemsculpt-icon-list {
  display: flex;
  gap: 4px;
}

/* Icon grid */
.systemsculpt-icon-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(32px, 1fr));
  gap: 8px;
}


/* tables.css */
/**
 * Table styles for SystemSculpt
 * 
 * This file contains styles for tables used throughout the plugin.
 */

/* Base table styles */
.systemsculpt-table {
  width: 100%;
  border-collapse: collapse;
  margin: 1rem 0;
  font-size: var(--font-ui-small);
  border-radius: 4px;
  overflow: hidden;
}

.systemsculpt-table th,
.systemsculpt-table td {
  padding: 8px 12px;
  text-align: left;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-table th {
  background-color: var(--background-secondary-alt);
  font-weight: var(--font-medium);
  color: var(--text-normal);
  white-space: nowrap;
}

.systemsculpt-table tr:last-child td {
  border-bottom: none;
}

.systemsculpt-table tr:nth-child(even) {
  background-color: var(--background-secondary);
}

.systemsculpt-table tr:hover {
  background-color: var(--background-modifier-hover);
}

/* Compact table */
.systemsculpt-table-compact th,
.systemsculpt-table-compact td {
  padding: 4px 8px;
  font-size: var(--font-ui-smaller);
}

/* Bordered table */
.systemsculpt-table-bordered th,
.systemsculpt-table-bordered td {
  border: 1px solid var(--background-modifier-border);
}

/* Striped table */
.systemsculpt-table-striped tr:nth-child(odd) {
  background-color: var(--background-secondary);
}

.systemsculpt-table-striped tr:nth-child(even) {
  background-color: var(--background-primary);
}

/* Table with fixed layout */
.systemsculpt-table-fixed {
  table-layout: fixed;
}

.systemsculpt-table-fixed td {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Table with hover effect */
.systemsculpt-table-hover tr:hover {
  background-color: var(--background-modifier-hover);
}

/* Table with sticky header */
.systemsculpt-table-sticky-header {
  position: relative;
}

.systemsculpt-table-sticky-header thead th {
  position: sticky;
  top: 0;
  z-index: 1;
  background-color: var(--background-secondary-alt);
}

/* Table container with scrolling */
.systemsculpt-table-container {
  width: 100%;
  overflow-x: auto;
  margin: 1rem 0;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
}

/* Table with actions column */
.systemsculpt-table .actions-column {
  width: 100px;
  text-align: right;
  white-space: nowrap;
}

/* Table cell alignments */
.systemsculpt-table .align-left {
  text-align: left;
}

.systemsculpt-table .align-center {
  text-align: center;
}

.systemsculpt-table .align-right {
  text-align: right;
}

/* Table with row selection */
.systemsculpt-table tr.selected {
  background-color: var(--background-modifier-hover);
}

/* Table footer */
.systemsculpt-table tfoot td {
  background-color: var(--background-secondary-alt);
  font-weight: var(--font-medium);
}


/* recorder.css */
/* SystemSculpt Recorder Component Styling */

.systemsculpt-recording-modal {
  position: fixed;
  top: 50px;
  right: 20px;
  z-index: 1000;
  background-color: var(--background-primary);
  color: var(--text-normal);
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgb(0, 0, 0);
  width: 300px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  border: 1px solid var(--background-modifier-border);
  transition: all 0.3s ease;
  transform: translateY(-10px);
  opacity: 0;
  transition: transform 0.3s ease, opacity 0.3s ease;
}

.systemsculpt-recording-modal.visible {
  transform: translateY(0);
  opacity: 1;
}

.systemsculpt-recording-modal.recording .systemsculpt-recording-title {
  color: var(--text-accent);
}

.systemsculpt-recording-modal.recording {
  border-color: var(--text-accent);
}

.systemsculpt-recording-title {
  font-size: 16px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: move;
  user-select: none;
  padding-bottom: 4px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-recording-title svg {
  color: var(--text-accent);
}

.systemsculpt-recording-modal.recording .systemsculpt-recording-title svg {
  animation: pulse 1.5s infinite;
}

/* Permission note */
.systemsculpt-recording-permission-note {
  font-size: 12px;
  color: var(--text-muted);
  padding: 6px 8px;
  background-color: var(--background-secondary);
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 6px;
  border-left: 3px solid var(--text-warning);
}

.systemsculpt-recording-permission-note svg {
  color: var(--text-warning);
  flex-shrink: 0;
}

/* Status display */
.systemsculpt-recording-status {
  font-size: 13px;
  color: var(--text-muted);
  padding: 4px 0;
}

/* Microphone display */
.systemsculpt-recording-mic {
  font-size: 12px;
  color: var(--text-muted);
  padding: 4px 0;
  display: flex;
  align-items: center;
  gap: 6px;
}

.systemsculpt-recording-mic::before {
  content: "🎙️";
  font-size: 14px;
}

/* Timer display */
.systemsculpt-recording-timer {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-accent);
  text-align: center;
  font-family: monospace;
  padding: 4px 0;
  border-radius: 4px;
  background-color: var(--background-secondary);
}

.systemsculpt-recording-visualizer {
  width: 100%;
  height: 60px;
  background-color: var(--background-secondary);
  border-radius: 4px;
  display: block;
  margin: 4px 0;
  border: 1px solid var(--background-modifier-border);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}

.systemsculpt-recording-stop {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border: none;
  border-radius: 4px;
  padding: 8px 12px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  transition: background-color 0.2s ease;
}

.systemsculpt-recording-stop:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-recording-stop svg {
  width: 16px;
  height: 16px;
}

/* Pulse animation for recording indicator */
@keyframes pulse {
  0% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.6;
  }
}

/* Glow effect for recording state */
.systemsculpt-recording-modal.recording .systemsculpt-recording-visualizer {
  border-color: var(--text-accent);
  box-shadow: 
    inset 0 1px 2px rgba(0, 0, 0, 0.1),
    0 0 0 1px var(--text-accent-hover);
}

/* Microphone selection in settings */
.systemsculpt-microphone-container {
  display: flex;
  gap: 8px;
  width: 100%;
  align-items: center;
}

.systemsculpt-microphone-select {
  flex: 1;
  min-width: 200px;
  height: 32px;
  border-radius: 4px;
  padding: 0 8px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-normal);
}

.systemsculpt-microphone-select:disabled {
  opacity: 1;
  cursor: not-allowed;
}

.systemsculpt-microphone-select option {
  background-color: var(--background-primary);
  color: var(--text-normal);
  padding: 8px;
}

/* Native Obsidian Modal Recording Styles */

/* Mobile-optimized content within native modal */
.systemsculpt-recording-modal-native-mobile .modal-content {
  max-width: 90vw;
  width: 420px;
  margin: 0 auto;
}

.systemsculpt-recording-content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 0;
}

.systemsculpt-recording-content-mobile {
  gap: 20px;
}

.systemsculpt-recording-status {
  font-size: 14px;
  color: var(--text-muted);
  text-align: center;
  padding: 8px 0;
}

.systemsculpt-recording-status-mobile {
  font-size: 16px;
  color: var(--text-muted);
  text-align: center;
  padding: 12px 0;
}

.systemsculpt-recording-timer {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-accent);
  text-align: center;
  font-family: monospace;
  padding: 12px;
  background: var(--background-secondary);
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-recording-timer-mobile {
  font-size: 28px;
  font-weight: 700;
  color: var(--text-accent);
  text-align: center;
  font-family: monospace;
  padding: 16px;
  background: var(--background-secondary);
  border-radius: 12px;
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-recording-visualizer {
  width: 100%;
  height: 60px;
  background: var(--background-secondary);
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.systemsculpt-recording-visualizer-mobile {
  width: 100%;
  height: 100px;
  background: var(--background-secondary);
  border-radius: 12px;
  border: 1px solid var(--background-modifier-border);
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.systemsculpt-recording-buttons {
  display: flex;
  justify-content: center;
  gap: 12px;
}

.systemsculpt-recording-buttons-mobile {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.systemsculpt-recording-stop-mobile {
  min-height: 52px !important;
  font-size: 16px !important;
  font-weight: 600 !important;
  touch-action: manipulation !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 8px !important;
}

.systemsculpt-recording-stop-mobile:hover,
.systemsculpt-recording-stop-mobile:active {
  transform: scale(0.98);
}

.systemsculpt-recording-assurance {
  background: var(--background-modifier-success);
  color: var(--text-success);
  border: 1px solid var(--background-modifier-success-hover);
  border-radius: 8px;
  padding: 12px 16px;
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 8px;
  text-align: center;
  justify-content: center;
}

.systemsculpt-recording-assurance svg {
  flex-shrink: 0;
  color: var(--text-success);
}

/* Desktop modal adjustments */
.systemsculpt-recording-modal-desktop {
  position: fixed;
  top: 50px;
  right: 20px;
  z-index: 1000;
  background-color: var(--background-primary);
  color: var(--text-normal);
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgb(0, 0, 0);
  width: 300px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  border: 1px solid var(--background-modifier-border);
  transition: all 0.3s ease;
  transform: translateY(-10px);
  opacity: 0;
}

.systemsculpt-recording-modal-desktop.visible {
  transform: translateY(0);
  opacity: 1;
}

/* Media query for smaller screens - legacy support */
@media (max-width: 768px) {
  .systemsculpt-recording-modal-desktop {
    width: 250px;
    right: 10px;
    top: 40px;
  }

  .systemsculpt-recording-visualizer {
    height: 50px;
  }
}

/* custom-endpoint.css */
/**
 * Custom Endpoint Settings Styles
 *
 * Styles for the custom transcription endpoint settings in the recorder tab
 */

.custom-endpoint-settings {
  margin-top: 12px;
  padding: 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
}

.custom-endpoint-info {
  margin-bottom: 12px;
  padding: 8px 10px;
  border-radius: 4px;
  background-color: var(--background-primary);
  border-left: 3px solid var(--text-accent);
  font-size: 12px;
  color: var(--text-muted);
  line-height: 1.4;
}

.custom-endpoint-settings .setting-item {
  border-top: none;
  padding-top: 12px;
}

.custom-endpoint-settings .setting-item:first-child {
  padding-top: 0;
}

/* Preset buttons container */
.custom-endpoint-settings .setting-item-control {
  flex-wrap: wrap;
  gap: 8px;
}

/* Preset buttons */
.custom-endpoint-settings button {
  min-width: 80px;
}

/* Model selection container */
.model-selection-container {
  display: flex;
  width: 100%;
}

/* Model dropdown */
.model-selection-container select {
  width: 100%;
  margin-right: 0;
}

/* Model text input */
.model-selection-container input {
  width: 100%;
}


/* favorite-toggle.css */
/* Favorite Toggle Component Styles */

.systemsculpt-favorite-toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.05s ease;
  position: relative;
  margin: 0 4px;
  overflow: visible;
}

.systemsculpt-favorite-toggle:hover {
  background-color: var(--interactive-hover);
}

.systemsculpt-favorite-toggle.is-active {
  transform: scale(0.95);
}

.systemsculpt-favorite-toggle.is-focused {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
  outline: none;
}

/* Icon wrapper allows for better animation control */
.systemsculpt-favorite-icon-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  z-index: 2;
}

/* Enhanced star icon appearance */
.systemsculpt-favorite-toggle .systemsculpt-favorite-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.05s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* Favorited state styling */
.systemsculpt-favorite-toggle.is-favorite .systemsculpt-favorite-icon .svg-icon,
.systemsculpt-favorite-toggle.is-favorite .systemsculpt-favorite-icon svg,
.systemsculpt-favorite-toggle.is-favorite svg {
  color: var(--color-yellow) !important;
  fill: var(--color-yellow) !important;
  stroke: var(--color-yellow) !important;
  filter: drop-shadow(0 0 4px rgba(255, 217, 0, 0.5));
  opacity: 1 !important;
  visibility: visible !important;
}

/* Unfavorited state styling */
.systemsculpt-favorite-toggle:not(.is-favorite) .systemsculpt-favorite-icon .svg-icon,
.systemsculpt-favorite-toggle:not(.is-favorite) .systemsculpt-favorite-icon svg,
.systemsculpt-favorite-toggle:not(.is-favorite) svg {
  color: var(--text-muted);
  fill: transparent;
  stroke: var(--text-muted);
  stroke-width: 1px;
}

/* Hover effects for unfavorited state */
.systemsculpt-favorite-toggle:not(.is-favorite):hover .systemsculpt-favorite-icon .svg-icon,
.systemsculpt-favorite-toggle:not(.is-favorite).is-focused .systemsculpt-favorite-icon .svg-icon {
  color: var(--text-normal);
  stroke: var(--text-normal);
}

/* Hover effects for favorited state */
.systemsculpt-favorite-toggle.is-favorite:hover .systemsculpt-favorite-icon .svg-icon,
.systemsculpt-favorite-toggle.is-favorite.is-focused .systemsculpt-favorite-icon .svg-icon {
  filter: drop-shadow(0 0 5px rgba(255, 217, 0, 0.5));
  transform: scale(1.1);
}

/* Animation for toggling favorite status */
.systemsculpt-favorite-toggle .systemsculpt-favorite-icon .svg-icon {
  transition: transform 0.05s cubic-bezier(0.175, 0.885, 0.32, 1.275),
              color 0.05s ease,
              fill 0.05s ease,
              filter 0.05s ease;
}

.systemsculpt-favorite-toggle.is-active .systemsculpt-favorite-icon .svg-icon {
  transform: scale(0.9);
}

/* Animation feedback element for status change */
.systemsculpt-favorite-feedback {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 24px;
  height: 24px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
}

/* Animation for adding to favorites */
.systemsculpt-favorite-feedback.animate-favorite {
  animation: favorite-pulse 0.1s ease-out forwards;
}

/* Animation for removing from favorites */
.systemsculpt-favorite-feedback.animate-unfavorite {
  animation: unfavorite-pulse 0.1s ease-out forwards;
}

@keyframes favorite-pulse {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 0;
    background-color: rgba(255, 217, 0, 0);
  }
  30% {
    opacity: 0.6;
    background-color: rgba(255, 217, 0, 0.3);
  }
  100% {
    transform: translate(-50%, -50%) scale(2);
    opacity: 0;
    background-color: rgba(255, 217, 0, 0);
  }
}

@keyframes unfavorite-pulse {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0;
    background-color: rgba(255, 255, 255, 0);
  }
  30% {
    opacity: 0.3;
    background-color: rgba(200, 200, 200, 0.2);
  }
  100% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 0;
    background-color: rgba(200, 200, 200, 0);
  }
}

/* Load Chat Modal Integrations */
.systemsculpt-chat-favorite {
  margin-right: 8px;
}

.systemsculpt-modal-list-item {
  display: flex;
  align-items: flex-start;
}

.systemsculpt-modal-list-item .systemsculpt-favorite-toggle {
  height: 28px;
  width: 28px;
  margin: 0;
  transform: translateY(2px);
}

.systemsculpt-modal-list-item .systemsculpt-favorite-toggle:hover {
  background-color: rgba(var(--interactive-accent-rgb), 0.1);
}

/* Highlight for favorited items in the list */
.systemsculpt-modal-list-item.has-favorite {
  border-left: 3px solid var(--color-yellow);
  background-color: rgba(255, 217, 0, 0.03);
}

.systemsculpt-modal-list-item.has-favorite:hover {
  background-color: rgba(255, 217, 0, 0.07);
}

.systemsculpt-modal-list-item.has-favorite.is-selected {
  background-color: rgba(var(--interactive-accent-rgb), 0.1);
  border-left-color: var(--color-yellow);
}

/* Favorites filter toggle in search bar */
.systemsculpt-favorites-filter {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  transition: all 0.05s ease;
  white-space: nowrap;
  font-size: 0.85rem;
}

.systemsculpt-favorites-filter:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-favorites-filter.is-active {
  background-color: rgba(255, 217, 0, 0.1);
  border-color: rgba(255, 217, 0, 0.3);
}

.systemsculpt-favorites-filter.is-active svg {
  color: var(--color-yellow);
  fill: var(--color-yellow);
}

/* Favorites filter toggle states */
.systemsculpt-favorites-filter.is-focused {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
  outline: none;
}

.systemsculpt-favorites-filter.is-clicking {
  transform: scale(0.95);
}

/* Animation for favorites filter */
.systemsculpt-favorites-filter {
  transition: transform 0.05s ease, background-color 0.05s ease, box-shadow 0.05s ease, border-color 0.05s ease;
}

/* Improve icon in favorites filter */
.systemsculpt-favorites-filter .systemsculpt-favorites-icon {
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-favorites-filter.is-active .systemsculpt-favorites-icon svg {
  color: var(--color-yellow);
  fill: var(--color-yellow);
  filter: drop-shadow(0 0 2px rgba(255, 217, 0, 0.4));
}

/* Responsive styles */
@media (max-width: 768px) {
  .systemsculpt-favorites-filter span:not(.svg-icon) {
    display: none;
  }
  
  .systemsculpt-favorites-filter {
    padding: 8px;
  }
}

/* Make sure dark theme has good contrast */
.theme-dark .systemsculpt-favorites-filter.is-active {
  background-color: rgba(255, 217, 0, 0.15);
}

.theme-dark .systemsculpt-modal-list-item.has-favorite {
  background-color: rgba(255, 217, 0, 0.05);
}

.theme-dark .systemsculpt-modal-list-item.has-favorite:hover {
  background-color: rgba(255, 217, 0, 0.1);
}

/* Model list favorite toggle positioning - improved position and size */
.ss-modal-item .systemsculpt-favorite-toggle {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 34px;
  height: 34px;
  margin: 0;
  border-radius: 50%;
  background-color: transparent;
}

.ss-modal-item:hover .systemsculpt-favorite-toggle,
.ss-modal-item:focus-within .systemsculpt-favorite-toggle {
  background-color: var(--background-modifier-hover);
}

/* Make favorited items in list more visible */
.ss-modal-item.ss-selected .systemsculpt-favorite-toggle.is-favorite {
  background-color: rgba(255, 217, 0, 0.1);
}

/* Favorites filter toggle styles moved to standardized-modal.css */

/* Empty state for favorites */
.systemsculpt-favorites-empty-state {
  text-align: center;
  padding: 32px 24px;
  color: var(--text-muted);
  font-size: 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 240px;
  background-color: var(--background-secondary);
  border-radius: 8px;
  margin: 16px;
  box-shadow: inset 0 0 0 1px var(--background-modifier-border);
}

.systemsculpt-favorites-empty-state .svg-icon {
  font-size: 40px;
  margin-bottom: 20px;
  color: var(--text-faint);
  opacity: 0.8;
}

.systemsculpt-favorites-empty-state h4 {
  margin-bottom: 12px;
  font-weight: 600;
  color: var(--text-normal);
  font-size: 16px;
}

.systemsculpt-favorites-empty-state p {
  max-width: 300px;
  margin: 0 auto;
  line-height: 1.6;
}

/* Model Selection Modal enhancements */
.systemsculpt-model-selection-modal .systemsculpt-list {
  --favorite-accent-color: rgba(255, 217, 0, 0.1);
}

/* Create a subtle highlight for favorited models in the list */
.systemsculpt-model-selection-modal .ss-modal-item.has-favorite {
  background-color: var(--favorite-accent-color);
  border-left: 2px solid var(--color-yellow);
}

.systemsculpt-model-selection-modal .ss-modal-item.has-favorite:hover {
  background-color: var(--background-modifier-hover);
  border-left-color: var(--color-yellow);
}

.systemsculpt-model-selection-modal .ss-modal-item.has-favorite.ss-selected {
  background-color: var(--interactive-accent);
  border-left-color: var(--color-yellow);
}

/* IMPORTANT: Ensure all model items are fully opaque regardless of filter state */
.systemsculpt-model-selection-modal .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Prevent any parent container from making items semi-transparent */
.systemsculpt-model-selection-modal .ss-modal__list .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Ensure items remain fully visible even when not favorited */
.systemsculpt-model-selection-modal .ss-modal__item:not(.has-favorite) {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Make favorites more distinctive */
.systemsculpt-model-selection-modal .ss-modal-item.has-favorite::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 8px;
  transform: translateY(-50%);
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background-color: var(--color-yellow);
  box-shadow: 0 0 4px rgba(255, 217, 0, 0.5);
}

/* Add fade in animation for favorites - updated to not affect opacity */
@keyframes favorite-fade-in {
  from {
    transform: translateY(-5px);
  }
  to {
    transform: translateY(0);
  }
}

.systemsculpt-model-selection-modal .systemsculpt-favorites-filter.is-active + * .ss-modal-item {
  animation: favorite-fade-in 0.3s ease-out forwards;
  opacity: 1 !important; /* Ensure full opacity during animation */
}

/* Optimize the position of the favorite button in the list */
.systemsculpt-model-selection-modal .ss-modal-item .systemsculpt-favorite-toggle {
  z-index: 5;
}

/* Filter container styles moved to standardized-modal.css */

/* Enhanced visibility for favorite toggle buttons in list items */
.systemsculpt-favorite-button-container {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Use a more visible star */
.systemsculpt-favorite-toggle {
  background: rgba(0, 0, 0, 0.08);
  border-radius: 50%;
  width: 28px;
  height: 28px;
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  z-index: 20;
}

.systemsculpt-favorite-toggle:hover {
  transform: scale(1.2);
  transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  background-color: rgba(0, 0, 0, 0.12);
}

.theme-dark .systemsculpt-favorite-toggle {
  background: rgba(255, 255, 255, 0.08);
}

.theme-dark .systemsculpt-favorite-toggle:hover {
  background-color: rgba(255, 255, 255, 0.15);
}

/* Make the star icon more visible */
.systemsculpt-favorite-toggle .systemsculpt-favorite-icon .svg-icon {
  width: 18px;
  height: 18px;
}

/* Make the favorited star more vibrant */
.systemsculpt-favorite-toggle.is-favorite .systemsculpt-favorite-icon .svg-icon {
  color: var(--color-yellow);
  fill: var(--color-yellow);
  filter: drop-shadow(0 0 4px rgba(255, 217, 0, 0.5));
}

/* Optimize spacing for list items in the modal */
.systemsculpt-model-selection-modal .ss-modal__item {
  position: relative;
}

/* Create a clearer hover effect for the list item's favorite toggle */
.systemsculpt-model-selection-modal .ss-modal__item:hover .systemsculpt-favorite-toggle {
  background: rgba(0, 0, 0, 0.15);
}

.theme-dark .systemsculpt-model-selection-modal .ss-modal__item:hover .systemsculpt-favorite-toggle {
  background: rgba(255, 255, 255, 0.15);
}

/* Ensure the favorite toggle works with the DOM structure in the screenshot */
.workspace-leaf-content [role="button"] {
  position: relative;
}

/* Fix: Ensure all model items have full opacity regardless of favorites filter state */
.systemsculpt-model-selection-modal .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Ensure items remain fully visible when favorites filter is active */
.systemsculpt-favorites-filter.is-active ~ * .ss-modal__item,
.systemsculpt-model-selection-modal.favorites-active .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Remove any inherited opacity from parent containers */
.systemsculpt-model-selection-modal .ss-modal__list,
.systemsculpt-model-selection-modal .ss-modal__content {
  opacity: 1 !important;
}

/* Make favorites more noticeable in the list */
.systemsculpt-model-selection-modal .has-favorite {
  background-color: rgba(255, 217, 0, 0.05);
}

.systemsculpt-model-selection-modal .has-favorite:hover {
  background-color: rgba(255, 217, 0, 0.1);
}

/* Completely revised model list item layout */
.ss-modal__item {
  display: grid;
  grid-template-columns: auto 1fr auto auto;
  grid-template-areas: "icon content badge favorite";
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  position: relative;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.05s ease;
}

/* Style for the model icon */
.ss-modal__item-icon {
  grid-area: icon;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

/* Style for the main content area */
.ss-modal__item-content {
  grid-area: content;
  min-width: 0; /* Allows content to shrink properly */
  overflow: hidden;
}

/* Style for the provider badge */
.ss-modal__item .systemsculpt-provider-badge,
.ss-modal__item .provider-badge {
  grid-area: badge;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.8em;
  white-space: nowrap;
  background-color: var(--background-modifier-success);
  color: var(--text-on-accent);
  margin: 0 4px;
}

/* Different colors for different providers */
.ss-modal__item[data-provider="openai"] .provider-badge {
  background-color: #10a37f; /* OpenAI green */
}

.ss-modal__item[data-provider="anthropic"] .provider-badge {
  background-color: #b300ff; /* Anthropic purple */
}

.ss-modal__item[data-provider="openrouter"] .provider-badge {
  background-color: #0066cc; /* OpenRouter blue */
}

/* Style for the favorite toggle container */
.systemsculpt-favorite-button-container {
  grid-area: favorite;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 5;
  position: relative;
  width: 36px;
  height: 36px;
  margin: 0;
}

/* Style for the favorite toggle button - removing absolute positioning */
.systemsculpt-favorite-toggle {
  display: flex;
  visibility: visible;
  opacity: 1;
  cursor: pointer;
  color: var(--text-muted);
  transition: all 0.05s ease;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.08);
  align-items: center;
  justify-content: center;
}

/* Remove absolute positioning from favorite toggle in modal items */
.ss-modal-item .systemsculpt-favorite-toggle {
  position: relative;
  right: auto;
  top: auto;
  transform: none;
}

/* Star color when favorited */
/* Ensure all SVGs in favorited state are yellow and visible */
.systemsculpt-favorite-toggle.is-favorite svg {
  color: var(--color-yellow) !important;
  fill: var(--color-yellow) !important;
  stroke: var(--color-yellow) !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Hover effect for star */
.systemsculpt-favorite-toggle:hover {
  transform: scale(1.2);
}

/* Hover effect for non-favorited star in light theme */
body:not(.theme-dark) .systemsculpt-favorite-toggle:not(.is-favorite):hover svg {
  color: rgba(255, 204, 0, 0.7);
}

/* Hover effect for non-favorited star in dark theme */
.theme-dark .systemsculpt-favorite-toggle:not(.is-favorite):hover svg {
  color: rgba(255, 204, 0, 0.7);
}

/* Make items with favorites stand out with subtle highlighting */
.ss-modal__item.has-favorite {
  background-color: rgba(255, 204, 0, 0.05);
  border-left: 2px solid var(--color-yellow);
}

.ss-modal__item.has-favorite:hover {
  background-color: rgba(255, 204, 0, 0.08);
}

/* Focused state for keyboard navigation */
.ss-modal__item:focus-visible {
  outline: 2px solid var(--interactive-accent);
  outline-offset: -1px;
}

/* Add subtle transition for hover effects */
.ss-modal__item {
  transition: background-color 0.05s ease;
}

.ss-modal__item:hover {
  /* Removed lift effect */
}

/* Add focus animation for the favorite toggle */
.systemsculpt-favorite-toggle:focus-visible {
  outline: 2px solid var(--interactive-accent);
  outline-offset: 2px;
  animation: pulse-focus 1.5s infinite;
}

@keyframes pulse-focus {
  0% {
    box-shadow: 0 0 0 0 rgba(var(--interactive-accent-rgb), 0.4);
  }
  70% {
    box-shadow: 0 0 0 6px rgba(var(--interactive-accent-rgb), 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(var(--interactive-accent-rgb), 0);
  }
}

/* Handle long text in model names and descriptions */
.ss-modal__item-title {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

.ss-modal__item-description {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

/* Ensure proper touch target sizes for mobile */
@media (max-width: 768px) {
  .systemsculpt-favorite-toggle {
    width: 36px;
    height: 36px;
    min-width: 36px; /* Ensure minimum touch target size */
  }
  
  /* Reduce badge text size on small screens */
  .ss-modal__item .systemsculpt-provider-badge,
  .ss-modal__item .provider-badge {
    font-size: 0.75em;
    padding: 2px 4px;
  }
}

/* Responsive adjustments for smaller screens */
@media (max-width: 500px) {
  .ss-modal__item {
    gap: 8px;
    padding: 8px;
  }
  
  /* Adjust font sizes for smaller screens */
  .ss-modal__item-title {
    font-size: 14px;
  }
  
  .ss-modal__item-description {
    font-size: 12px;
  }
  
  /* Further reduce gap for very small screens */
  @media (max-width: 375px) {
    .ss-modal__item {
      gap: 6px;
/* Filter row improvement styles moved to standardized-modal.css */
      padding: 6px;
    }
    
    /* For very narrow screens, allow provider badges to wrap text */
    .ss-modal__item .systemsculpt-provider-badge,
    .ss-modal__item .provider-badge {
      white-space: normal;
      text-align: center;
      line-height: 1.2;
      max-width: 70px;
    }
  }
} 

/* status-bar.css */
/* Status Bar Indicator - Native Obsidian Integration */

/* Base status bar styling to merge with Obsidian's look - scoped to SystemSculpt elements */
.systemsculpt-status-bar-item.is-active {
  color: var(--interactive-accent);
}

.systemsculpt-status-bar-item.is-complete {
  color: var(--text-success);
}

.systemsculpt-status-bar-item.has-error {
  color: var(--text-error);
}

.systemsculpt-status-bar-item.is-paused {
  color: var(--text-warning);
}

.systemsculpt-status-bar-item.is-scanning {
  color: var(--text-accent);
}

/* Spinning animation using Obsidian's native animation - scoped to SystemSculpt elements */
.systemsculpt-status-bar-item-icon.is-spinning {
  animation: rotation 2s infinite linear;
}

/* Progress text styling - scoped to SystemSculpt elements */
.systemsculpt-status-progress-text {
  font-size: var(--font-smallest);
  opacity: 1;
  margin-left: 4px;
  font-variant-numeric: tabular-nums;
  white-space: nowrap;
  overflow: visible;
  text-overflow: clip;
  max-width: none;
  width: auto;
}

/* Improve spacing between icon and text - scoped to SystemSculpt elements */
.systemsculpt-status-bar-item-icon + span {
  margin-left: 4px;
}

@keyframes rotation {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
}

/* Status Bar Indicator Styles */
.systemsculpt-status-indicator {
  display: flex;
  align-items: center;
  padding: 0 6px;
  cursor: pointer;
  height: 100%;
  transition: background-color 0.2s ease;
}

.systemsculpt-status-indicator:hover {
  background-color: var(--interactive-hover);
}

.systemsculpt-status-icon {
  margin-right: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Spinning animation for active states */
.systemsculpt-status-icon.is-spinning svg {
  animation: systemsculpt-spin 2s linear infinite;
}

@keyframes systemsculpt-spin {
  100% {
    transform: rotate(360deg);
  }
}

/* Enhanced status container - scoped to SystemSculpt elements */
.systemsculpt-status-container {
  display: flex;
  align-items: center;
  flex-wrap: nowrap;
  gap: 4px;
  max-width: none; /* Remove max-width restriction to allow content to display fully */
}

/* Progress text - scoped to SystemSculpt elements */
.systemsculpt-status-progress-text {
  font-weight: 600;
  color: var(--interactive-accent);
}

/* Sub info elements - scoped to SystemSculpt elements */
.systemsculpt-status-sub-info {
  font-size: 0.85em;
  opacity: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-status-sub-info.count-info {
  color: var(--text-muted);
}

.systemsculpt-status-sub-info.file-info {
  color: var(--text-accent);
  max-width: 80px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-status-sub-info.update-info {
  color: var(--text-muted);
  font-style: italic;
  font-size: 0.8em;
}

/* Status colors */
.systemsculpt-status-value.status-idle {
  color: var(--text-normal);
}

.systemsculpt-status-value.status-running,
.systemsculpt-status-value.status-updating {
  color: var(--interactive-accent);
}

.systemsculpt-status-value.status-scanning {
  color: var(--text-accent);
}

.systemsculpt-status-value.status-complete {
  color: var(--text-success);
}

.systemsculpt-status-value.status-paused {
  color: var(--text-warning);
}

.systemsculpt-status-value.status-error {
  color: var(--text-error);
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .systemsculpt-status-container {
    max-width: none; /* Allow full width display even on mobile */
  }
  
  .systemsculpt-status-sub-info.file-info {
    max-width: 100px; /* Increased space for file info on mobile */
  }
}

/* Performance meter colours - scoped to SystemSculpt elements */
.systemsculpt-status-bar-item-icon.perf-low {
  color: var(--text-success);
}

.systemsculpt-status-bar-item-icon.perf-med {
  color: var(--text-warning);
}

.systemsculpt-status-bar-item-icon.perf-high {
  color: var(--text-error);
}

/* ───────── Performance widget ───────── */
.systemsculpt-perf-widget {
  position: fixed;
  bottom: 100px;
  right: 30px;
  background: var(--background-primary);
  color: var(--text-normal);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  box-shadow: var(--shadow-s);
  padding: 8px 12px 12px 12px;
  z-index: 1000;
  min-width: 140px;
  user-select: none;
}

.systemsculpt-perf-widget-header {
  font-weight: 600;
  margin-bottom: 4px;
  cursor: move;
}

.systemsculpt-perf-widget-close {
  position: absolute;
  top: 4px;
  right: 6px;
  font-size: 14px;
  line-height: 14px;
  cursor: pointer;
}

.systemsculpt-perf-widget-body {
  white-space: pre-line;
  font-variant-numeric: tabular-nums;
  font-size: var(--font-smallest);
}

/* embeddings-status-bar.css */
/* Embeddings Status Bar Component - Minimal styling to match native status bar */

.systemsculpt-embeddings-status-bar {
  cursor: pointer;
}

/* progress-modal.css */
/**
 * Progress Modal Component
 *
 * Styles for the document conversion progress modal
 */

/* Main modal container */
.systemsculpt-progress-modal {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: var(--ss-color-bg-primary, var(--background-primary, #ffffff));
  border-radius: 12px;
  padding: 20px;
  width: 350px;
  max-width: 90vw;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  z-index: 1000; /* Above most elements but not settings modals */
  display: flex;
  flex-direction: column;
  gap: 16px;
  border: 1px solid var(--background-modifier-border);
  animation: slide-in-right 0.3s ease forwards;
}

/* Modal header */
.systemsculpt-progress-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 8px;
}

.systemsculpt-progress-title {
  font-size: 1.2em;
  font-weight: 600;
  color: var(--text-normal);
  margin: 0;
  flex: 1;
}

.systemsculpt-progress-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-accent);
  font-size: 1.4em;
}

/* Progress bar */
.systemsculpt-progress-bar {
  height: 10px;
  background: var(--ss-color-primary);
  border-radius: 5px;
  transition: width 0.3s ease;
  width: 0%;
}

/* Progress status */
.systemsculpt-progress-status {
  display: flex;
  align-items: center;
  gap: 10px;
  color: var(--text-normal);
  font-size: 0.95em;
  margin: 8px 0;
  padding: 8px 12px;
  background: var(--background-secondary);
  border-radius: 6px;
}

.systemsculpt-progress-status-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-accent);
}

/* Progress steps */
.systemsculpt-progress-steps {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 8px;
}

.systemsculpt-progress-step {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  border-radius: 6px;
  background: var(--background-secondary);
  transition: all 0.2s ease;
}

.systemsculpt-progress-step-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--background-modifier-border);
  color: var(--text-muted);
}

.systemsculpt-progress-step-text {
  flex: 1;
  font-size: 0.9em;
  color: var(--text-muted);
}

/* Active step */
.systemsculpt-progress-step.active {
  background: rgb(var(--interactive-accent-rgb));
}

.systemsculpt-progress-step.active .systemsculpt-progress-step-icon {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-progress-step.active .systemsculpt-progress-step-text {
  color: var(--text-normal);
  font-weight: 500;
}

/* Completed step */
.systemsculpt-progress-step.completed .systemsculpt-progress-step-icon {
  background: var(--color-green);
  color: white;
}

/* Error step */
.systemsculpt-progress-step.error .systemsculpt-progress-step-icon {
  background: var(--color-red);
  color: white;
}

/* Buttons */
.systemsculpt-progress-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 8px;
}

.systemsculpt-progress-button {
  padding: 8px 16px;
  border-radius: 6px;
  font-size: 0.9em;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  background: var(--background-modifier-border);
  color: var(--text-normal);
  border: none;
}

.systemsculpt-progress-button:hover {
  background: var(--background-modifier-border-hover);
  transform: translateY(-1px);
}

.systemsculpt-progress-button.primary {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-progress-button.primary:hover {
  background: var(--interactive-accent-hover);
}

/* Completion dialog */
.systemsculpt-completion-dialog {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: var(--ss-color-bg-primary, var(--background-primary, #ffffff));
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: 16px;
  border: 1px solid var(--background-modifier-border);
  max-width: 350px;
  animation: slide-in-right 0.3s ease forwards;
}

@keyframes slide-in-right {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.systemsculpt-completion-header {
  display: flex;
  align-items: center;
  gap: 12px;
}

.systemsculpt-completion-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-green);
  font-size: 1.4em;
}

.systemsculpt-completion-title {
  font-size: 1.1em;
  font-weight: 600;
  color: var(--text-normal);
  margin: 0;
  flex: 1;
}

.systemsculpt-completion-message {
  color: var(--text-muted);
  font-size: 0.9em;
  line-height: 1.5;
}

.systemsculpt-completion-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

/* Animation for spinner */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.systemsculpt-spinner {
  animation: spin 1s linear infinite;
}


/* processing-status.css */
/**
 * Processing Status Component
 *
 * Styles for the file processing status indicators
 */

/* Base status styles */
.systemsculpt-file-status {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 6px;
  background-color: var(--background-secondary);
  margin-bottom: 8px;
  transition: all 0.3s ease;
  animation: fade-in 0.3s ease;
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(5px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Status icon styling */
.systemsculpt-status-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-accent);
  margin-top: 2px;
}

/* Status content container */
.systemsculpt-status-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* Status text styling */
.systemsculpt-status-text {
  font-size: 14px;
  color: var(--text-normal);
}

/* Status details styling */
.systemsculpt-status-details {
  font-size: 12px;
  color: var(--text-muted);
  white-space: pre-line;
  padding: 4px 0 0 0;
  border-top: 1px solid var(--background-modifier-border);
  margin-top: 2px;
  animation: fade-in 0.3s ease;
}

/* Chunking status */
.systemsculpt-status-chunking {
  background-color: rgb(var(--interactive-accent-rgb));
  border-left: 3px solid var(--text-accent);
}

.systemsculpt-status-chunking .systemsculpt-status-icon {
  color: var(--text-accent);
  animation: pulse 2s infinite;
}

/* Processing status */
.systemsculpt-status-processing {
  background-color: rgb(var(--interactive-accent-rgb));
  border-left: 3px solid var(--interactive-accent);
}

.systemsculpt-status-processing .systemsculpt-status-icon {
  color: var(--interactive-accent);
  animation: spin 1.5s linear infinite;
}

/* Uploading status */
.systemsculpt-status-uploading {
  background-color: rgb(var(--color-blue-rgb));
  border-left: 3px solid var(--color-blue);
}

.systemsculpt-status-uploading .systemsculpt-status-icon {
  color: var(--color-blue);
  animation: bounce 1s infinite;
}

/* Success status */
.systemsculpt-status-success {
  background-color: rgb(var(--color-green-rgb));
  border-left: 3px solid var(--color-green);
}

.systemsculpt-status-success .systemsculpt-status-icon {
  color: var(--color-green);
}

/* Error status */
.systemsculpt-status-error {
  background-color: rgb(var(--color-red-rgb));
  border-left: 3px solid var(--color-red);
}

.systemsculpt-status-error .systemsculpt-status-icon {
  color: var(--color-red);
}

/* Animations */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
}

/* Add shimmer effect to status text during processing */
.systemsculpt-status-processing .systemsculpt-status-text,
.systemsculpt-status-chunking .systemsculpt-status-text,
.systemsculpt-status-uploading .systemsculpt-status-text {
  position: relative;
  overflow: hidden;
}

.systemsculpt-status-processing .systemsculpt-status-text::after,
.systemsculpt-status-chunking .systemsculpt-status-text::after,
.systemsculpt-status-uploading .systemsculpt-status-text::after {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(
    90deg,
    rgb(255, 255, 255) 0%,
    rgb(255, 255, 255) 50%,
    rgb(255, 255, 255) 100%
  );
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { left: -100%; }
  100% { left: 200%; }
}


/* model-indicator.css */
/**
 * Model Indicator Component
 * 
 * Styles for the model indicator in chat view
 */

.systemsculpt-model-indicator-icon {
  display: inline-flex;
  align-items: center;
  margin-right: 6px;
  color: var(--text-muted);
  flex-shrink: 0;
}

.systemsculpt-model-indicator-icon svg {
  width: 14px;
  height: 14px;
}

.systemsculpt-model-indicator:hover .systemsculpt-model-indicator-icon {
  color: var(--text-normal);
}

.systemsculpt-model-indicator-arrow {
  margin-left: auto;
  display: flex;
  align-items: center;
  color: var(--text-muted);
  flex-shrink: 0;
}

.systemsculpt-model-indicator-arrow svg {
  width: 14px;
  height: 14px;
}

/* Locked system prompt state when agent mode is active */
.systemsculpt-system-prompt-locked {
  opacity: 0.7;
  cursor: default !important;
  pointer-events: none; /* Prevent all interactions */
}

.systemsculpt-system-prompt-locked:hover {
  background-color: transparent !important; /* Remove hover effect */
}

.systemsculpt-system-prompt-locked .systemsculpt-model-indicator-arrow {
  color: var(--text-accent);
}

.systemsculpt-system-prompt-locked .systemsculpt-model-indicator-arrow svg {
  color: var(--text-accent);
}

/* Locked model state when agent mode is active */
.systemsculpt-model-locked {
  opacity: 0.7;
  cursor: default !important;
  pointer-events: none; /* Prevent all interactions */
}

.systemsculpt-model-locked:hover {
  background-color: transparent !important; /* Remove hover effect */
}

.systemsculpt-model-locked .systemsculpt-model-indicator-arrow {
  color: var(--text-accent);
}

.systemsculpt-model-locked .systemsculpt-model-indicator-arrow svg {
  color: var(--text-accent);
}

/* resume-chat.css */
/* Resume Chat Button Container */
.systemsculpt-resume-chat-button {
  position: sticky;
  top: 0;
  display: flex;
  justify-content: flex-end;
  padding: 16px;
  padding-right: 50px !important; /* 50px from right edge */
  background: var(--background-primary);
  border-bottom: 1px solid var(--background-modifier-border);
  z-index: 10;
  margin-bottom: 16px;
  margin-left: 0;
  margin-right: 0;
}

/* Resume Chat Button */
.systemsculpt-resume-chat-btn {
  padding: 12px 24px;
  font-size: 16px;
  font-weight: 600;
  background: var(--interactive-accent) !important;
  color: var(--text-on-accent) !important;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgb(0, 0, 0);
  display: flex;
  align-items: center;
  gap: 8px;
}

.systemsculpt-resume-chat-btn:hover {
  background: var(--interactive-accent-hover) !important;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgb(0, 0, 0);
}

.systemsculpt-resume-chat-btn:active {
  transform: translateY(0);
  box-shadow: 0 1px 2px rgb(0, 0, 0);
}

/* Add icon to button */
.systemsculpt-resume-chat-btn::before {
  content: "";
  width: 20px;
  height: 20px;
  background-color: currentColor;
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z'%3E%3C/path%3E%3C/svg%3E");
  mask-repeat: no-repeat;
  mask-size: contain;
  mask-position: center;
}

/* Dark mode adjustments */
.theme-dark .systemsculpt-resume-chat-button {
  background: var(--background-primary);
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .systemsculpt-resume-chat-button {
    padding: 12px;
  }

  .systemsculpt-resume-chat-btn {
    padding: 10px 20px;
    font-size: 14px;
  }

  .systemsculpt-resume-chat-btn::before {
    width: 18px;
    height: 18px;
  }
}

/* Reading mode specific adjustments */
.markdown-reading-view .systemsculpt-resume-chat-button {
  margin-top: 0;
  margin-left: -16px;
  margin-right: -16px;
  border-radius: 0;
  padding-right: 50px !important; /* Maintain 50px from right edge */
}

/* Source mode specific adjustments */
.cm-editor .systemsculpt-resume-chat-button {
  position: absolute;
  top: 0;
  right: 0;
  left: auto;
  background: transparent;
  border: none;
  padding: 8px;
  padding-right: 50px !important; /* Maintain 50px from right edge */
}

/* mcp.css */
/* MCP (Model Context Protocol) Component Styles */

/* MCP Server Modal */
.systemsculpt-mcp-server-modal .modal-content {
  padding: 20px;
}

.systemsculpt-mcp-server-form {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.systemsculpt-mcp-server-form-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.systemsculpt-mcp-server-form-group label {
  font-weight: 500;
  font-size: 14px;
  color: var(--text-normal);
}

.systemsculpt-mcp-server-form-group input,
.systemsculpt-mcp-server-form-group select {
  width: 100%;
  padding: 8px 12px;
  background: var(--background-modifier-form-field);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  color: var(--text-normal);
  font-size: 14px;
}

.systemsculpt-mcp-server-form-group input:focus,
.systemsculpt-mcp-server-form-group select:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--interactive-accent-hover);
}

.systemsculpt-mcp-server-form-group.error input,
.systemsculpt-mcp-server-form-group.error select {
  border-color: var(--text-error);
}

.systemsculpt-mcp-server-form-validation {
  color: var(--text-error);
  font-size: 12px;
  margin-top: 4px;
}

.systemsculpt-mcp-info-notice {
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 12px;
  margin-top: 8px;
}

.systemsculpt-mcp-info-notice p {
  margin: 0;
  font-size: 13px;
  line-height: 1.5;
}

.systemsculpt-mcp-stdio-note {
  background: var(--background-modifier-error-rgb);
  border: 1px solid var(--text-error);
  border-radius: 4px;
  padding: 12px;
  margin-top: 8px;
}

.systemsculpt-mcp-stdio-note p {
  margin: 0;
  color: var(--text-error);
  font-size: 13px;
}

/* Legacy MCP Tools Modal (keeping for compatibility) */
.systemsculpt-mcp-tools-modal .modal-content {
  padding: 20px;
  max-height: 60vh;
  overflow-y: auto;
}

.systemsculpt-mcp-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px;
  gap: 16px;
}

.systemsculpt-mcp-loading-text {
  color: var(--text-muted);
  font-size: 14px;
}

.systemsculpt-mcp-loading-spinner {
  width: 32px;
  height: 32px;
  border: 3px solid var(--background-modifier-border);
  border-top-color: var(--interactive-accent);
  border-radius: 50%;
  animation: systemsculpt-spin 1s linear infinite;
}

@keyframes systemsculpt-spin {
  to { transform: rotate(360deg); }
}

.systemsculpt-mcp-error {
  padding: 20px;
  text-align: center;
}

.systemsculpt-mcp-error p {
  margin-bottom: 16px;
}

.systemsculpt-mcp-tools-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.systemsculpt-mcp-bulk-actions {
  display: flex;
  gap: 8px;
  margin-bottom: 16px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-mcp-tools-items {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.systemsculpt-mcp-tool-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  transition: all 0.2s ease;
}

.systemsculpt-mcp-tool-item:hover {
  border-color: var(--background-modifier-border-hover);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.systemsculpt-mcp-tool-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.systemsculpt-mcp-tool-name {
  font-weight: 500;
  font-size: 14px;
  color: var(--text-normal);
}

.systemsculpt-mcp-tool-description {
  font-size: 12px;
  color: var(--text-muted);
  line-height: 1.4;
}

.systemsculpt-mcp-tool-toggle {
  margin-left: 16px;
}

/* MCP Settings Section */
.systemsculpt-mcp-servers-management {
  margin-top: 16px;
}

.systemsculpt-mcp-status {
  display: flex;
  align-items: center;
  margin-top: 8px;
  font-size: 12px;
  gap: 4px;
}

.systemsculpt-mcp-status-icon {
  width: 14px;
  height: 14px;
}

.systemsculpt-mcp-status-icon.mod-success {
  color: var(--text-success);
}

.systemsculpt-mcp-status-icon.mod-error {
  color: var(--text-error);
}

.systemsculpt-mcp-status .mod-success {
  color: var(--text-success);
}

.systemsculpt-mcp-status .mod-error {
  color: var(--text-error);
}

.systemsculpt-mcp-info {
  margin-top: 16px;
  padding: 12px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
}

.systemsculpt-mcp-info p {
  margin: 0;
  font-size: 13px;
  line-height: 1.5;
  color: var(--text-muted);
}

/* Spinning animation for buttons */
.systemsculpt-spinning svg {
  animation: systemsculpt-spin 1s linear infinite;
}

/* API Key Container (reused from custom provider) */
.systemsculpt-api-key-input-container {
  display: flex;
  align-items: center;
  gap: 8px;
}

.systemsculpt-api-key-input-container input {
  flex: 1;
}

.systemsculpt-api-key-toggle-visibility {
  background: none;
  border: none;
  color: var(--text-muted);
  cursor: pointer;
  padding: 4px;
  border-radius: 3px;
}

.systemsculpt-api-key-toggle-visibility:hover {
  color: var(--text-normal);
}

.systemsculpt-optional-field-text {
  color: var(--text-muted);
  font-size: 0.9em;
  font-weight: normal;
}

/* MCP Filesystem Consent Modal */
.systemsculpt-filesystem-consent-modal .modal-content {
  padding: 20px;
}

.systemsculpt-filesystem-consent-content {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.systemsculpt-consent-section {
  padding: 16px;
  border-radius: 6px;
  background: var(--background-secondary);
}

.systemsculpt-consent-section h3 {
  margin: 0 0 12px 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-consent-section p {
  margin: 0 0 8px 0;
  font-size: 14px;
  line-height: 1.5;
  color: var(--text-normal);
}

.systemsculpt-consent-section ul {
  margin: 8px 0;
  padding-left: 20px;
}

.systemsculpt-consent-section li {
  margin-bottom: 4px;
  font-size: 14px;
  color: var(--text-normal);
}

.systemsculpt-consent-note {
  background: var(--background-modifier-error-rgb);
  border: 1px solid var(--text-error);
  border-radius: 4px;
  padding: 12px;
}

.systemsculpt-consent-note p {
  margin: 0;
  color: var(--text-error);
  font-size: 13px;
}

/* Legacy Grid Layout (keeping for compatibility) */
.systemsculpt-mcp-tools-subheader {
  font-size: 0.9em;
  color: var(--text-muted);
  margin-bottom: 8px;
}

.systemsculpt-mcp-tools-description {
  margin-bottom: 16px;
}

.systemsculpt-mcp-tools-grid {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  transition: all 0.2s ease;
}

.systemsculpt-mcp-tools-grid .systemsculpt-mcp-tool-item {
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  transition: all 0.2s ease;
}

.systemsculpt-mcp-tools-grid .systemsculpt-mcp-tool-item:hover {
  border-color: var(--interactive-accent-hover);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-mcp-tools-grid .systemsculpt-mcp-tool-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin-right: 12px;
}

.systemsculpt-mcp-tools-grid .systemsculpt-mcp-tool-name {
  font-weight: 500;
  font-size: 14px;
  color: var(--text-normal);
}

.systemsculpt-mcp-tools-grid .systemsculpt-mcp-tool-description {
  font-size: 12px;
  color: var(--text-muted);
  line-height: 1.4;
}

.systemsculpt-mcp-tools-grid .systemsculpt-mcp-tool-toggle {
  flex-shrink: 0;
}

/* ====== NEW COMPACT MCP MANAGER MODAL ====== */

/* Modal sizing - more compact, mobile-friendly */
.systemsculpt-mcp-manager-modal {
  min-width: 480px;
  max-width: min(640px, 95vw);
}

.systemsculpt-mcp-manager-modal .modal-content {
  padding: var(--size-4-4);
  max-height: 80vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.systemsculpt-tools-container {
  flex: 1;
  overflow-y: auto;
  margin-top: var(--size-4-3);
  padding-right: var(--size-4-1); /* Add space for scrollbar */
}

/* Let Obsidian handle all setting-item styling natively */

/* Agent status indicator */
.systemsculpt-agent-status {
  margin-top: var(--size-4-1);
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  font-style: italic;
}

/* Server section headers */
.systemsculpt-server-section {
  margin: var(--size-4-4) 0 var(--size-4-2) 0;
}

.systemsculpt-server-title {
  margin: 0 0 var(--size-4-2) 0;
  font-size: var(--font-ui-medium);
  font-weight: var(--font-medium);
  color: var(--text-normal);
  padding-bottom: var(--size-4-1);
  border-bottom: 1px solid var(--background-modifier-border);
}

/* Let Obsidian handle setting-item-control styling natively */

/* Let native Obsidian handle checkbox container styling */

/* Custom styling for specific components only - not modifying base Obsidian */
.systemsculpt-no-active-chat .setting-item-name {
  color: var(--text-muted);
}

/* Modal actions removed - immediate saving implemented */

/* Mobile responsiveness */
@media (max-width: 600px) {
  .systemsculpt-mcp-manager-modal {
    min-width: 320px;
    max-width: 100vw;
  }
  
  .systemsculpt-mcp-manager-modal .modal-content {
    padding: var(--size-4-3);
  }
  
  /* Let Obsidian handle mobile responsiveness for setting items */
}

@media (max-width: 400px) {
  .systemsculpt-mcp-manager-modal {
    min-width: 280px;
  }
  
  /* No modal actions to style */
}

/* Disabled tool settings when agent mode is off */
.systemsculpt-tool-setting.mod-disabled {
  opacity: 0.5;
  pointer-events: none;
}

/* Let Obsidian's native disabled states handle the styling */

/* Bulk actions styling */
.systemsculpt-bulk-actions .setting-item-control {
  display: flex;
  flex-direction: column;
  gap: var(--size-4-2);
  align-items: stretch;
}

.systemsculpt-bulk-actions .setting-item-control > button {
  width: 100%;
  margin: 0;
}

/* Disabled bulk actions when agent mode is off */
.systemsculpt-bulk-actions.mod-disabled {
  opacity: 0.5;
}

/* Let Obsidian handle bulk action styling natively too */

/* ====== TOOL CATEGORIZATION STYLES ====== */

/* Tool category sections */
.systemsculpt-tool-category {
  margin-bottom: var(--size-4-6);
}

.systemsculpt-category-header {
  margin-bottom: var(--size-4-2);
  padding-bottom: var(--size-4-2);
  border-bottom: 2px solid var(--background-modifier-border);
}

.systemsculpt-category-title {
  margin: 0 0 var(--size-4-2) 0;
  font-size: var(--font-ui-larger);
  font-weight: var(--font-semibold);
  color: var(--text-normal);
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
}

.systemsculpt-category-title.systemsculpt-write-category {
  color: var(--text-warning);
}

.systemsculpt-warning-icon {
  color: var(--text-warning);
  display: inline-flex;
  align-items: center;
}

.systemsculpt-category-description {
  margin: 0;
  font-size: var(--font-ui-medium);
  color: var(--text-muted);
  line-height: var(--line-height-normal);
}

.systemsculpt-category-description.systemsculpt-write-warning {
  color: var(--text-warning);
  font-weight: var(--font-medium);
  background: var(--background-modifier-error-rgb);
  padding: var(--size-4-2);
  border-radius: var(--radius-s);
  border-left: 3px solid var(--text-warning);
}

/* Write tool styling */
.systemsculpt-tool-setting.systemsculpt-write-tool {
  background: var(--background-modifier-error-rgb);
}

.systemsculpt-tool-setting.systemsculpt-write-tool .setting-item-name {
  color: var(--text-warning);
  font-weight: var(--font-medium);
}

/* Enhanced server section styling within categories */
.systemsculpt-tool-category .systemsculpt-server-section {
  margin: var(--size-4-3) 0 var(--size-4-2) 0;
}

.systemsculpt-tool-category .systemsculpt-server-title {
  font-size: var(--font-ui-medium);
  color: var(--text-muted);
}

/* mcp-result.css */
/* Tool call result styles have been moved to drawer.css */

/* batch-tool-call-approver.css */
/* MCP (Model Context Protocol) Component Styles */

/* MCP Server Modal */
.systemsculpt-mcp-server-modal .modal-content {
  padding: 20px;
}

.systemsculpt-mcp-server-form {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.systemsculpt-mcp-server-form-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.systemsculpt-mcp-server-form-group label {
  font-weight: 500;
  font-size: 14px;
  color: var(--text-normal);
}

.systemsculpt-mcp-server-form-group input,
.systemsculpt-mcp-server-form-group select {
  width: 100%;
  padding: 8px 12px;
  background: var(--background-modifier-form-field);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  color: var(--text-normal);
  font-size: 14px;
}

.systemsculpt-mcp-server-form-group input:focus,
.systemsculpt-mcp-server-form-group select:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--interactive-accent-hover);
}

.systemsculpt-mcp-server-form-group.error input,
.systemsculpt-mcp-server-form-group.error select {
  border-color: var(--text-error);
}

.systemsculpt-mcp-server-form-validation {
  color: var(--text-error);
  font-size: 12px;
  margin-top: 4px;
}

.systemsculpt-mcp-info-notice {
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 12px;
  margin-top: 8px;
}

.systemsculpt-mcp-info-notice p {
  margin: 0;
  font-size: 13px;
  line-height: 1.5;
}

.systemsculpt-mcp-stdio-note {
  background: var(--background-modifier-error-rgb);
  border: 1px solid var(--text-error);
  border-radius: 4px;
  padding: 12px;
  margin-top: 8px;
}

.systemsculpt-mcp-stdio-note p {
  margin: 0;
  color: var(--text-error);
  font-size: 13px;
}

/* MCP Tools Modal */
.systemsculpt-mcp-tools-modal .modal-content {
  padding: 20px;
  max-height: 60vh;
  overflow-y: auto;
}

.systemsculpt-mcp-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px;
  gap: 16px;
}

.systemsculpt-mcp-loading-text {
  color: var(--text-muted);
  font-size: 14px;
}

.systemsculpt-mcp-loading-spinner {
  width: 32px;
  height: 32px;
  border: 3px solid var(--background-modifier-border);
  border-top-color: var(--interactive-accent);
  border-radius: 50%;
  animation: systemsculpt-spin 1s linear infinite;
}

@keyframes systemsculpt-spin {
  to { transform: rotate(360deg); }
}

.systemsculpt-mcp-error {
  padding: 20px;
  text-align: center;
}

.systemsculpt-mcp-error p {
  margin-bottom: 16px;
}

.systemsculpt-mcp-tools-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.systemsculpt-mcp-bulk-actions {
  display: flex;
  gap: 8px;
  margin-bottom: 16px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-mcp-tools-items {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.systemsculpt-mcp-tool-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  transition: all 0.2s ease;
}

.systemsculpt-mcp-tool-item:hover {
  border-color: var(--background-modifier-border-hover);
  box-shadow: 0 2px 4px rgb(0, 0, 0);
}

.systemsculpt-mcp-tool-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.systemsculpt-mcp-tool-name {
  font-weight: 500;
  font-size: 14px;
  color: var(--text-normal);
}

.systemsculpt-mcp-tool-description {
  font-size: 12px;
  color: var(--text-muted);
  line-height: 1.4;
}

.systemsculpt-mcp-tool-toggle {
  margin-left: 16px;
}

/* MCP Settings Section */
.systemsculpt-mcp-servers-management {
  margin-top: 16px;
}

.systemsculpt-mcp-status {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  margin-left: 8px;
  font-size: 12px;
}

.systemsculpt-mcp-status-icon {
  display: inline-flex;
  align-items: center;
}

.systemsculpt-mcp-status .mod-success {
  color: var(--text-success);
}

.systemsculpt-mcp-status .mod-error {
  color: var(--text-error);
}

.systemsculpt-mcp-info {
  margin-top: 16px;
  padding: 12px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
}

.systemsculpt-mcp-info p {
  margin: 0;
  font-size: 13px;
  line-height: 1.5;
  color: var(--text-muted);
}

/* Spinning animation for buttons */
.systemsculpt-spinning svg {
  animation: systemsculpt-spin 1s linear infinite;
}

/* API Key Container (reused from custom provider) */
.systemsculpt-api-key-input-container {
  display: flex;
  align-items: center;
  gap: 8px;
}

.systemsculpt-api-key-input-container input {
  flex: 1;
}

.systemsculpt-api-key-toggle-visibility {
  flex-shrink: 0;
  padding: 4px 8px;
  background: var(--background-modifier-form-field);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.systemsculpt-api-key-toggle-visibility:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-optional-field-text {
  font-size: 0.85em;
  color: var(--text-muted);
  opacity: 1;
  margin-left: 8px;
}

/* Filesystem Consent Modal */
.systemsculpt-filesystem-consent-modal .modal-content {
  padding: 20px;
}

.systemsculpt-filesystem-consent-content {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.systemsculpt-consent-section {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.systemsculpt-consent-section h3 {
  font-size: 16px;
  font-weight: 600;
  margin: 0;
  color: var(--text-normal);
}

.systemsculpt-consent-section p {
  margin: 0;
  font-size: 14px;
  color: var(--text-muted);
}

.systemsculpt-consent-section ul {
  margin: 0;
  padding-left: 24px;
  list-style: disc;
}

.systemsculpt-consent-section li {
  font-size: 14px;
  color: var(--text-normal);
  margin-bottom: 4px;
}

.systemsculpt-consent-note {
  background: var(--background-modifier-error-rgb);
  border: 1px solid var(--text-error);
  border-radius: 4px;
  padding: 12px;
}

.systemsculpt-consent-note p {
  margin: 0;
  font-size: 14px;
  line-height: 1.5;
}

/* Default MCP Tools Grid */
.systemsculpt-mcp-tools-subheader {
  font-size: 18px;
  font-weight: 600;
  margin: 24px 0 8px 0;
  color: var(--text-normal);
}

.systemsculpt-mcp-tools-description {
  margin: 0 0 16px 0;
  color: var(--text-muted);
}

.systemsculpt-mcp-tools-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 12px;
  margin-bottom: 24px;
}

.systemsculpt-mcp-tools-grid .systemsculpt-mcp-tool-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  transition: all 0.2s ease;
}

.systemsculpt-mcp-tools-grid .systemsculpt-mcp-tool-item:hover {
  border-color: var(--interactive-accent-hover);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-mcp-tools-grid .systemsculpt-mcp-tool-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin-right: 12px;
}

.systemsculpt-mcp-tools-grid .systemsculpt-mcp-tool-name {
  font-weight: 500;
  font-size: 14px;
  color: var(--text-normal);
}

.systemsculpt-mcp-tools-grid .systemsculpt-mcp-tool-description {
  font-size: 12px;
  color: var(--text-muted);
  line-height: 1.4;
}

.systemsculpt-mcp-tools-grid .systemsculpt-mcp-tool-toggle {
  flex-shrink: 0;
}

/* Tool call content styles have been moved to drawer.css */

/* 
 * Batch Tool Call Approver Component Styles
 */

.systemsculpt-batch-tool-call-approver {
  background: var(--background-secondary);
  border: 1px solid var(--interactive-accent);
  border-radius: 8px;
  padding: 12px;
  margin: 8px 0;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.bta-header {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  color: var(--text-normal);
}

.bta-body h4 {
  margin: 0 0 8px 0;
  font-size: 14px;
  font-family: var(--font-monospace);
  color: var(--text-muted);
}

.bta-args {
  background: var(--background-primary);
  border-radius: 4px;
  padding: 8px;
  max-height: 200px;
  overflow-y: auto;
}

.bta-args pre {
  margin: 0;
  font-size: 12px;
  white-space: pre-wrap;
  word-break: break-all;
}

.bta-actions {
  display: flex;
  gap: 8px;
}

.bta-actions .btn {
  flex: 1;
}

.bta-timer-wrapper {
  height: 4px;
  background: var(--background-modifier-border);
  border-radius: 2px;
  overflow: hidden;
  margin-top: 8px;
}

.bta-timer-bar {
  height: 100%;
  width: 0%;
  background: var(--interactive-accent);
  border-radius: 2px;
}

/* Hide individual pending tool call drawers when batch approver is active */
.systemsculpt-message.has-batch-approval .systemsculpt-tool-call-wrapper[data-state="pending"] {
    display: none !important;
} 

/* diff-viewer.css */
/**
 * Diff Viewer Styles - Optimized for tool call UI
 */

.systemsculpt-diff-viewer {
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  background: var(--background-primary);
  overflow: hidden;
  font-size: var(--font-ui-smaller);
}

/* Compact Header */
.systemsculpt-diff-header {
  padding: 6px 10px;
  background: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-diff-file-info {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.systemsculpt-diff-filename {
  font-family: var(--font-monospace);
  font-weight: 500;
  color: var(--text-normal);
  font-size: var(--font-ui-smaller);
  flex-shrink: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.systemsculpt-diff-stats {
  font-family: var(--font-monospace);
  font-size: var(--font-ui-smallest);
  font-weight: 600;
  padding: 2px 6px;
  border-radius: var(--radius-xs);
  background: var(--background-modifier-form-field);
  color: var(--text-muted);
  flex-shrink: 0;
  min-width: fit-content;
}

.systemsculpt-diff-stats.systemsculpt-diff-no-changes {
  color: var(--text-faint);
  background: var(--background-modifier-hover);
}

/* Individual spans for additions and deletions */
.systemsculpt-diff-additions {
  color: var(--color-green);
}

.systemsculpt-diff-deletions {
  color: var(--color-red);
}

/* Background colors based on what types of changes exist */
.systemsculpt-diff-stats.systemsculpt-diff-has-additions {
  background: rgba(var(--color-green-rgb), 0.1);
}

.systemsculpt-diff-stats.systemsculpt-diff-has-deletions {
  background: rgba(var(--color-red-rgb), 0.1);
}

.systemsculpt-diff-stats.systemsculpt-diff-has-additions.systemsculpt-diff-has-deletions {
  background: rgba(var(--color-orange-rgb), 0.1);
}

/* Content */
.systemsculpt-diff-content {
  max-height: 400px;
  overflow-y: auto;
  font-family: var(--font-monospace);
}

.systemsculpt-diff-no-changes-notice {
  padding: 16px;
  text-align: center;
  color: var(--text-faint);
  font-style: italic;
  font-size: var(--font-ui-smaller);
}

/* Hunks */
.systemsculpt-diff-hunk {
  border-bottom: 1px solid var(--background-modifier-border-focus);
}

.systemsculpt-diff-hunk:last-child {
  border-bottom: none;
}

.systemsculpt-diff-hunk-separated {
  margin-top: 8px;
  border-top: 2px solid var(--background-modifier-border);
  position: relative;
}

.systemsculpt-diff-hunk-separated::before {
  content: '⋯';
  position: absolute;
  top: -10px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--background-primary);
  color: var(--text-faint);
  padding: 0 8px;
  font-size: var(--font-ui-smallest);
}

.systemsculpt-diff-lines {
  /* Container for lines in a hunk */
}

/* Lines */
.systemsculpt-diff-line {
  display: flex;
  align-items: stretch;
  min-height: 18px;
  line-height: 18px;
  font-size: var(--font-ui-smaller);
  border-left: 2px solid transparent;
}

.systemsculpt-diff-line-added {
  background: rgba(var(--color-green-rgb), 0.08);
  border-left-color: var(--color-green);
}

.systemsculpt-diff-line-removed {
  background: rgba(var(--color-red-rgb), 0.08);
  border-left-color: var(--color-red);
}

.systemsculpt-diff-line-unchanged {
  background: var(--background-primary);
  opacity: 0.7;
}

.systemsculpt-diff-line:hover {
  background: var(--background-modifier-hover);
}

.systemsculpt-diff-line-added:hover {
  background: rgba(var(--color-green-rgb), 0.12);
}

.systemsculpt-diff-line-removed:hover {
  background: rgba(var(--color-red-rgb), 0.12);
}

/* Line numbers (optional, compact) */
.systemsculpt-diff-line-numbers {
  min-width: 30px;
  color: var(--text-faint);
  font-size: var(--font-ui-smallest);
  text-align: right;
  padding: 0 4px;
  background: var(--background-modifier-hover);
  border-right: 1px solid var(--background-modifier-border);
  user-select: none;
  flex-shrink: 0;
}

/* Prefix symbols */
.systemsculpt-diff-prefix {
  width: 16px;
  text-align: center;
  font-weight: 600;
  user-select: none;
  padding: 0 2px;
  flex-shrink: 0;
}

.systemsculpt-diff-line-added .systemsculpt-diff-prefix {
  color: var(--color-green);
}

.systemsculpt-diff-line-removed .systemsculpt-diff-prefix {
  color: var(--color-red);
}

.systemsculpt-diff-line-unchanged .systemsculpt-diff-prefix {
  color: transparent;
}

/* Line content */
.systemsculpt-diff-line-content {
  flex: 1;
  padding: 0 6px;
  white-space: pre-wrap;
  word-break: break-word;
  min-width: 0;
  overflow-wrap: break-word;
  font-family: var(--font-monospace);
}

/* Dark theme adjustments */
.theme-dark .systemsculpt-diff-line-added {
  background: rgba(34, 197, 94, 0.08);
}

.theme-dark .systemsculpt-diff-line-removed {
  background: rgba(239, 68, 68, 0.08);
}

.theme-dark .systemsculpt-diff-line-added:hover {
  background: rgba(34, 197, 94, 0.12);
}

.theme-dark .systemsculpt-diff-line-removed:hover {
  background: rgba(239, 68, 68, 0.12);
}

/* Light theme adjustments */
.theme-light .systemsculpt-diff-line-added {
  background: rgba(34, 197, 94, 0.06);
}

.theme-light .systemsculpt-diff-line-removed {
  background: rgba(239, 68, 68, 0.06);
}

.theme-light .systemsculpt-diff-line-added:hover {
  background: rgba(34, 197, 94, 0.1);
}

.theme-light .systemsculpt-diff-line-removed:hover {
  background: rgba(239, 68, 68, 0.1);
}

/* Responsive design */
@media (max-width: 600px) {
  .systemsculpt-diff-line-numbers {
    min-width: 24px;
  }
  
  .systemsculpt-diff-prefix {
    width: 14px;
  }
  
  .systemsculpt-diff-line-content {
    padding: 0 4px;
  }
} 

/* tool-call-ui.css */
/**
 * Tool Call UI Enhancements - Compact display for file operations
 */

/* Write File Preview */
.systemsculpt-tool-call-content-preview {
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  background: var(--background-primary);
  overflow: hidden;
  margin-top: 8px;
}

.systemsculpt-tool-call-content-header {
  padding: 6px 10px;
  background: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-tool-call-content-info {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.systemsculpt-tool-call-content-filename {
  font-family: var(--font-monospace);
  font-weight: 500;
  color: var(--text-normal);
  font-size: var(--font-ui-smaller);
  flex-shrink: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.systemsculpt-tool-call-content-stats {
  font-family: var(--font-monospace);
  font-size: var(--font-ui-smallest);
  color: var(--text-muted);
  background: var(--background-modifier-form-field);
  padding: 2px 6px;
  border-radius: var(--radius-xs);
  flex-shrink: 0;
}

.systemsculpt-tool-call-content-body {
  max-height: 250px;
  overflow-y: auto;
}

.systemsculpt-tool-call-content-code {
  margin: 0;
  padding: 10px;
  background: var(--background-primary);
  border: none;
  font-family: var(--font-monospace);
  font-size: var(--font-ui-smaller);
  line-height: 1.4;
  color: var(--text-normal);
  white-space: pre-wrap;
  word-wrap: break-word;
  overflow-x: auto;
}

.systemsculpt-tool-call-content-code code {
  background: none;
  padding: 0;
  font-family: inherit;
  font-size: inherit;
  color: inherit;
}

.systemsculpt-tool-call-content-truncated {
  padding: 6px 10px;
  background: var(--background-modifier-hover);
  border-top: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  font-size: var(--font-ui-smallest);
  font-style: italic;
  text-align: center;
}

/* Edit File Preview */
.systemsculpt-tool-call-edits-preview {
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  background: var(--background-primary);
  overflow: hidden;
  margin-top: 8px;
}

.systemsculpt-tool-call-edits-header {
  padding: 6px 10px;
  background: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
  font-family: var(--font-monospace);
  font-weight: 500;
  color: var(--text-normal);
  font-size: var(--font-ui-smaller);
}

.systemsculpt-tool-call-edits-list {
  padding: 8px;
}

.systemsculpt-tool-call-edit-item {
  margin-bottom: 8px;
}

.systemsculpt-tool-call-edit-item:last-child {
  margin-bottom: 0;
}

.systemsculpt-tool-call-edit-remove,
.systemsculpt-tool-call-edit-add {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 6px;
  border-radius: var(--radius-xs);
  font-family: var(--font-monospace);
  font-size: var(--font-ui-smaller);
  line-height: 1.3;
}

.systemsculpt-tool-call-edit-remove {
  background: rgba(var(--color-red-rgb), 0.08);
  border-left: 2px solid var(--color-red);
  margin-bottom: 2px;
}

.systemsculpt-tool-call-edit-add {
  background: rgba(var(--color-green-rgb), 0.08);
  border-left: 2px solid var(--color-green);
}

.systemsculpt-tool-call-edit-prefix {
  font-weight: 600;
  width: 12px;
  text-align: center;
  flex-shrink: 0;
}

.systemsculpt-tool-call-edit-remove .systemsculpt-tool-call-edit-prefix {
  color: var(--color-red);
}

.systemsculpt-tool-call-edit-add .systemsculpt-tool-call-edit-prefix {
  color: var(--color-green);
}

.systemsculpt-tool-call-edit-text {
  white-space: pre-wrap;
  word-break: break-word;
  flex: 1;
  min-width: 0;
}

.systemsculpt-tool-call-edits-more {
  padding: 6px 10px;
  background: var(--background-modifier-hover);
  border-top: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  font-size: var(--font-ui-smallest);
  font-style: italic;
  text-align: center;
  font-family: var(--font-monospace);
}

/* Dark theme adjustments */
.theme-dark .systemsculpt-tool-call-edit-remove {
  background: rgba(239, 68, 68, 0.08);
}

.theme-dark .systemsculpt-tool-call-edit-add {
  background: rgba(34, 197, 94, 0.08);
}

/* Light theme adjustments */
.theme-light .systemsculpt-tool-call-edit-remove {
  background: rgba(239, 68, 68, 0.06);
}

.theme-light .systemsculpt-tool-call-edit-add {
  background: rgba(34, 197, 94, 0.06);
}

/* Responsive design */
@media (max-width: 600px) {
  .systemsculpt-tool-call-content-info {
    flex-direction: column;
    align-items: flex-start;
    gap: 4px;
  }
  
  .systemsculpt-tool-call-content-stats {
    align-self: flex-end;
  }
  
  .systemsculpt-tool-call-edit-remove,
  .systemsculpt-tool-call-edit-add {
    padding: 3px 5px;
    gap: 4px;
  }
} 

/* codemirror-diff.css */
/* CodeMirror Diff Overlay Styles */

/* Notification banner */
.cm-diff-notification {
    position: relative;
    z-index: 1000;
    background-color: var(--background-primary);
    border: 2px solid #ff8c00;
    border-radius: 6px;
    margin-bottom: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    animation: cm-diff-notification-fade-in 0.3s ease-out;
    width: 80%;
    margin-left: auto;
    margin-right: auto;
}

.cm-diff-notification-content {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    gap: 10px;
}

.cm-diff-notification-icon {
    font-size: 16px;
    flex-shrink: 0;
}

.cm-diff-notification-text {
    flex: 1;
    font-size: 14px;
    font-weight: 500;
    color: var(--text-normal);
}

.cm-diff-notification-close {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 18px;
    padding: 0;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    color: var(--text-muted);
    transition: all 0.2s ease;
}

.cm-diff-notification-close:hover {
    background-color: var(--background-modifier-hover);
    color: var(--text-normal);
}

@keyframes cm-diff-notification-fade-in {
    from { 
        opacity: 0; 
        transform: translateY(-10px); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0); 
    }
}

/* Legacy line highlighting (kept for compatibility) */
.cm-diff-line-added {
    background-color: rgba(0, 170, 0, 0.1) !important;
    border-left: 3px solid #00aa00 !important;
    position: relative;
    border-radius: 2px;
    margin: 1px 0;
}

.cm-diff-line-removed {
    background-color: rgba(204, 0, 0, 0.1) !important;
    border-left: 3px solid #cc0000 !important;
    position: relative;
    border-radius: 2px;
    margin: 1px 0;
}



/* Dark theme adjustments for legacy line highlighting */
.theme-dark .cm-diff-line-added {
    background-color: rgba(0, 170, 0, 0.15) !important;
    border-left-color: #22aa22 !important;
}

.theme-dark .cm-diff-line-removed {
    background-color: rgba(204, 0, 0, 0.15) !important;
    border-left-color: #dd2222 !important;
}

.theme-dark .cm-diff-notification {
    border-color: #ff9c20;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

/* Light theme adjustments */
.theme-light .cm-diff-line-added {
    background-color: rgba(0, 170, 0, 0.08) !important;
}

.theme-light .cm-diff-line-removed {
    background-color: rgba(204, 0, 0, 0.08) !important;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .cm-diff-line-added {
        background-color: rgba(0, 255, 0, 0.2) !important;
        border-left-width: 4px !important;
    }
    
    .cm-diff-line-removed {
        background-color: rgba(255, 0, 0, 0.2) !important;
        border-left-width: 4px !important;
    }
}



/* Improve visibility when lines are focused */
.cm-diff-line-added.cm-active,
.cm-diff-line-removed.cm-active {
    background-color: var(--background-modifier-active-hover) !important;
}

/* Smooth transitions for better UX */
.cm-diff-line-added,
.cm-diff-line-removed {
    transition: background-color 0.2s ease, border-color 0.2s ease;
}

/* Make sure diff lines are visible during selection */
.cm-diff-line-added::selection,
.cm-diff-line-removed::selection {
    background-color: var(--text-selection) !important;
}

/* Accessibility improvements */
.cm-diff-notification[role="alert"] {
    /* Announce changes to screen readers */
}

/* Mobile responsiveness */
@media (max-width: 768px) {
    .cm-diff-notification-content {
        padding: 10px 12px;
        gap: 8px;
    }
    
    .cm-diff-notification-text {
        font-size: 13px;
    }
    

}

/* Enhanced diff widget styles */
.cm-diff-widget-added,
.cm-diff-widget-removed {
    display: block;
    font-family: var(--font-monospace);
    font-size: var(--editor-font-size);
    line-height: var(--line-height-normal);
    margin: 1px 0;
    border-radius: var(--radius-xs);
    position: relative;
    min-height: var(--line-height-normal);
    padding: 2px 8px;
}

.cm-diff-widget-added {
    background-color: rgba(var(--color-green-rgb), 0.1);
    border: 1px solid rgba(var(--color-green-rgb), 0.2);
}

.cm-diff-widget-removed {
    background-color: rgba(var(--color-red-rgb), 0.1);
    border: 1px solid rgba(var(--color-red-rgb), 0.2);
}



.cm-diff-widget-text {
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow-wrap: break-word;
    color: var(--text-normal);
    line-height: var(--line-height-normal);
    display: block;
    width: 100%;
}

/* Improved line highlighting for original removed lines */
.cm-diff-line-original-removed {
    background-color: rgba(var(--color-red-rgb), 0.05) !important;
    border-left: 2px solid rgba(var(--color-red-rgb), 0.3) !important;
    opacity: 0.7;
    position: relative;
}

/* Theme-specific adjustments */
.theme-dark .cm-diff-widget-added {
    background-color: rgba(34, 170, 34, 0.12);
    border-color: rgba(34, 170, 34, 0.25);
}

.theme-dark .cm-diff-widget-removed {
    background-color: rgba(221, 34, 34, 0.12);
    border-color: rgba(221, 34, 34, 0.25);
}



.theme-dark .cm-diff-line-original-removed {
    background-color: rgba(221, 34, 34, 0.08) !important;
    border-left-color: rgba(221, 34, 34, 0.35) !important;
}

.theme-light .cm-diff-line-original-removed {
    background-color: rgba(204, 0, 0, 0.05) !important;
    border-left-color: rgba(204, 0, 0, 0.25) !important;
}

/* High contrast support */
@media (prefers-contrast: high) {
    .cm-diff-widget-added,
    .cm-diff-widget-removed {
        border-width: 2px;
    }
    
    .cm-diff-line-original-removed {
        border-left-width: 3px !important;
    }
}

/* Hover effects for better interactivity */
.cm-diff-widget-added:hover,
.cm-diff-widget-removed:hover {
    filter: brightness(1.05);
    transition: filter 0.1s ease;
}

/* Ensure proper spacing and alignment */
.cm-diff-widget-added + .cm-line,
.cm-diff-widget-removed + .cm-line {
    margin-top: 1px;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
    .cm-diff-widget-added,
    .cm-diff-widget-removed {
        padding: 2px 6px;
    }
} 

/* notices.css */
/* 
  Custom styles for SystemSculpt Notices
*/

.systemsculpt-notice-title {
  font-weight: bold;
  margin-bottom: 4px;
}

.systemsculpt-notice-path {
  font-family: var(--font-monospace);
  font-size: 0.9em;
  color: var(--text-accent);
  padding: 4px 8px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  margin-bottom: 4px;
  word-break: break-all; /* Ensure long paths wrap */
}

.systemsculpt-notice-message {
  font-size: 0.9em;
  /* Removed opacity to look more like a vanilla notice */
}

.system-sculpt-notice {
  padding: 10px 15px;
  border-radius: var(--radius-m);
  display: flex;
  align-items: center;
  justify-content: space-between;
} 

/* title-generation-notice.css */
/* Title Generation Notice Styles */

.systemsculpt-title-notice {
  position: fixed;
  bottom: 30px;
  right: 30px;
  z-index: 1000;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  padding: 16px;
  min-width: 280px;
  max-width: 400px;
  opacity: 0;
  transform: translateX(100%);
  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.systemsculpt-title-notice--visible {
  opacity: 1;
  transform: translateX(0);
}

.systemsculpt-title-notice-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
}

.systemsculpt-title-notice-title {
  font-weight: 600;
  font-size: 14px;
  color: var(--text-normal);
  margin: 0;
}

.systemsculpt-title-notice-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  cursor: pointer;
  opacity: 0.7;
  border-radius: 4px;
  transition: all 0.2s ease;
  color: var(--text-muted);
}

.systemsculpt-title-notice-close:hover {
  opacity: 1;
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.systemsculpt-title-notice-progress-text {
  font-size: 13px;
  color: var(--text-normal);
  margin-bottom: 8px;
  line-height: 1.4;
}

.systemsculpt-title-notice-progress-bg {
  width: 100%;
  height: 6px;
  background-color: var(--background-modifier-border);
  border-radius: 3px;
  overflow: hidden;
}

.systemsculpt-title-notice-progress-bar {
  height: 100%;
  background-color: var(--text-accent);
  border-radius: 3px;
  transition: width 0.3s ease;
  width: 0%;
  background: linear-gradient(90deg, var(--text-accent), var(--text-accent-hover));
  background-size: 200% 100%;
  animation: progress-shimmer 2s infinite;
}

.systemsculpt-title-notice-progress-bar--error {
  background-color: var(--text-error) !important;
  animation: none !important;
}

@keyframes progress-shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.systemsculpt-title-notice-countdown {
  margin-top: 12px;
  padding-top: 8px;
  border-top: 1px solid var(--background-modifier-border);
  font-size: 12px;
  color: var(--text-muted);
  text-align: center;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.systemsculpt-title-notice-countdown--visible {
  opacity: 1;
}

/* Animation for sliding out */
@keyframes slide-out-right {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

/* update-drawer.css */
/* 
  SystemSculpt Update Notification Drawer
  Minimal, native Obsidian styling
*/

.systemsculpt-update-drawer {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 280px;
  max-width: calc(100vw - 40px);
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  box-shadow: var(--shadow-s);
  z-index: 9999;
  transform: translateY(10px);
  opacity: 0;
  transition: transform 0.2s ease, opacity 0.2s ease;
  font-family: var(--font-interface);
  font-size: var(--font-ui-small);
}

.systemsculpt-update-drawer.visible {
  transform: translateY(0);
  opacity: 1;
}

/* Simple header without colored background */
.systemsculpt-update-drawer-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px 8px 16px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-update-drawer-title {
  font-weight: var(--font-weight-medium);
  font-size: var(--font-ui-small);
  color: var(--text-normal);
}

/* Minimal close button */
.systemsculpt-update-drawer-close {
  cursor: pointer;
  width: 16px;
  height: 16px;
  position: relative;
  opacity: 0.5;
  transition: opacity 0.15s ease;
  background: transparent;
  border: none;
  outline: none;
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-update-drawer-close:hover,
.systemsculpt-update-drawer-close:focus-visible {
  opacity: 1;
}

.systemsculpt-update-drawer-close::before,
.systemsculpt-update-drawer-close::after {
  content: '';
  position: absolute;
  width: 1px;
  height: 10px;
  background: var(--text-muted);
}

.systemsculpt-update-drawer-close::before {
  transform: rotate(45deg);
}

.systemsculpt-update-drawer-close::after {
  transform: rotate(-45deg);
}

/* Content area */
.systemsculpt-update-drawer-content {
  padding: 8px 16px 16px 16px;
}

.systemsculpt-update-drawer-message {
  margin-bottom: 12px;
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  line-height: 1.3;
}

/* Simple version display */
.systemsculpt-update-drawer-versions {
  margin-bottom: 16px;
  font-family: var(--font-monospace);
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
  text-align: center;
}

.systemsculpt-update-drawer-current {
  opacity: 0.6;
}

.systemsculpt-update-drawer-latest {
  color: var(--text-normal);
  font-weight: var(--font-weight-medium);
}

.systemsculpt-update-drawer-arrow {
  margin: 0 6px;
  opacity: 0.5;
}

/* Simple button matching Obsidian's style */
.systemsculpt-update-drawer-button {
  width: 100%;
  padding: 6px 12px;
  font-size: var(--font-ui-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border: 1px solid var(--interactive-accent);
  border-radius: var(--button-radius);
  transition: all 0.15s ease;
  outline: none;
}

.systemsculpt-update-drawer-button:hover {
  background: var(--interactive-accent-hover);
  border-color: var(--interactive-accent-hover);
}

.systemsculpt-update-drawer-button:focus-visible {
  outline: 2px solid var(--background-modifier-border-focus);
  outline-offset: 1px;
}

/* Mobile responsive */
@media (max-width: 768px) {
  .systemsculpt-update-drawer {
    bottom: 16px;
    right: 16px;
    left: 16px;
    width: auto;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .systemsculpt-update-drawer {
    transition: opacity 0.15s ease;
    transform: none;
  }
  
  .systemsculpt-update-drawer.visible {
    transform: none;
  }
}

/* device-info.css */
/**
 * Device Information Display Styles
 * Used in the Advanced tab to show mobile device detection information
 */

.systemsculpt-device-info-container {
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 16px;
  margin: 12px 0;
}

.systemsculpt-device-summary {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border-hover);
  border-radius: 6px;
  padding: 12px;
  margin-bottom: 16px;
}

.systemsculpt-device-summary h4 {
  margin: 0 0 8px 0;
  color: var(--text-accent);
  font-size: 1.1em;
  font-weight: 600;
}

.systemsculpt-device-summary-content {
  margin-bottom: 8px;
}

.systemsculpt-device-summary-text {
  font-size: 1.05em;
  font-weight: 500;
  color: var(--text-normal);
  padding: 4px 0;
}

.systemsculpt-device-warnings {
  margin-top: 8px;
}

.systemsculpt-device-warning {
  background: var(--background-modifier-error);
  color: var(--text-error);
  border: 1px solid var(--background-modifier-error-hover);
  border-radius: 4px;
  padding: 6px 8px;
  margin: 4px 0;
  font-size: 0.9em;
  font-weight: 500;
}

.systemsculpt-device-details {
  display: grid;
  gap: 12px;
}

.systemsculpt-device-details h4 {
  margin: 0 0 12px 0;
  color: var(--text-accent);
  font-size: 1.1em;
  font-weight: 600;
  border-bottom: 1px solid var(--background-modifier-border);
  padding-bottom: 6px;
}

.systemsculpt-device-section {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  padding: 12px;
}

.systemsculpt-device-section h5 {
  margin: 0 0 8px 0;
  color: var(--text-accent);
  font-size: 1em;
  font-weight: 600;
}

.systemsculpt-device-section h6 {
  margin: 12px 0 6px 0;
  color: var(--text-muted);
  font-size: 0.9em;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.systemsculpt-device-section-content {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.systemsculpt-device-section-content > div {
  font-size: 0.9em;
  color: var(--text-normal);
  padding: 2px 0;
}

.systemsculpt-device-capability {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 4px 0;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-device-capability:last-child {
  border-bottom: none;
}

.systemsculpt-capability-available {
  color: var(--text-success);
  font-weight: 500;
}

.systemsculpt-capability-unavailable {
  color: var(--text-error);
  font-weight: 500;
}

.systemsculpt-device-limitation {
  color: var(--text-muted);
  font-size: 0.9em;
  padding: 2px 0;
  line-height: 1.4;
}

.systemsculpt-device-alternative {
  color: var(--text-accent);
  font-size: 0.9em;
  padding: 2px 0;
  line-height: 1.4;
}

.systemsculpt-npm-packages {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 6px;
}

.systemsculpt-npm-package-tag {
  background: var(--background-modifier-border);
  color: var(--text-muted);
  border: 1px solid var(--background-modifier-border-hover);
  border-radius: 12px;
  padding: 4px 8px;
  font-size: 0.8em;
  font-weight: 500;
  display: inline-block;
}

.systemsculpt-npm-package-more {
  background: var(--background-modifier-border-hover);
  color: var(--text-accent);
  font-style: italic;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .systemsculpt-device-info-container {
    padding: 12px;
    margin: 8px 0;
  }
  
  .systemsculpt-device-summary,
  .systemsculpt-device-section {
    padding: 10px;
  }
  
  .systemsculpt-device-capability {
    flex-direction: column;
    align-items: flex-start;
    gap: 2px;
  }
  
  .systemsculpt-npm-packages {
    gap: 4px;
  }
  
  .systemsculpt-npm-package-tag {
    font-size: 0.75em;
    padding: 3px 6px;
  }
}

/* Dark mode adjustments */
.theme-dark .systemsculpt-device-info-container {
  background: var(--background-secondary);
  border-color: var(--background-modifier-border);
}

.theme-dark .systemsculpt-device-summary,
.theme-dark .systemsculpt-device-section {
  background: var(--background-primary);
  border-color: var(--background-modifier-border-hover);
}

.theme-dark .systemsculpt-npm-package-tag {
  background: var(--background-modifier-border-hover);
  border-color: var(--background-modifier-border-focus);
}

/* Light mode adjustments */
.theme-light .systemsculpt-device-info-container {
  background: #fafafa;
  border-color: #e0e0e0;
}

.theme-light .systemsculpt-device-summary,
.theme-light .systemsculpt-device-section {
  background: #ffffff;
  border-color: #d0d0d0;
}

.theme-light .systemsculpt-npm-package-tag {
  background: #f0f0f0;
  border-color: #d0d0d0;
}

/* slash-commands.css */
/**
 * Slash Command Menu Styles
 * 
 * A sleek dropdown menu that appears when users type "/" in the chat input.
 * Follows Obsidian's native UI patterns and is responsive for mobile devices.
 */

/* Main menu container */
.systemsculpt-slash-command-menu {
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
  min-width: 400px;
  max-width: 500px;
  max-height: 300px;
  overflow: hidden;
  font-family: var(--font-interface);
  z-index: 1000;
  display: none;
}

/* Search container (now at bottom) */
.systemsculpt-slash-search-container {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  border-top: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
  gap: 8px;
  border-bottom-left-radius: 8px;
  border-bottom-right-radius: 8px;
}

/* Search icon */
.systemsculpt-slash-search-icon {
  color: var(--text-muted);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
}

.systemsculpt-slash-search-icon svg {
  width: 16px;
  height: 16px;
}

/* Search input */
.systemsculpt-slash-search-input {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  color: var(--text-normal);
  font-size: 14px;
  font-family: var(--font-interface);
  padding: 4px 0;
}

.systemsculpt-slash-search-input::placeholder {
  color: var(--text-muted);
}

/* Results container (now at top) */
.systemsculpt-slash-results-container {
  max-height: 240px;
  overflow-y: auto;
  background-color: var(--background-primary);
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
}

/* Result item */
.systemsculpt-slash-result-item {
  display: flex;
  align-items: center;
  padding: 10px 12px;
  cursor: pointer;
  border-bottom: 1px solid var(--background-modifier-border);
  transition: background-color 0.1s ease;
  gap: 12px;
}

.systemsculpt-slash-result-item:last-child {
  border-bottom: none;
}

.systemsculpt-slash-result-item:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-slash-result-item.is-selected {
  background-color: var(--background-modifier-active-hover);
}

/* Result icon */
.systemsculpt-slash-result-icon {
  color: var(--text-muted);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
}

.systemsculpt-slash-result-icon svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-slash-result-item.is-selected .systemsculpt-slash-result-icon {
  color: var(--interactive-accent);
}

/* Result content */
.systemsculpt-slash-result-content {
  flex: 1;
  min-width: 0; /* Allow text to truncate */
}

/* Result title */
.systemsculpt-slash-result-title {
  font-weight: 500;
  font-size: 14px;
  color: var(--text-normal);
  margin-bottom: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-slash-result-item.is-selected .systemsculpt-slash-result-title {
  color: var(--interactive-accent);
}

/* Result description */
.systemsculpt-slash-result-description {
  font-size: 12px;
  color: var(--text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Scrollbar styling for results container */
.systemsculpt-slash-results-container::-webkit-scrollbar {
  width: 4px;
}

.systemsculpt-slash-results-container::-webkit-scrollbar-track {
  background: var(--background-modifier-border);
}

.systemsculpt-slash-results-container::-webkit-scrollbar-thumb {
  background: var(--text-muted);
  border-radius: 2px;
}

.systemsculpt-slash-results-container::-webkit-scrollbar-thumb:hover {
  background: var(--text-normal);
}

/* Empty state (when no commands match search) */
.systemsculpt-slash-empty-state {
  padding: 20px;
  text-align: center;
  color: var(--text-muted);
  font-size: 12px;
}

/* Mobile responsive design */
@media (max-width: 600px) {
  .systemsculpt-slash-command-menu {
    min-width: 320px;
    max-width: calc(100vw - 20px);
    left: 10px !important;
    right: 10px !important;
    width: auto !important;
  }
  
  .systemsculpt-slash-search-container {
    padding: 10px 14px;
  }
  
  .systemsculpt-slash-search-input {
    font-size: 16px; /* Prevent zoom on iOS */
  }
  
  .systemsculpt-slash-result-item {
    padding: 12px 14px;
    gap: 14px;
  }
  
  .systemsculpt-slash-result-title {
    font-size: 15px;
  }
  
  .systemsculpt-slash-result-description {
    font-size: 13px;
  }
}

/* Small mobile screens */
@media (max-width: 400px) {
  .systemsculpt-slash-command-menu {
    min-width: 280px;
  }
  
  .systemsculpt-slash-result-item {
    padding: 10px 12px;
  }
}

/* High DPI displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .systemsculpt-slash-command-menu {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
  }
}

/* Dark theme adjustments */
.theme-dark .systemsculpt-slash-command-menu {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
}

/* Animation for menu appearance */
.systemsculpt-slash-command-menu {
  transform-origin: top left;
  animation: systemsculpt-slash-menu-appear 0.1s ease-out;
}

@keyframes systemsculpt-slash-menu-appear {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(-5px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* Focus states for accessibility */
.systemsculpt-slash-search-input:focus {
  /* No visible focus ring since the container handles focus styling */
}

.systemsculpt-slash-search-container:focus-within {
  background-color: var(--background-modifier-hover);
}

/* Selection highlighting for keyboard navigation */
.systemsculpt-slash-result-item.is-selected {
  outline: 2px solid var(--interactive-accent);
  outline-offset: -2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .systemsculpt-slash-command-menu {
    border-width: 2px;
  }
  
  .systemsculpt-slash-result-item.is-selected {
    outline-width: 3px;
  }
} 

/* at-mention.css */
/**
 * At Mention Menu Styles
 * 
 * A dropdown menu that appears when users type "@" in the chat input.
 * Similar to slash commands but optimized for file selection.
 */

/* Main menu container */
.at-mention-menu {
  position: fixed;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
  min-width: 350px;
  max-width: 450px;
  z-index: 1000;
  display: none;
  flex-direction: column;
  overflow: hidden;
}

/* Header */
.at-mention-header {
  padding: 10px 12px;
  border-bottom: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
}

.at-mention-title {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Items container */
.at-mention-items {
  max-height: 250px;
  overflow-y: auto;
  background-color: var(--background-primary);
}

/* File item */
.at-mention-item {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  cursor: pointer;
  border-bottom: 1px solid var(--background-modifier-border);
  transition: background-color 0.05s ease;
  gap: 10px;
}

.at-mention-item:last-child {
  border-bottom: none;
}

.at-mention-item:hover {
  background-color: var(--background-modifier-hover);
}

.at-mention-item.selected {
  background-color: var(--background-modifier-active-hover);
  outline: 2px solid var(--interactive-accent);
  outline-offset: -2px;
}

/* File icon */
.at-mention-item-icon {
  flex-shrink: 0;
  font-size: 16px;
  opacity: 0.8;
}

.at-mention-item.selected .at-mention-item-icon {
  opacity: 1;
  color: var(--interactive-accent);
}

/* File content */
.at-mention-item-content {
  flex: 1;
  min-width: 0;
}

/* File name */
.at-mention-item-name {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-normal);
  margin-bottom: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.at-mention-item.selected .at-mention-item-name {
  color: var(--interactive-accent);
}

/* File path */
.at-mention-item-path {
  font-size: 11px;
  color: var(--text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Search container */
.at-mention-search {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  border-top: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
  gap: 8px;
}

/* Search input */
.at-mention-search-input {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  color: var(--text-normal);
  font-size: 13px;
  font-family: var(--font-interface);
  padding: 4px 8px;
  border-radius: 4px;
  background-color: var(--background-modifier-form-field);
}

.at-mention-search-input::placeholder {
  color: var(--text-muted);
}

.at-mention-search-input:focus {
  background-color: var(--background-modifier-form-field-highlighted);
}

/* Empty state */
.at-mention-empty {
  padding: 20px;
  text-align: center;
  color: var(--text-muted);
  font-size: 13px;
}

/* Scrollbar styling */
.at-mention-items::-webkit-scrollbar {
  width: 4px;
}

.at-mention-items::-webkit-scrollbar-track {
  background: var(--background-modifier-border);
}

.at-mention-items::-webkit-scrollbar-thumb {
  background: var(--text-muted);
  border-radius: 2px;
}

.at-mention-items::-webkit-scrollbar-thumb:hover {
  background: var(--text-normal);
}

/* Mobile responsive design */
@media (max-width: 600px) {
  .at-mention-menu {
    min-width: 300px;
    max-width: calc(100vw - 20px);
    left: 10px !important;
    right: 10px !important;
    width: auto !important;
  }
  
  .at-mention-item {
    padding: 10px 12px;
  }
  
  .at-mention-search-input {
    font-size: 16px; /* Prevent zoom on iOS */
  }
}

/* Animation for menu appearance */
.at-mention-menu {
  transform-origin: bottom left;
  animation: at-mention-appear 0.05s ease-out;
}

@keyframes at-mention-appear {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(5px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* Dark theme adjustments */
.theme-dark .at-mention-menu {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .at-mention-menu {
    border-width: 2px;
  }
  
  .at-mention-item.selected {
    outline-width: 3px;
  }
}

/* vault-structure.css */
/**
 * Vault Structure Styles
 * 
 * Styles for vault structure toggle and display in context panel
 */

/* Toggle in context panel */
.systemsculpt-vault-structure-toggle {
  padding: 8px 12px;
  border-bottom: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
}

.systemsculpt-toggle-label {
  display: flex;
  align-items: center;
  cursor: pointer;
  user-select: none;
}

.systemsculpt-toggle-checkbox {
  width: 16px;
  height: 16px;
  margin-right: 8px;
  cursor: pointer;
  flex-shrink: 0;
}

.systemsculpt-toggle-text {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
  color: var(--text-normal);
}

.systemsculpt-toggle-icon {
  display: flex;
  align-items: center;
  color: var(--text-muted);
}

.systemsculpt-toggle-icon svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-vault-token-count {
  font-size: 12px;
  color: var(--text-muted);
  margin-left: 4px;
}

/* Vault structure item in context panel */
.systemsculpt-vault-structure-item {
  padding: 10px 12px;
  background-color: var(--background-modifier-hover);
  border-radius: 6px;
  margin: 8px 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-vault-structure-item:hover {
  background-color: var(--background-modifier-active-hover);
  border-color: var(--interactive-accent);
}

.systemsculpt-vault-item-header {
  display: flex;
  align-items: center;
  gap: 8px;
}

.systemsculpt-vault-icon {
  display: flex;
  align-items: center;
  color: var(--text-accent);
}

.systemsculpt-vault-icon svg {
  width: 18px;
  height: 18px;
}

.systemsculpt-vault-title {
  font-weight: 500;
  color: var(--text-normal);
  font-size: 14px;
}

/* Vault option in @ mention menu */
.at-mention-item.at-mention-vault {
  background-color: var(--background-modifier-hover);
  border-bottom: 2px solid var(--background-modifier-border);
}

.at-mention-item.at-mention-vault:hover {
  background-color: var(--background-modifier-active-hover);
}

.at-mention-item.at-mention-vault.selected {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.at-mention-item.at-mention-vault .at-mention-item-name {
  font-weight: 600;
  color: var(--text-accent);
}

.at-mention-item.at-mention-vault.selected .at-mention-item-name {
  color: var(--text-on-accent);
}

.at-mention-item.at-mention-vault .at-mention-item-path {
  color: var(--text-muted);
  font-style: italic;
}

.at-mention-item.at-mention-vault.selected .at-mention-item-path {
  color: var(--text-on-accent);
  opacity: 0.8;
}

/* Vault structure preview modal */
.systemsculpt-vault-structure-preview {
  font-family: var(--font-monospace);
  font-size: 13px;
  line-height: 1.5;
  background-color: var(--background-secondary);
  padding: 16px;
  border-radius: 6px;
  overflow: auto;
  max-height: 60vh;
  white-space: pre;
  color: var(--text-normal);
}

/* Scrollbar for preview */
.systemsculpt-vault-structure-preview::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.systemsculpt-vault-structure-preview::-webkit-scrollbar-track {
  background: var(--background-modifier-border);
}

.systemsculpt-vault-structure-preview::-webkit-scrollbar-thumb {
  background: var(--text-muted);
  border-radius: 4px;
}

.systemsculpt-vault-structure-preview::-webkit-scrollbar-thumb:hover {
  background: var(--text-normal);
}

/* Mobile responsive */
@media (max-width: 600px) {
  .systemsculpt-vault-structure-toggle {
    padding: 12px;
  }
  
  .systemsculpt-toggle-text {
    font-size: 15px;
  }
  
  .systemsculpt-vault-structure-item {
    margin: 8px;
    padding: 12px;
  }
}

/* mermaid.css */
/* Mermaid diagram enhancements – SystemSculpt */

/* Ensure diagram containers can host absolutely-positioned buttons */
.mermaid {
  position: relative;
}

/* Expand button overlay */
.systemsculpt-mermaid-expand-btn {
  position: absolute;
  top: 4px;
  right: 4px;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 2px;
  cursor: pointer;
  color: var(--text-muted);
  display: flex;
  align-items: center;
  opacity: 0.8;
  transition: opacity 0.12s ease-in-out;
  z-index: 10;
  pointer-events: auto;
}

/* Always show for now – can fade on hover later */
.systemsculpt-mermaid-expand-btn {
  opacity: 0.8;
}

/* Ensure hover emphasises */
.mermaid:hover .systemsculpt-mermaid-expand-btn {
  opacity: 1;
}

/* Expanded preview modal layout */
.systemsculpt-mermaid-preview-modal .ss-mermaid-preview-diagram {
  overflow: auto;
  max-height: 70vh;
}

.systemsculpt-mermaid-preview-modal button.ss-mermaid-copy-btn {
  margin-top: 8px;
}

/* Mermaid theme – map to Obsidian CSS variables for seamless theming */
.mermaid .node rect,
.mermaid .node circle,
.mermaid .node polygon {
  fill: var(--background-secondary) !important;
  stroke: var(--interactive-accent) !important;
}

.mermaid .node text {
  fill: var(--text-normal) !important;
}

.mermaid .edgePath path {
  stroke: var(--interactive-accent) !important;
}

.mermaid .edgeLabel text {
  fill: var(--text-muted) !important;
}

.mermaid .cluster rect {
  fill: var(--background-primary) !important;
  stroke: var(--interactive-accent) !important;
} 

/* font-size-fix.css */
/**
 * Font Size Fix for Chat Messages
 * 
 * Ensures font size inheritance works properly in chat views
 */

/* Apply base font size with higher specificity */
.systemsculpt-messages-container.systemsculpt-chat-small {
  font-size: 0.75em !important;
}

.systemsculpt-messages-container.systemsculpt-chat-medium {
  font-size: 1em !important;
}

.systemsculpt-messages-container.systemsculpt-chat-large {
  font-size: 1.3em !important;
}

/* Ensure font size inherits to message content */
.systemsculpt-messages-container .systemsculpt-message,
.systemsculpt-messages-container .systemsculpt-message-content,
.systemsculpt-messages-container .systemsculpt-message-content p,
.systemsculpt-messages-container .systemsculpt-message-content div,
.systemsculpt-messages-container .systemsculpt-message-content span,
.systemsculpt-messages-container .systemsculpt-content-part,
.systemsculpt-messages-container .systemsculpt-unified-part,
.systemsculpt-messages-container .markdown-rendered,
.systemsculpt-messages-container .systemsculpt-collapsible-drawer,
.systemsculpt-messages-container .systemsculpt-collapsible-header,
.systemsculpt-messages-container .systemsculpt-collapsible-title,
.systemsculpt-messages-container .systemsculpt-drawer-title,
.systemsculpt-messages-container .systemsculpt-drawer-header,
.systemsculpt-messages-container .systemsculpt-reasoning-wrapper,
.systemsculpt-messages-container .systemsculpt-tool-call-wrapper {
  font-size: inherit;
}

/* Override any fixed font sizes from Obsidian's defaults */
.systemsculpt-messages-container .markdown-rendered p,
.systemsculpt-messages-container .markdown-rendered div,
.systemsculpt-messages-container .markdown-rendered span {
  font-size: inherit !important;
}

/* Specific overrides for elements that use fixed sizes */
.systemsculpt-messages-container .systemsculpt-message-label {
  font-size: var(--chat-label-font-size) !important;
}

.systemsculpt-messages-container .systemsculpt-citations-container {
  font-size: var(--chat-citation-font-size) !important;
}

.systemsculpt-messages-container pre[class*="language-"]::before {
  font-size: var(--chat-code-label-font-size) !important;
}



/* embeddings-progress.css */
/**
 * SystemSculpt Embeddings Progress Notification Styles
 * 
 * Rich progress UI with pause/resume/cancel controls
 */

.systemsculpt-progress-notification {
  max-width: 400px;
  min-width: 300px;
  /* Ensure notifications don't overlap settings containers */
  position: relative;
  z-index: 500; /* Lower than modal overlays */
}

.systemsculpt-progress-notification .notice-content {
  padding: 0;
}

.systemsculpt-progress-notification .progress-container {
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Header */
.systemsculpt-progress-notification .progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.systemsculpt-progress-notification .progress-title {
  font-weight: 600;
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
}

.systemsculpt-progress-notification .progress-close {
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  transition: all 0.2s ease;
}

.systemsculpt-progress-notification .progress-close:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

/* Progress Bar */
.systemsculpt-progress-notification .progress-bar-container {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.systemsculpt-progress-notification .progress-bar {
  height: 8px;
  background-color: var(--background-modifier-border);
  border-radius: 4px;
  overflow: hidden;
  position: relative;
}

.systemsculpt-progress-notification .progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, 
    var(--interactive-accent) 0%, 
    var(--interactive-accent-hover) 100%);
  border-radius: 4px;
  transition: transform 0.3s ease;
  transform-origin: left center;
  position: relative;
  overflow: hidden;
}

/* Removed animated stripes - clean progress bar with no distractions */

.systemsculpt-progress-notification .progress-text {
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
  text-align: center;
}

/* Message Area */
.systemsculpt-progress-notification .progress-message {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  white-space: pre-line;
  line-height: 1.4;
  max-height: 60px;
  overflow-y: auto;
}

/* Action Buttons */
.systemsculpt-progress-notification .progress-actions {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.systemsculpt-progress-notification .progress-actions button {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 6px 12px;
  font-size: var(--font-ui-small);
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.systemsculpt-progress-notification .progress-actions button span {
  display: flex;
  align-items: center;
}

.systemsculpt-progress-notification .progress-actions button.mod-cta {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border: none;
}

.systemsculpt-progress-notification .progress-actions button.mod-cta:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-progress-notification .progress-actions button.mod-warning {
  background-color: transparent;
  color: var(--text-error);
  border: 1px solid var(--text-error);
}

.systemsculpt-progress-notification .progress-actions button.mod-warning:hover {
  background-color: var(--text-error);
  color: var(--text-on-accent);
}

/* Completion State */
.systemsculpt-progress-complete {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
}

.systemsculpt-progress-complete .complete-icon {
  color: var(--text-success);
  display: flex;
  align-items: center;
}

.systemsculpt-progress-complete .complete-icon svg {
  width: 24px;
  height: 24px;
}

.systemsculpt-progress-complete .complete-message {
  flex: 1;
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
}

/* Error State */
.systemsculpt-progress-error {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
}

.systemsculpt-progress-error .error-icon {
  color: var(--text-error);
  display: flex;
  align-items: center;
}

.systemsculpt-progress-error .error-icon svg {
  width: 24px;
  height: 24px;
}

.systemsculpt-progress-error .error-message {
  flex: 1;
  font-size: var(--font-ui-medium);
  color: var(--text-error);
}

/* Mobile Adjustments */
@media (max-width: 768px) {
  .systemsculpt-progress-notification {
    max-width: 90vw;
  }
  
  .systemsculpt-progress-notification .progress-container {
    padding: 12px;
  }
  
  .systemsculpt-progress-notification .progress-actions button {
    padding: 8px;
    font-size: var(--font-ui-smaller);
  }
}

/* embeddings-settings.css */
/**
 * Embeddings Settings - SystemSculpt Component
 * 
 * Styles for embeddings settings tab with proper Obsidian UI integration
 */

/* Statistics Section */
.systemsculpt-embeddings-statistics-section {
  margin: var(--size-4-4) 0;
}

/* Stats Container */
.systemsculpt-embeddings-stats {
  margin: var(--size-4-3) 0;
  padding: var(--size-4-3);
  background-color: var(--background-secondary);
  border-radius: var(--radius-m);
  border: 1px solid var(--background-modifier-border);
}

/* Progress Overview */
.systemsculpt-embeddings-progress-overview {
  margin-bottom: var(--size-4-4);
}

.systemsculpt-progress-bar-container {
  width: 100%;
  margin: var(--size-4-3) 0 var(--size-4-4) 0;
}

.systemsculpt-progress-bar {
  width: 100%;
  height: 16px;
  background-color: var(--background-modifier-border);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
  border: 1px solid var(--background-modifier-border-hover);
}

.systemsculpt-progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--interactive-accent), var(--interactive-accent-hover));
  border-radius: 8px;
  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  width: 100%;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.systemsculpt-progress-text {
  text-align: center;
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
  font-weight: var(--font-medium);
  margin-top: var(--size-4-2);
}

/* Stats Grid */
.systemsculpt-stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: var(--size-4-4);
  margin-top: var(--size-4-4);
}

.systemsculpt-stat-item {
  text-align: center;
  padding: var(--size-4-4);
  background-color: var(--background-primary);
  border-radius: var(--radius-m);
  border: 1px solid var(--background-modifier-border);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
}

.systemsculpt-stat-value {
  font-size: 1.8em;
  font-weight: var(--font-bold);
  color: var(--interactive-accent);
  margin-bottom: var(--size-4-2);
  line-height: 1.2;
}

.systemsculpt-stat-label {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  font-weight: var(--font-medium);
}

/* Stats Header Container */
.systemsculpt-stats-header-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--size-4-3);
}

.systemsculpt-stats-header-container h4 {
  margin: 0;
  font-weight: var(--font-semibold);
}

/* Current File Display */
.systemsculpt-current-file {
  display: flex;
  align-items: center;
  gap: var(--size-2-2);
  padding: var(--size-2-2) var(--size-4-3);
  background-color: var(--interactive-accent-hover);
  border-radius: var(--radius-s);
  font-size: var(--font-ui-small);
  color: var(--text-on-accent);
  animation: systemsculpt-slide-in 0.3s ease-out;
}

.systemsculpt-processing-icon {
  font-size: 1.1em;
  animation: systemsculpt-spin 2s linear infinite;
}

.systemsculpt-current-file-text {
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

@keyframes systemsculpt-slide-in {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes systemsculpt-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Last Update */
.systemsculpt-last-update {
  text-align: center;
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  margin-top: var(--size-4-3);
  padding-top: var(--size-4-3);
  border-top: 1px solid var(--background-modifier-border);
}

/* Empty State */
.systemsculpt-embeddings-stats-empty {
  text-align: center;
  padding: var(--size-4-6) var(--size-4-4);
  background-color: var(--background-secondary);
  border-radius: var(--radius-m);
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-embeddings-stats-empty .systemsculpt-empty-message {
  color: var(--text-muted);
  margin: 0;
}

.systemsculpt-empty-message p {
  margin: var(--size-4-1) 0;
}

.systemsculpt-empty-subtext {
  font-size: var(--font-ui-small);
  opacity: 0.8;
}

/* Loading State */
.systemsculpt-embeddings-stats-loading {
  text-align: center;
  padding: var(--size-4-6) var(--size-4-4);
  background-color: var(--background-secondary);
  border-radius: var(--radius-m);
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-loading-message {
  color: var(--text-muted);
  margin: 0;
}

.systemsculpt-loading-message p {
  margin: var(--size-4-1) 0;
}

.systemsculpt-loading-subtext {
  font-size: var(--font-ui-small);
  opacity: 0.8;
}

/* Error State */
.systemsculpt-embeddings-stats-error {
  text-align: center;
  padding: var(--size-4-6) var(--size-4-4);
  background-color: var(--background-secondary);
  border-radius: var(--radius-m);
  border: 1px solid var(--background-modifier-error);
}

.systemsculpt-error-message {
  color: var(--text-error);
  margin: 0;
}

.systemsculpt-error-message p {
  margin: 0;
}

.systemsculpt-error-details {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  margin-top: var(--size-4-2);
}

/* Processing Status Animation */
.systemsculpt-processing-status {
  color: var(--interactive-accent);
}

/* Currently processing file display */
.systemsculpt-current-file {
  display: flex;
  align-items: center;
  gap: var(--size-2-2);
  margin-top: var(--size-4-3);
  padding: var(--size-2-3);
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  font-size: var(--font-ui-small);
}

.systemsculpt-current-file-label {
  color: var(--text-muted);
  font-weight: var(--font-medium);
}

.systemsculpt-current-file-value {
  color: var(--text-normal);
  font-family: var(--font-monospace);
  font-size: 0.9em;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  flex: 1;
}


/* Actions Container - Using Provider Card Pattern */
.systemsculpt-embeddings-actions {
  display: flex;
  gap: var(--size-4-3);
  flex-wrap: wrap;
  margin-top: var(--size-4-3);
}

/* Using the existing provider card styles that work */
.systemsculpt-embeddings-actions .systemsculpt-provider-card {
  flex: 1;
  min-width: 300px;
}

/* Exclusions List */
.systemsculpt-exclusions-list {
  max-height: 200px;
  overflow-y: auto;
  margin: var(--size-4-1) 0;
  padding: var(--size-4-1);
  background-color: var(--background-primary);
  border-radius: var(--radius-s);
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-exclusion-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--size-4-1);
  margin-bottom: var(--size-4-1);
  background-color: var(--background-secondary);
  border-radius: var(--radius-s);
}

.systemsculpt-exclusion-item:last-child {
  margin-bottom: 0;
}

.systemsculpt-exclusion-item button {
  font-size: var(--font-ui-smaller);
  padding: var(--size-2-1) var(--size-4-1);
  background-color: var(--background-modifier-border);
  color: var(--text-muted);
}

.systemsculpt-exclusion-item button:hover {
  background-color: var(--background-modifier-error);
  color: var(--text-error);
}

/* New Progress Section Styles */
.embeddings-progress-section {
  margin: var(--size-4-4) 0;
  padding: var(--size-4-3);
  background-color: var(--background-secondary);
  border-radius: var(--radius-m);
  border: 1px solid var(--background-modifier-border);
}

.embeddings-status {
  display: flex;
  flex-direction: column;
  gap: var(--size-4-2);
}

.embeddings-status-line {
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
  font-weight: var(--font-medium);
}

.embeddings-status-line.processing {
  color: var(--interactive-accent);
}

.embeddings-status-line.complete {
  color: var(--text-success);
}

.embeddings-status-line.idle {
  color: var(--text-muted);
}

.embeddings-status-icon {
  font-size: 1.2em;
}

.embeddings-count {
  color: var(--text-normal);
  font-size: var(--font-ui-medium);
}

.systemsculpt-embeddings-progress-bar {
  width: 100%;
  height: 20px;
  background-color: var(--background-modifier-border);
  border-radius: 10px;
  overflow: hidden;
  position: relative;
}

.embeddings-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--interactive-accent), var(--interactive-accent-hover));
  transition: width 0.3s ease;
  position: relative;
  overflow: hidden;
}

/* Animated stripes overlay for processing state - shows activity while maintaining actual progress width */
.embeddings-progress-fill.processing::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: repeating-linear-gradient(
    45deg,
    transparent 0px,
    transparent 10px,
    rgba(255, 255, 255, 0.3) 10px,
    rgba(255, 255, 255, 0.3) 20px
  );
  background-size: 28.28px 28.28px;
  animation: embeddings-progress-stripes 0.8s linear infinite;
}

@keyframes embeddings-progress-stripes {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 28.28px 0;
  }
}

.embeddings-percent {
  text-align: center;
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  margin-top: var(--size-2-1);
}

.embeddings-current-file {
  padding: var(--size-4-2);
  background-color: var(--background-primary);
  border-radius: var(--radius-s);
  border: 1px solid var(--background-modifier-border);
  font-size: var(--font-ui-small);
}

.embeddings-current-filename {
  color: var(--text-muted);
  font-family: var(--font-monospace);
  word-break: break-all;
}

.embeddings-details {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  text-align: center;
}

/* Mobile Settings */
@media (max-width: 768px) {
  .systemsculpt-stats-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--size-4-3);
  }
  
  .systemsculpt-embeddings-actions {
    flex-direction: column;
  }
  
  .systemsculpt-embeddings-actions .systemsculpt-provider-card {
    min-width: unset;
  }
  
  .systemsculpt-stats-header-container {
    flex-direction: column;
    gap: var(--size-4-2);
    align-items: flex-start;
  }
  
  .systemsculpt-current-file {
    width: 100%;
    justify-content: center;
  }
  
  .systemsculpt-current-file-text {
    max-width: 200px;
  }
  
  .systemsculpt-stat-item {
    padding: var(--size-4-3);
  }
  
  .systemsculpt-stat-value {
    font-size: 1.4em;
  }
}

/* embeddings-exclusions.css */
/* Embeddings Exclusions UI Components */

.embeddings-exclusion-input-container {
  display: flex;
  gap: 8px;
  align-items: center;
  margin-bottom: 12px;
}

.embeddings-pattern-input,
.embeddings-folder-input,
.embeddings-file-input {
  flex: 1;
  padding: 6px 12px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  background: var(--background-primary);
  color: var(--text-normal);
  font-size: var(--font-ui-smaller);
}

.embeddings-pattern-input:focus,
.embeddings-folder-input:focus,
.embeddings-file-input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.2);
}

.embeddings-exclusions-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 8px;
  margin-top: 12px;
  margin-bottom: 10px;
  min-height: 40px;
}

.embeddings-exclusions-empty {
  grid-column: 1 / -1;
  padding: 20px;
  text-align: center;
  color: var(--text-muted);
  font-style: italic;
  border: 2px dashed var(--background-modifier-border);
  border-radius: 8px;
  background: var(--background-secondary);
}

.embeddings-exclusion-chip {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 8px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 16px;
  font-size: var(--font-ui-smaller);
  transition: all 0.15s ease;
  position: relative;
}

.embeddings-exclusion-chip:hover {
  background: var(--background-modifier-hover);
  border-color: var(--background-modifier-border-hover);
}

.embeddings-exclusion-icon {
  font-size: 12px;
  flex-shrink: 0;
  opacity: 0.8;
}

.embeddings-exclusion-text {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: var(--text-normal);
  font-weight: 500;
}

.embeddings-exclusion-remove {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--text-muted);
  color: var(--background-primary);
  font-size: 12px;
  font-weight: bold;
  cursor: pointer;
  opacity: 0.6;
  transition: all 0.15s ease;
  flex-shrink: 0;
  line-height: 1;
}

.embeddings-exclusion-remove:hover {
  opacity: 1;
  background: var(--text-error);
  transform: scale(1.1);
}


/* Responsive design */
@media (max-width: 768px) {
  .embeddings-exclusions-grid {
    grid-template-columns: 1fr;
  }
  
  .embeddings-exclusion-input-container {
    flex-direction: column;
    align-items: stretch;
  }
}

/* Dark mode improvements */
.theme-dark .embeddings-exclusion-chip {
  background: var(--background-primary-alt);
  border-color: var(--background-modifier-border-focus);
}

.theme-dark .embeddings-exclusion-chip:hover {
  background: var(--background-modifier-hover);
}

.theme-dark .embeddings-exclusions-empty {
  background: var(--background-primary-alt);
}

/* similar-notes-view.css */
/**
 * Similar Notes View Styles
 * 
 * Native Obsidian-style list view for displaying similar notes with similarity scores
 */

.systemsculpt-similar-notes-view {
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Header */
.similar-notes-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--size-4-2) var(--size-4-3);
  border-bottom: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  position: relative;
  z-index: 1;
}

.similar-notes-title {
  display: flex;
  align-items: center;
  gap: var(--size-4-1);
  font-weight: var(--font-semibold);
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
}

.similar-notes-icon {
  display: flex;
  align-items: center;
  color: var(--text-muted);
}

.similar-notes-icon svg {
  width: var(--icon-s);
  height: var(--icon-s);
}

.similar-notes-refresh {
  padding: var(--size-2-2);
  border-radius: var(--radius-s);
  color: var(--text-muted);
  cursor: pointer;
}

.similar-notes-refresh:hover {
  background-color: var(--background-modifier-hover);
  color: var(--text-normal);
}

.similar-notes-refresh svg {
  width: var(--icon-s);
  height: var(--icon-s);
}

/* Status Bar */
.similar-notes-status {
  padding: var(--size-2-3) var(--size-4-3);
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
  background-color: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
  min-height: 32px;
  display: flex;
  align-items: center;
}

.similar-notes-status:empty {
  display: none;
}

.systemsculpt-status-text {
  color: var(--text-muted);
}

/* Results Container */
.similar-notes-results {
  flex: 1;
  overflow-y: auto;
  padding: 0;
  background-color: var(--background-primary);
}

.results-container {
  padding: 0;
  display: flex;
  flex-direction: column;
}

/* Result Item - styled like native Obsidian list items */
.similar-note-item {
  display: flex;
  align-items: flex-start;
  gap: var(--size-4-2);
  padding: var(--size-2-3) var(--size-4-3);
  border-bottom: 1px solid var(--background-modifier-border-focus);
  cursor: pointer;
  position: relative;
}

.similar-note-item:hover {
  background-color: var(--background-modifier-hover);
}

.similar-note-item:last-child {
  border-bottom: none;
}

/* Score Indicator - simple and subtle */
.note-score {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: var(--size-4-8);
  height: var(--size-4-6);
  background-color: var(--background-modifier-border);
  color: var(--text-muted);
  border-radius: var(--radius-s);
  font-weight: var(--font-medium);
  font-size: var(--font-ui-smaller);
  flex-shrink: 0;
  margin-top: 2px;
}

.note-score.score-high {
  background-color: var(--color-green);
  color: var(--text-on-accent);
}

.note-score.score-medium {
  background-color: var(--color-yellow);
  color: var(--text-on-accent);
}

.note-score.score-low {
  background-color: var(--background-modifier-border);
  color: var(--text-muted);
}

/* Note Content */
.note-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--size-2-1);
  min-width: 0; /* Enable text truncation */
}

.note-title {
  font-weight: var(--font-medium);
  font-size: var(--font-ui-medium);
  line-height: var(--line-height-tight);
  margin: 0;
}

.note-title .internal-link {
  color: var(--text-normal);
  text-decoration: none;
  word-break: break-word;
}

.note-title .internal-link:hover {
  color: var(--text-accent);
  text-decoration: underline;
}

.note-excerpt {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  line-height: var(--line-height-normal);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  margin: 0;
}

/* Metadata */
.note-metadata {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--size-4-2);
  font-size: var(--font-ui-smaller);
  color: var(--text-faint);
  margin-top: var(--size-2-1);
}

.note-tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--size-2-1);
}

.note-tags .tag {
  padding: 1px var(--size-2-2);
  background-color: var(--tag-background);
  color: var(--tag-color);
  border-radius: var(--tag-radius);
  font-size: var(--font-ui-smaller);
  line-height: 1.2;
}

.note-date {
  display: flex;
  align-items: center;
  gap: var(--size-2-1);
  color: var(--text-faint);
}

.note-path {
  color: var(--text-faint);
  font-style: italic;
}

/* Loading State */
.similar-notes-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--size-4-12) var(--size-4-6);
  text-align: center;
}

.systemsculpt-loading-spinner {
  width: var(--size-4-8);
  height: var(--size-4-8);
  border: 2px solid var(--background-modifier-border);
  border-top-color: var(--interactive-accent);
  border-radius: 50%;
  animation: systemsculpt-spin 1s linear infinite;
  margin-bottom: var(--size-4-4);
}

@keyframes systemsculpt-spin {
  to {
    transform: rotate(360deg);
  }
}

.systemsculpt-loading-text {
  color: var(--text-muted);
  font-size: var(--font-ui-small);
}

/* Empty State */
.similar-notes-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--size-4-12) var(--size-4-6);
  text-align: center;
}

.empty-icon {
  margin-bottom: var(--size-4-4);
  color: var(--text-faint);
}

.empty-icon svg {
  width: var(--size-4-12);
  height: var(--size-4-12);
}

.empty-title {
  font-weight: var(--font-medium);
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
  margin-bottom: var(--size-2-3);
}

.empty-description {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  line-height: var(--line-height-normal);
  max-width: 280px;
}

/* Initializing State */
.similar-notes-initializing {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--size-4-12) var(--size-4-6);
  text-align: center;
}

.initializing-icon {
  margin-bottom: var(--size-4-4);
  color: var(--text-muted);
}

.initializing-icon svg {
  width: var(--size-4-12);
  height: var(--size-4-12);
}

.initializing-title {
  font-weight: var(--font-medium);
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
  margin-bottom: var(--size-2-3);
}

.initializing-description {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  line-height: var(--line-height-normal);
  max-width: 320px;
  margin-bottom: var(--size-4-4);
}

.retry-button {
  padding: var(--size-2-2) var(--size-4-3);
  background-color: var(--interactive-normal);
  color: var(--text-on-accent);
  border-radius: var(--button-radius);
  cursor: pointer;
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
}

.retry-button:hover {
  background-color: var(--interactive-hover);
}

/* Disabled State */
.similar-notes-disabled {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--size-4-12) var(--size-4-6);
  text-align: center;
}

.disabled-icon {
  margin-bottom: var(--size-4-4);
  color: var(--text-faint);
}

.disabled-icon svg {
  width: var(--size-4-12);
  height: var(--size-4-12);
}

.disabled-title {
  font-weight: var(--font-medium);
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
  margin-bottom: var(--size-2-3);
}

.disabled-description {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  line-height: var(--line-height-normal);
  max-width: 320px;
}

/* Error State */
.similar-notes-error {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--size-4-12) var(--size-4-6);
  text-align: center;
}

.error-icon {
  margin-bottom: var(--size-4-4);
  color: var(--text-error);
}

.error-icon svg {
  width: var(--size-4-12);
  height: var(--size-4-12);
}

.error-title {
  font-weight: var(--font-medium);
  font-size: var(--font-ui-medium);
  color: var(--text-normal);
  margin-bottom: var(--size-2-3);
}

.error-message {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  max-width: 300px;
  line-height: var(--line-height-normal);
}

/* Mobile Adjustments */
@media (max-width: 768px) {
  .similar-notes-header {
    padding: var(--size-2-3) var(--size-4-2);
  }
  
  .similar-notes-status {
    padding: var(--size-2-2) var(--size-4-2);
  }
  
  .similar-note-item {
    padding: var(--size-2-3) var(--size-4-2);
    gap: var(--size-4-2);
  }
  
  .note-score {
    min-width: var(--size-4-6);
    height: var(--size-4-5);
    font-size: 10px;
  }
  
  .note-excerpt {
    -webkit-line-clamp: 1;
  }
}

/* Scrollbar styling */
.similar-notes-results::-webkit-scrollbar {
  width: var(--scrollbar-width);
}

.similar-notes-results::-webkit-scrollbar-track {
  background: transparent;
}

.similar-notes-results::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb-bg);
  border-radius: var(--scrollbar-thumb-radius);
}

.similar-notes-results::-webkit-scrollbar-thumb:hover {
  background-color: var(--scrollbar-thumb-bg-hover);
}

/* large-text.css */
/* Large Text Component Styles */

.systemsculpt-large-text-container {
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 16px;
  margin: 8px 0;
  background-color: var(--background-modifier-form-field);
}

.systemsculpt-large-text-preview {
  margin-bottom: 12px;
  max-height: 150px;
  overflow: hidden;
  position: relative;
}

.systemsculpt-text-truncation {
  font-style: italic;
  color: var(--text-muted);
  margin-top: 8px;
  font-size: 0.9em;
}

.systemsculpt-large-text-indicator {
  border-top: 1px solid var(--border-color);
  padding-top: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 12px;
}

.systemsculpt-large-text-stats {
  font-size: 0.9em;
  color: var(--text-muted);
  font-weight: 500;
}

.systemsculpt-large-text-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.systemsculpt-view-button,
.systemsculpt-save-button,
.systemsculpt-copy-button {
  padding: 6px 12px;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  background-color: var(--background-secondary);
  color: var(--text-normal);
  cursor: pointer;
  font-size: 0.85em;
  transition: all 0.2s ease;
}

.systemsculpt-view-button:hover,
.systemsculpt-save-button:hover,
.systemsculpt-copy-button:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--border-color-hover);
}

/* Large Text Modal Styles - Using Obsidian Modal */

.large-text-modal-container {
  width: 100%;
}

.large-text-viewer {
  /* Styles are applied via JavaScript to ensure proper Obsidian integration */
}

.large-text-modal-buttons {
  /* Styles are applied via JavaScript for consistency */
}

/* Notice Styles */

.systemsculpt-notice {
  position: fixed;
  top: 20px;
  right: 20px;
  background-color: var(--background-primary);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  padding: 12px 16px;
  color: var(--text-normal);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  z-index: 1001;
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Responsive Design */

@media (max-width: 768px) {
  .systemsculpt-large-text-indicator {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .systemsculpt-large-text-actions {
    width: 100%;
    justify-content: flex-start;
  }
  
  .systemsculpt-modal-content {
    max-width: 95vw;
    max-height: 95vh;
  }
  
  .systemsculpt-modal-header {
    padding: 12px 16px;
  }
  
  .systemsculpt-large-text-viewer {
    padding: 16px;
    font-size: 12px;
  }
}

/* context-selection.css */
/**
 * Context Selection Modal - Minimal CSS that works with Obsidian's native modal structure
 */

/* Filter buttons container */
.context-filter-container {
  display: flex;
  gap: var(--size-2-2);
  margin: var(--size-4-3) 0;
  flex-wrap: wrap;
}

.context-filter-btn {
  display: flex;
  align-items: center;
  gap: var(--size-2-1);
  padding: var(--size-2-2) var(--size-4-2);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  background: var(--background-primary);
  color: var(--text-muted);
  font-size: var(--font-ui-small);
  cursor: pointer;
  transition: all var(--anim-duration-fast) ease;
}

.context-filter-btn:hover {
  background: var(--background-modifier-hover);
  color: var(--text-normal);
}

.context-filter-btn.is-active {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

/* File list container */
.context-file-list {
  max-height: 400px;
  overflow-y: auto;
  margin: var(--size-4-3) 0;
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
}

/* Individual file items */
.context-file-item {
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
  padding: var(--size-2-3) var(--size-4-3);
  border-bottom: 1px solid var(--background-modifier-border);
  cursor: pointer;
  transition: background-color var(--anim-duration-fast) ease;
}

.context-file-item:last-child {
  border-bottom: none;
}

.context-file-item:hover {
  background: var(--background-modifier-hover);
}

.context-file-item.is-selected {
  background: var(--background-modifier-active-hover);
}

.context-file-item.is-disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.context-file-icon {
  width: var(--icon-m);
  height: var(--icon-m);
  color: var(--icon-color);
  flex-shrink: 0;
}

.context-file-item.is-selected .context-file-icon {
  color: var(--interactive-accent);
}

.context-file-info {
  flex: 1;
  min-width: 0;
}

.context-file-name {
  font-weight: var(--font-medium);
  color: var(--text-normal);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.context-file-path {
  font-size: var(--font-ui-smaller);
  color: var(--text-faint);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-top: var(--size-2-1);
}

.context-file-item input[type="checkbox"] {
  width: var(--checkbox-size);
  height: var(--checkbox-size);
  flex-shrink: 0;
}

/* Empty state */
.context-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: var(--size-4-8);
  text-align: center;
  color: var(--text-muted);
}

.context-empty div:first-child {
  width: var(--icon-xl);
  height: var(--icon-xl);
  color: var(--icon-color-disabled);
  margin-bottom: var(--size-4-2);
}

.context-empty p {
  margin: 0;
  font-size: var(--font-ui-medium);
}

/* Load more button */
.context-load-more {
  width: 100%;
  padding: var(--size-4-2);
  border: 1px dashed var(--background-modifier-border);
  border-radius: var(--radius-s);
  background: transparent;
  color: var(--text-muted);
  font-size: var(--font-ui-small);
  cursor: pointer;
  transition: all var(--anim-duration-fast) ease;
}

.context-load-more:hover {
  border-color: var(--interactive-accent);
  color: var(--interactive-accent);
  background: var(--background-modifier-hover);
}

/* general-modal-styles.css */
/* General Modal Styles - Replaces All Inline Styles
 * 
 * This file contains CSS classes to replace hundreds of inline styles
 * scattered across modal TypeScript files.
 */

/* ============================================================================
   BUTTON CONTAINERS
   ============================================================================ */

.ss-modal-button-container {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 20px;
}

.ss-modal-button-container--centered {
  justify-content: center;
}

.ss-modal-button-container--start {
  justify-content: flex-start;
}

.ss-modal-button-container--grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px;
}

/* ============================================================================
   FORM ELEMENTS  
   ============================================================================ */

.ss-modal-input {
  width: 100%;
  padding: 10px 14px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 16px;
  transition: border-color 0.2s ease;
}

.ss-modal-input:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.ss-modal-input--small {
  padding: 8px 12px;
  font-size: 14px;
}

.ss-modal-textarea {
  width: 100%;
  min-height: 200px;
  padding: 8px;
  box-sizing: border-box;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 14px;
  resize: vertical;
  transition: border-color 0.2s ease;
}

.ss-modal-textarea:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.ss-modal-textarea--small {
  min-height: 60px;
}

/* ============================================================================
   LABELS AND TEXT
   ============================================================================ */

.ss-modal-label {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-normal);
  margin-bottom: 8px;
  display: block;
}

.ss-modal-label--small {
  font-size: 0.9em;
  color: #666;
  margin-bottom: 0.5em;
}

.ss-modal-title {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: var(--text-normal);
}

.ss-modal-title--large {
  margin-top: 1em;
}

.ss-modal-description {
  margin: 16px 20px;
  color: var(--text-muted);
  font-size: 14px;
  line-height: 1.4;
}

.ss-modal-shortcut-hint {
  opacity: 0.7;
  font-size: 12px;
}

/* ============================================================================
   CONTAINERS AND LAYOUT
   ============================================================================ */

.ss-modal-container {
  border-radius: 12px !important;
  padding: 0 !important;
  width: 450px !important;
  max-width: 95vw !important;
}

.ss-modal-container--wide {
  width: 500px !important;
}

.ss-modal-container--narrow {
  width: 400px !important;
}

.ss-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.ss-modal-content {
  margin: 0 20px 16px;
}

.ss-modal-section {
  margin-bottom: 16px;
}

.ss-modal-flex-container {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 8px;
}

.ss-modal-flex-container--large-gap {
  gap: 8px;
}

/* ============================================================================
   PROGRESS ELEMENTS
   ============================================================================ */

.ss-modal-progress-container {
  margin: 0 20px 16px;
  display: none;
}

.ss-modal-progress-container--visible {
  display: block;
}

.ss-modal-progress-text {
  margin-bottom: 8px;
  font-size: 14px;
  color: var(--text-muted);
}

.ss-modal-progress-bar-container {
  width: 100%;
  height: 4px;
  background-color: var(--background-modifier-border);
  border-radius: 2px;
  overflow: hidden;
}

.ss-modal-progress-bar {
  width: 0%;
  height: 100%;
  background-color: var(--interactive-accent);
  border-radius: 2px;
  transition: width 0.3s ease;
}

/* ============================================================================
   INTERACTIVE ELEMENTS
   ============================================================================ */

.ss-modal-icon {
  width: 16px;
  height: 16px;
  cursor: help;
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: color 0.2s ease;
}

.ss-modal-icon:hover {
  color: var(--text-normal);
}

.ss-modal-icon--warning {
  color: var(--color-orange);
}

/* ============================================================================
   FILTER AND CONTROL ELEMENTS
   ============================================================================ */

.ss-modal-filters-container {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 16px;
}

.ss-modal-refresh-button {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 8px 12px;
  border-radius: 4px;
}

.ss-modal-refresh-icon {
  margin-right: 4px;
}

.ss-modal-refresh-icon--spinning {
  animation: ss-spin 1s linear infinite;
}

/* ============================================================================
   BUTTON STYLES
   ============================================================================ */

.ss-modal-button {
  padding: 8px 16px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s ease;
  border: none;
}

.ss-modal-button--primary {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.ss-modal-button--primary:hover {
  background-color: var(--interactive-accent-hover);
}

.ss-modal-button--secondary {
  background-color: var(--background-secondary-alt);
  color: var(--text-normal);
}

.ss-modal-button--secondary:hover {
  background-color: var(--background-modifier-hover);
}

.ss-modal-button--small {
  margin-top: 8px;
}

/* ============================================================================
   SPACING UTILITIES
   ============================================================================ */

.ss-modal-margin-right-8 {
  margin-right: 8px;
}

.ss-modal-margin-top-8 {
  margin-top: 8px;
}

.ss-modal-margin-top-16 {
  margin-top: 16px;
}

.ss-modal-flex-grow {
  flex-grow: 1;
  min-width: 0; /* Allows flex shrinking below content size */
}

/* ============================================================================
   SPECIAL COMPONENTS
   ============================================================================ */

.ss-modal-custom-prompt-info {
  display: none;
}

.ss-modal-custom-prompt-info--visible {
  display: block;
}

.ss-modal-locked-section {
  padding: 16px;
  background-color: var(--background-secondary);
  border-radius: 8px;
  opacity: 0.7;
}

.ss-modal-default-settings {
  background-color: var(--background-secondary);
  padding: 12px;
  border-radius: var(--radius-s);
  margin-top: 16px;
}

.ss-modal-default-settings-title {
  margin-top: 0;
}

.ss-modal-default-settings-description {
  margin-bottom: 12px;
}

.ss-modal-prompt-editor-locked {
  opacity: 0.7;
  cursor: not-allowed;
}

.ss-modal-change-file-button {
  display: none;
}

.ss-modal-change-file-button--visible {
  display: block;
}

/* ============================================================================
   ANIMATION UTILITIES
   ============================================================================ */

@keyframes ss-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
} 

/* model-selection-enhanced.css */
/**
 * Model Selection Modal - Native Obsidian Style
 * 
 * Minimal styling that closely matches Obsidian's native modal appearance
 */

/* === Base Modal - Fix height issues === */
/* Target the actual modal container more specifically */
.modal-container .systemsculpt-model-selection-modal.ss-modal,
.systemsculpt-model-selection-modal.ss-modal {
  height: calc(85vh - 40px) !important; /* Account for modal margins */
  max-height: calc(85vh - 40px) !important;
  min-height: 400px;
  width: 600px;
  max-width: 90vw;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
}

/* Override the large modal fixed height completely */
.modal-container .systemsculpt-model-selection-modal.ss-modal--large,
.systemsculpt-model-selection-modal.ss-modal--large {
  height: calc(85vh - 40px) !important;
}

/* Ensure Obsidian's modal class doesn't interfere */
.modal.mod-dim .systemsculpt-model-selection-modal {
  height: calc(85vh - 40px) !important;
}

.systemsculpt-model-selection-modal .ss-modal__header {
  flex-shrink: 0;
  z-index: 10;
}

.systemsculpt-model-selection-modal .ss-modal__content {
  padding: 0;
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0; /* Critical for flexbox children */
  overflow: hidden;
}

/* Custom content (filters) should not grow */
.systemsculpt-model-selection-modal .ss-modal__custom-content {
  flex-shrink: 0;
}

/* Search bar should not grow */
.systemsculpt-model-selection-modal .ss-modal__search {
  flex-shrink: 0;
}

/* Fix for bottom content being cut off - make list properly scrollable */
.systemsculpt-model-selection-modal .ss-modal__list {
  flex: 1 1 auto;
  overflow-y: scroll !important; /* Force scrollbar to always show */
  overflow-x: hidden;
  min-height: 0; /* Critical for proper scrolling */
  max-height: calc(85vh - 200px) !important; /* Ensure it doesn't exceed available space */
  padding-bottom: 24px !important; /* Even more padding to ensure last item is visible */
  margin-bottom: 0;
  position: relative; /* Ensure proper stacking context */
}

/* Add extra safety margin at the bottom of the list */
.systemsculpt-model-selection-modal .ss-modal__list::after {
  content: "";
  display: block;
  height: 20px;
  flex-shrink: 0;
}

/* Ensure the modal footer doesn't overlap content */
.systemsculpt-model-selection-modal .ss-modal__footer {
  flex-shrink: 0;
  border-top: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  z-index: 10;
}

/* === Filter Bar === */
.ss-model-filter-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: var(--background-primary);
  border-bottom: 1px solid var(--background-modifier-border);
  flex-shrink: 0;
  min-height: 40px;
  overflow: hidden; /* Prevent horizontal scroll */
}

.ss-model-filter-section {
  display: flex;
  align-items: center;
  gap: 6px;
  min-width: 0; /* Allow shrinking */
}

.ss-model-filter-label {
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--text-muted);
  white-space: nowrap;
  margin-right: 2px;
}

.ss-model-filter-buttons {
  display: flex;
  gap: 4px;
  flex-wrap: nowrap; /* Prevent wrapping */
  overflow: hidden; /* Hide overflow instead of scrolling */
}

.ss-model-filter-controls {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-left: auto;
  flex-shrink: 0;
}

/* === Provider Selection Button - Native Style === */
.ss-provider-selection-button {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 3px 10px;
  border-radius: 3px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  font-size: 11px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.1s ease;
  white-space: nowrap;
  min-width: 100px;
}

.ss-provider-selection-button:hover {
  background: var(--background-modifier-hover);
  color: var(--text-normal);
  border-color: var(--interactive-accent);
}

.ss-provider-selection-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 14px;
  height: 14px;
  flex-shrink: 0;
}

.ss-provider-selection-icon svg {
  width: 12px;
  height: 12px;
}

.ss-provider-selection-text {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 4px;
  flex: 1;
}

.ss-provider-selection-label {
  font-weight: 500;
  font-size: 11px;
  line-height: 1;
}

.ss-provider-selection-count {
  font-size: 9px;
  color: var(--text-faint);
  font-weight: 600;
  line-height: 1;
}

.ss-provider-selection-arrow {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 12px;
  height: 12px;
  flex-shrink: 0;
}

.ss-provider-selection-arrow svg {
  width: 10px;
  height: 10px;
  color: var(--text-faint);
  transition: transform 0.1s ease;
}

.ss-provider-selection-button:hover .ss-provider-selection-arrow svg {
  transform: translateX(1px);
}

/* === Provider Selection Modal === */
.systemsculpt-provider-selection-description {
  color: var(--text-muted);
  font-size: 13px;
  line-height: 1.4;
  margin-bottom: 16px;
}

.systemsculpt-provider-selection-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 20px;
}

/* === Provider Toggle Items === */
.systemsculpt-provider-toggle-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background: var(--background-primary);
  cursor: pointer;
  transition: all 0.1s ease;
}

.systemsculpt-provider-toggle-item:hover {
  background: var(--background-secondary);
  border-color: var(--interactive-accent);
}

.systemsculpt-provider-toggle-item.is-selected {
  background: var(--background-primary-alt);
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 1px var(--interactive-accent);
}

.systemsculpt-provider-toggle-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  flex-shrink: 0;
  color: var(--text-muted);
}

.systemsculpt-provider-toggle-icon svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-provider-toggle-item.is-selected .systemsculpt-provider-toggle-icon {
  color: var(--interactive-accent);
}

.systemsculpt-provider-toggle-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.systemsculpt-provider-toggle-name {
  font-weight: 500;
  font-size: 14px;
  color: var(--text-normal);
}

.systemsculpt-provider-toggle-count {
  font-size: 12px;
  color: var(--text-muted);
}

.systemsculpt-provider-toggle-control {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.systemsculpt-provider-toggle-button {
  width: 20px;
  height: 20px;
  border-radius: 3px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  cursor: pointer;
  transition: all 0.1s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 600;
  color: transparent;
}

.systemsculpt-provider-toggle-button:hover {
  border-color: var(--interactive-accent);
  background: var(--background-secondary);
}

.systemsculpt-provider-toggle-button.is-active {
  background: var(--interactive-accent);
  border-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

/* === Modal Button Container === */
.systemsculpt-modal-button-container {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 20px;
  padding-top: 16px;
  border-top: 1px solid var(--background-modifier-border);
}

/* === Favorites Count === */
.ss-favorites-count {
  font-size: 9px;
  padding: 1px 3px;
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.2);
  color: var(--text-on-accent);
  font-weight: 600;
  flex-shrink: 0;
  min-width: 12px;
  text-align: center;
  margin-left: 2px;
}

/* When favorites button is not active, use different styling */
.ss-favorites-button .systemsculpt-favorites-filter:not(.is-active) .ss-favorites-count {
  background: rgba(0, 0, 0, 0.1);
  color: var(--text-muted);
}

.theme-dark .ss-favorites-button .systemsculpt-favorites-filter:not(.is-active) .ss-favorites-count {
  background: rgba(255, 255, 255, 0.1);
}



/* === Refresh Button === */
.ss-model-refresh-button {
  display: flex;
  align-items: center;
  gap: 3px;
  padding: 3px 6px;
  border-radius: 3px;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border: none;
  font-size: 11px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.1s ease;
  white-space: nowrap;
  flex-shrink: 0;
}

.ss-model-refresh-button:hover {
  background: var(--interactive-accent-hover);
}

.ss-model-refresh-button svg {
  width: 12px;
  height: 12px;
}

.ss-spin {
  animation: ss-spin 1s linear infinite;
}

@keyframes ss-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* === Favorites Button === */
.ss-favorites-button .systemsculpt-favorites-filter {
  display: inline-flex;
  align-items: center;
  gap: 3px;
  padding: 3px 6px;
  border-radius: 3px;
  font-size: 11px;
  font-weight: 500;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  cursor: pointer;
  white-space: nowrap;
  flex-shrink: 0;
  transition: all 0.1s ease;
}

.ss-favorites-button .systemsculpt-favorites-filter:hover {
  background: var(--background-modifier-hover);
  color: var(--text-normal);
}

.ss-favorites-button .systemsculpt-favorites-filter.is-active {
  background: var(--interactive-accent);
  border-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.ss-favorites-button .systemsculpt-favorites-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 12px;
  height: 12px;
  flex-shrink: 0;
}

.ss-favorites-button .systemsculpt-favorites-icon svg {
  width: 12px;
  height: 12px;
}

/* === Search Area === */
.systemsculpt-model-selection-modal .ss-modal__search {
  margin: 8px 16px;
  flex-shrink: 0;
}

.systemsculpt-model-selection-modal .ss-modal__search-input {
  height: 32px;
  padding: 0 32px 0 32px;
  border-radius: 16px;
  border: 1px solid var(--background-modifier-border);
  font-size: 13px;
  background: var(--background-primary);
}

.systemsculpt-model-selection-modal .ss-modal__search-input:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.2);
}

.systemsculpt-model-selection-modal .ss-modal__search-icon {
  left: 12px;
  color: var(--text-muted);
}

.systemsculpt-model-selection-modal .ss-modal__search-clear {
  right: 12px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--background-modifier-hover);
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-model-selection-modal .ss-modal__search-clear:hover {
  background: var(--background-modifier-hover-more);
}

/* === Model List === */
.systemsculpt-model-selection-modal .ss-modal__list {
  padding: 8px 16px 24px 16px; /* Increased bottom padding */
  gap: 4px;
  background: var(--background-primary);
  /* Remove duplicate styles since we set them above */
}

.systemsculpt-model-selection-modal .ss-modal__item {
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  padding: 12px;
  background: var(--background-primary);
  transition: all 0.1s ease;
  opacity: 1 !important;
  visibility: visible !important;
}

.systemsculpt-model-selection-modal .ss-modal__item:hover {
  border-color: var(--interactive-accent) !important;
  background: var(--background-secondary) !important;
}

.systemsculpt-model-selection-modal .ss-modal__item.ss-active {
  border-color: var(--interactive-accent) !important;
  background: var(--background-primary-alt) !important;
  box-shadow: 0 0 0 2px var(--interactive-accent);
  position: relative;
  animation: ss-selected-pulse 0.3s ease-out;
}

@keyframes ss-selected-pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 2px var(--interactive-accent);
  }
  50% {
    transform: scale(1.02);
    box-shadow: 0 0 0 4px var(--interactive-accent);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 2px var(--interactive-accent);
  }
}

/* Fix: Selected models should also show hover effects */
.systemsculpt-model-selection-modal .ss-modal__item.ss-active:hover {
  background: var(--background-secondary-alt) !important;
  box-shadow: 0 0 0 2px var(--interactive-accent);
}

/* Add "SELECTED" badge to the currently active model */
.systemsculpt-model-selection-modal .ss-modal__item.ss-active::before {
  content: "SELECTED";
  position: absolute;
  top: 8px;
  right: 8px;
  font-size: 9px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  padding: 2px 6px;
  border-radius: 3px;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  z-index: 2;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* Adjust existing badges when "SELECTED" badge is present */
.systemsculpt-model-selection-modal .ss-modal__item.ss-active .provider-badge {
  margin-right: 60px; /* Make room for the SELECTED badge */
}

.systemsculpt-model-selection-modal .ss-modal__item-icon {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  transition: all 0.1s ease;
}

.systemsculpt-model-selection-modal .ss-modal__item-icon svg {
  width: 16px;
  height: 16px;
}

/* Enhanced icon styling for selected model */
.systemsculpt-model-selection-modal .ss-modal__item.ss-active .ss-modal__item-icon {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.systemsculpt-model-selection-modal .ss-modal__item.ss-active .ss-modal__item-title {
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-model-selection-modal .ss-modal__item-title {
  font-size: 14px;
  font-weight: 500;
  margin-bottom: 2px;
}

.systemsculpt-model-selection-modal .ss-modal__item-description {
  font-size: 12px;
  line-height: 1.4;
  color: var(--text-muted);
}

/* Special styling for current model when shown outside filter results */
.systemsculpt-model-selection-modal .ss-modal__item.ss-current-model:not(.ss-active) {
  opacity: 0.85;
  border-style: dashed;
  border-color: var(--interactive-accent-hover);
  background: var(--background-secondary);
}

.systemsculpt-model-selection-modal .ss-modal__item.ss-current-model:not(.ss-active)::after {
  content: "Current Model (filtered out)";
  position: absolute;
  top: 8px;
  right: 8px;
  font-size: 9px;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  padding: 2px 6px;
  border-radius: 3px;
  background: var(--background-modifier-border);
  color: var(--text-muted);
  z-index: 2;
}

/* === Provider Badges === */
.systemsculpt-model-selection-modal .provider-badge {
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  background: var(--background-secondary);
  color: var(--text-muted);
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-model-selection-modal .provider-badge[data-badge="New"] {
  background: var(--color-green);
  color: white;
  border-color: var(--color-green);
}

.systemsculpt-model-selection-modal .provider-badge[data-badge="Beta"] {
  background: var(--color-orange);
  color: white;
  border-color: var(--color-orange);
}

.systemsculpt-model-selection-modal .provider-badge[data-badge="Agent"] {
  background: var(--color-purple);
  color: white;
  border-color: var(--color-purple);
}

.systemsculpt-model-selection-modal .provider-badge[data-badge="Legacy"] {
  background: var(--color-red);
  color: white;
  border-color: var(--color-red);
  opacity: 0.8;
}

/* === Empty State === */
.systemsculpt-model-selection-modal .systemsculpt-favorites-empty-state {
  margin: 24px;
  padding: 32px;
  background: var(--background-secondary);
  border: 1px dashed var(--background-modifier-border);
  border-radius: 8px;
  text-align: center;
}

/* Ensure empty state doesn't break scrolling */
.systemsculpt-model-selection-modal .ss-modal__empty-state {
  padding: 24px;
  text-align: center;
  color: var(--text-muted);
}

.systemsculpt-model-selection-modal .systemsculpt-favorites-empty-state svg {
  width: 32px;
  height: 32px;
  color: var(--text-faint);
  margin-bottom: 12px;
}

.systemsculpt-model-selection-modal .systemsculpt-favorites-empty-state h4 {
  font-size: 16px;
  margin-bottom: 6px;
}

.systemsculpt-model-selection-modal .systemsculpt-favorites-empty-state p {
  font-size: 13px;
  line-height: 1.5;
  max-width: 300px;
  margin: 0 auto;
}

/* === Mobile Responsiveness === */
@media (max-width: 768px) {
  .systemsculpt-model-selection-modal.ss-modal {
    width: 95vw;
    height: 80vh;
    max-height: none;
  }
  
  .ss-model-filter-bar {
    padding: 6px 8px;
    gap: 4px;
    flex-direction: column;
    min-height: auto;
  }
  
  .ss-model-filter-section {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  .ss-model-filter-controls {
    width: 100%;
    margin-left: 0;
    justify-content: flex-end;
    gap: 8px;
  }
  
  .ss-provider-filter-button {
    padding: 2px 4px;
    font-size: 10px;
  }
  
  .ss-provider-label {
    display: none; /* Hide labels on mobile */
  }
  
  .ss-model-refresh-button {
    padding: 2px 4px;
    font-size: 10px;
  }
  
  .ss-model-refresh-button span:last-child {
    display: none; /* Hide text on mobile */
  }
  
  .ss-favorites-button .systemsculpt-favorites-label {
    display: none; /* Hide favorites text on mobile */
  }
  
  /* Make favorites button consistent with other buttons on mobile */
  .ss-favorites-button .systemsculpt-favorites-filter {
    padding: 2px 4px;
    font-size: 10px;
  }
}

@media (max-width: 480px) {
  .ss-model-filter-bar {
    padding: 4px 6px;
  }
  
  .systemsculpt-model-selection-modal .ss-modal__item {
    padding: 6px 8px;
  }
  
  .systemsculpt-model-selection-modal .ss-modal__item-title {
    font-size: 13px;
  }
  
  .systemsculpt-model-selection-modal .ss-modal__item-description {
    font-size: 11px;
  }
}

/* Force full opacity on all model items */
.systemsculpt-model-selection-modal .ss-modal__item,
.systemsculpt-model-selection-modal .ss-modal__item.is-favorite,
.systemsculpt-model-selection-modal .ss-modal__item:not(.is-favorite),
.systemsculpt-model-selection-modal.favorites-active .ss-modal__item,
.systemsculpt-model-selection-modal.show-favorites .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Additional fix to ensure proper scrolling */
.systemsculpt-model-selection-modal {
  /* Ensure the modal container itself is properly sized */
  .modal {
    display: flex !important;
    flex-direction: column !important;
    height: 85vh !important;
    max-height: 85vh !important;
  }
  
  /* Debug helper - add visible scrollbar to verify scrolling works */
  .ss-modal__list::-webkit-scrollbar {
    width: 8px;
  }
  
  .ss-modal__list::-webkit-scrollbar-track {
    background: var(--background-modifier-border);
  }
  
  .ss-modal__list::-webkit-scrollbar-thumb {
    background: var(--text-muted);
    border-radius: 4px;
  }
  
  .ss-modal__list::-webkit-scrollbar-thumb:hover {
    background: var(--text-normal);
  }
}

/* janitor-modal.css */
/**
 * SystemSculpt Janitor Modal Styles
 * 
 * Modern, responsive styling for the Janitor modal and its submodals.
 * Follows the StandardModal design system and Obsidian's native look and feel.
 */

/* ============================================================================
   MAIN JANITOR MODAL
   ============================================================================ */

.ss-janitor-modal {
  /* Ensure proper size and positioning */
  max-width: 800px;
  width: 90vw;
  max-height: 85vh;
  display: flex;
  flex-direction: column;
  overflow: hidden; /* Let the content handle scrolling */
}

.ss-janitor-modal .ss-modal__header {
  background: linear-gradient(135deg, var(--background-primary) 0%, var(--background-secondary) 100%);
  border-bottom: 2px solid var(--background-modifier-border);
}

.ss-janitor-modal .ss-modal__title {
  color: var(--text-accent);
  font-size: 20px;
  font-weight: 700;
}

.ss-janitor-modal .ss-modal__description {
  margin-top: 8px;
  font-size: 14px;
  line-height: 1.5;
}

/* ============================================================================
   SECTIONS LAYOUT
   ============================================================================ */

.ss-janitor-modal .ss-modal__content {
  /* Enable scrolling for the content area */
  overflow-y: auto;
  flex: 1;
  min-height: 0; /* Critical for proper flexbox scrolling */
}

.ss-janitor-sections {
  display: flex;
  flex-direction: column;
  gap: 24px;
  padding: 4px 0 20px 0; /* Add bottom padding for scroll comfort */
}

.ss-janitor-section {
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 0;
  overflow: hidden;
  transition: all 0.2s ease;
  position: relative;
}

.ss-janitor-section:hover {
  border-color: var(--background-modifier-border-hover);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.ss-janitor-section-header {
  padding: 16px 20px;
  border-bottom: 1px solid var(--background-modifier-border);
  background: linear-gradient(90deg, var(--background-primary) 0%, var(--background-secondary) 100%);
}

.ss-janitor-section-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-normal);
  margin: 0 0 4px 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

.ss-janitor-section-description {
  font-size: 13px;
  color: var(--text-muted);
  margin: 0;
  line-height: 1.4;
}

.ss-janitor-section-content {
  padding: 20px;
  position: relative;
  transition: opacity 0.2s ease;
}

/* ============================================================================
   LOADING OVERLAY AND STATES
   ============================================================================ */

.ss-janitor-loading-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--background-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
}

.ss-janitor-loading-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  padding: 32px;
  text-align: center;
}

.ss-janitor-loading-icon {
  width: 32px;
  height: 32px;
  animation: ss-spin 1s linear infinite;
  color: var(--text-accent);
}

.ss-janitor-loading-text {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.ss-janitor-loading-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-normal);
}

.ss-janitor-loading-subtitle {
  font-size: 14px;
  color: var(--text-muted);
}

/* ============================================================================
   ERROR STATES
   ============================================================================ */

.ss-janitor-error {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  padding: 40px 20px;
  text-align: center;
}

.ss-janitor-error-icon {
  width: 48px;
  height: 48px;
  color: var(--text-error);
}

.ss-janitor-error-text {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ss-janitor-error-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-error);
}

.ss-janitor-error-message {
  font-size: 14px;
  color: var(--text-muted);
  max-width: 400px;
  line-height: 1.4;
}

@keyframes ss-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* ============================================================================
   STATS CARDS
   ============================================================================ */

.ss-janitor-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
  margin-bottom: 20px;
}

.ss-janitor-stat-card {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  transition: all 0.15s ease;
}

.ss-janitor-stat-card:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--background-modifier-border-hover);
}

.ss-janitor-stat-card--warning {
  border-color: var(--color-orange);
  background-color: rgba(var(--color-orange-rgb), 0.1);
}

.ss-janitor-stat-card--success {
  border-color: var(--color-green);
  background-color: rgba(var(--color-green-rgb), 0.1);
}

.ss-janitor-stat-card--muted {
  opacity: 0.7;
}

.ss-janitor-stat-icon {
  flex-shrink: 0;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-accent);
}

.ss-janitor-stat-card--warning .ss-janitor-stat-icon {
  color: var(--color-orange);
}

.ss-janitor-stat-card--success .ss-janitor-stat-icon {
  color: var(--color-green);
}

.ss-janitor-stat-content {
  flex: 1;
  min-width: 0;
}

.ss-janitor-stat-value {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-normal);
  line-height: 1.2;
  margin-bottom: 2px;
}

.ss-janitor-stat-label {
  font-size: 11px;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 500;
}

/* ============================================================================
   ACTION BUTTONS
   ============================================================================ */

.ss-janitor-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

.ss-janitor-actions .ss-button {
  min-width: 140px;
  font-weight: 500;
  font-size: 14px;
}

.ss-janitor-actions .ss-button.ss-disabled {
  opacity: 0.5;
  cursor: not-allowed;
  background-color: var(--background-modifier-border);
  color: var(--text-muted);
}

/* ============================================================================
   CONFIRMATION MODALS
   ============================================================================ */

.ss-janitor-preview {
  margin-top: 16px;
}

.ss-janitor-preview-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px 6px 0 0;
  border-bottom: none;
}

.ss-janitor-preview-count {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-normal);
}

.ss-janitor-preview-list {
  max-height: 300px;
  overflow-y: auto;
  border: 1px solid var(--background-modifier-border);
  border-top: none;
  border-radius: 0 0 6px 6px;
  background-color: var(--background-primary);
}

.ss-janitor-preview-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 16px;
  border-bottom: 1px solid var(--background-modifier-border);
  font-size: 13px;
  transition: background-color 0.1s ease;
}

.ss-janitor-preview-item:last-child {
  border-bottom: none;
}

.ss-janitor-preview-item:hover {
  background-color: var(--background-modifier-hover);
}

.ss-janitor-preview-icon {
  flex-shrink: 0;
  width: 16px;
  height: 16px;
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
}

.ss-janitor-preview-path {
  flex: 1;
  min-width: 0;
  color: var(--text-normal);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.ss-janitor-preview-size {
  flex-shrink: 0;
  color: var(--text-muted);
  font-size: 12px;
  font-weight: 500;
  background-color: var(--background-secondary);
  padding: 2px 6px;
  border-radius: 3px;
}

.ss-janitor-preview-more {
  padding: 12px 16px;
  text-align: center;
  color: var(--text-muted);
  font-style: italic;
  border-top: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
}

/* ============================================================================
   EMPTY CONTENT PREVIEW SECTIONS
   ============================================================================ */

.ss-janitor-preview-section {
  margin-bottom: 20px;
}

.ss-janitor-preview-section:last-child {
  margin-bottom: 0;
}

.ss-janitor-preview-section-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px 6px 0 0;
  border-bottom: none;
}

.ss-janitor-preview-section-icon {
  width: 16px;
  height: 16px;
  color: var(--text-accent);
  display: flex;
  align-items: center;
  justify-content: center;
}

.ss-janitor-preview-section-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-normal);
}

/* ============================================================================
   SCROLLBAR STYLING
   ============================================================================ */

.ss-janitor-modal .ss-modal__content {
  /* Custom scrollbar for better UX */
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb-bg) var(--scrollbar-bg);
}

.ss-janitor-modal .ss-modal__content::-webkit-scrollbar {
  width: 8px;
}

.ss-janitor-modal .ss-modal__content::-webkit-scrollbar-track {
  background: var(--background-secondary);
  border-radius: 4px;
}

.ss-janitor-modal .ss-modal__content::-webkit-scrollbar-thumb {
  background: var(--background-modifier-border);
  border-radius: 4px;
  transition: background-color 0.2s ease;
}

.ss-janitor-modal .ss-modal__content::-webkit-scrollbar-thumb:hover {
  background: var(--background-modifier-border-hover);
}

/* ============================================================================
   MOBILE RESPONSIVENESS
   ============================================================================ */

@media (max-width: 768px) {
  .ss-janitor-modal {
    width: 95vw;
    max-height: 90vh;
  }

  .ss-janitor-sections {
    gap: 16px;
  }

  .ss-janitor-section-header {
    padding: 12px 16px;
  }

  .ss-janitor-section-content {
    padding: 16px;
  }

  .ss-janitor-stats {
    grid-template-columns: 1fr;
    gap: 8px;
  }

  .ss-janitor-stat-card {
    padding: 10px;
  }

  .ss-janitor-actions {
    flex-direction: column;
    gap: 8px;
  }

  .ss-janitor-actions .ss-button {
    min-width: unset;
    width: 100%;
  }

  .ss-janitor-preview-list {
    max-height: 200px;
  }

  .ss-janitor-preview-item {
    padding: 6px 12px;
    font-size: 12px;
  }

  .ss-janitor-preview-path {
    /* Allow text to wrap on mobile for better readability */
    white-space: normal;
    word-break: break-all;
  }
}

@media (max-width: 480px) {
  .ss-janitor-modal .ss-modal__title {
    font-size: 18px;
  }

  .ss-janitor-section-title {
    font-size: 15px;
  }

  .ss-janitor-stat-value {
    font-size: 14px;
  }

  .ss-janitor-stat-label {
    font-size: 10px;
  }
}

/* ============================================================================
   ACCESSIBILITY AND FOCUS STATES
   ============================================================================ */

.ss-janitor-section:focus-within {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.2);
}

.ss-janitor-stat-card:focus-within {
  border-color: var(--interactive-accent);
  outline: none;
}

.ss-janitor-preview-item:focus-within {
  background-color: var(--background-modifier-hover);
  outline: none;
}

/* ============================================================================
   HIGH CONTRAST THEME SUPPORT
   ============================================================================ */

@media (prefers-contrast: high) {
  .ss-janitor-section {
    border-width: 2px;
  }

  .ss-janitor-stat-card {
    border-width: 2px;
  }

  .ss-janitor-preview-item {
    border-bottom-width: 2px;
  }
}

/* ============================================================================
   REDUCED MOTION SUPPORT
   ============================================================================ */

@media (prefers-reduced-motion: reduce) {
  .ss-janitor-section,
  .ss-janitor-stat-card,
  .ss-janitor-preview-item,
  .ss-janitor-section-content {
    transition: none;
  }

  .ss-janitor-loading-icon {
    animation: none;
  }
}

/* chat.css */
/**
 * Chat View
 * 
 * Styles specific to the chat interface
 */

.systemsculpt-messages-container {
  overflow-y: auto;
  overflow-x: hidden;
  height: calc(100% - 130px);
  padding: 16px;
  /* Remove smooth scroll behavior to prevent conflicts during generation */
  /* scroll-behavior: smooth; */
  position: relative;
  overscroll-behavior: contain; /* Prevent scroll chaining */
  -webkit-overflow-scrolling: touch; /* Better touch scrolling on iOS */
  
  /* Performance optimizations for smooth scrolling */
  will-change: scroll-position;
  transform: translateZ(0); /* Force hardware acceleration */
  backface-visibility: hidden; /* Reduce repaints */
  /* Remove containment - it was breaking child height calculation */
  /* contain: layout style paint; */
}

/* Thumb appearance for scrollbar */
.systemsculpt-messages-container::-webkit-scrollbar {
  width: 6px;
}

.systemsculpt-messages-container::-webkit-scrollbar-track {
  background: transparent;
}

.systemsculpt-messages-container::-webkit-scrollbar-thumb {
  background-color: var(--text-muted);
  border-radius: 3px;
  border: 2px solid transparent;
}

.systemsculpt-messages-container::-webkit-scrollbar-thumb:hover {
  background-color: var(--text-normal);
}

/* Fade out scrollbar when inactive */
.systemsculpt-messages-container:not(:hover)::-webkit-scrollbar-thumb {
  opacity: 0.5;
}

/* Scroll to bottom button */
.systemsculpt-scroll-to-bottom {
  position: absolute;
  bottom: 140px;
  right: 20px;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  z-index: 10;
}

.systemsculpt-scroll-to-bottom:hover {
  background-color: var(--background-secondary-alt);
  color: var(--text-normal);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.systemsculpt-scroll-to-bottom:active {
  transform: translateY(0);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .systemsculpt-scroll-to-bottom {
    width: 32px;
    height: 32px;
    bottom: 120px;
    right: 16px;
  }
}

.systemsculpt-chat-input {
  flex-grow: 1;
  resize: none;
  min-height: 40px;
  max-height: 150px;
  padding: 0.5rem;
  margin-right: 0.25rem;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 16px;
  line-height: 1.4;
  transition: all 0.2s ease;
}

.systemsculpt-chat-input {
  flex-grow: 1;
  resize: none;
  min-height: 40px;
  max-height: 150px;
  padding: 12px 16px;
  margin: 0;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 15px;
  line-height: 1.5;
  transition: all 0.2s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.systemsculpt-chat-input.disabled {
  background-color: var(--background-modifier-form-field);
  border-color: var(--background-modifier-border);
  color: var(--text-muted);
  cursor: not-allowed;
}

.systemsculpt-chat-input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  background-color: var(--background-primary);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-chat-input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.systemsculpt-chat-input.disabled {
  background-color: var(--background-modifier-form-field);
  border-color: var(--background-modifier-border);
  color: var(--text-muted);
  cursor: not-allowed;
}

.systemsculpt-chat-empty {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 160px;
  color: var(--text-muted);
  text-align: center;
  background-color: var(--background-primary-alt);
  border-radius: 8px;
  border: 1px dashed var(--background-modifier-border);
}

.systemsculpt-chat-search input:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.systemsculpt-chat-highlight {
  color: var(--text-accent);
  font-weight: 500;
  background-color: var(--text-accent-hover);
  padding: 0 2px;
  border-radius: 2px;
  text-decoration: underline;
  text-underline-offset: 2px;
}

.systemsculpt-chat-header-row {
  display: flex;
  width: 100%;
}

.systemsculpt-chat-search input {
  width: 100%;
  padding: 12px 16px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 1em;
  transition: all 0.2s ease;
}

.systemsculpt-chat-search input:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.systemsculpt-chat-header {
  background-color: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
  padding: 8px;
}

.systemsculpt-chat-header-left {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.systemsculpt-chat-header-row {
  display: flex;
  width: 100%;
}

.systemsculpt-chat-info {
  display: flex;
  align-items: center;
  gap: 4px;
}

.systemsculpt-chat-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  color: var(--text-muted);
  font-size: 0.85em;
  padding-top: 4px;
  border-top: 1px solid var(--background-modifier-border);
}

.systemsculpt-chat-input.disabled {
  background-color: var(--background-modifier-form-field);
  border-color: var(--background-modifier-border);
  color: var(--text-muted);
  cursor: not-allowed;
}

.systemsculpt-chat-input.disabled {
  background-color: var(--background-modifier-form-field);
  border-color: var(--background-modifier-border);
  color: var(--text-muted);
  cursor: not-allowed;
}

.systemsculpt-chat-preview {
  color: var(--text-muted);
  font-size: 0.9em;
  line-height: 1.4;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-box-orient: vertical;
}

.systemsculpt-chat-sentinel {
  height: 1px;
  width: 100%;
  opacity: 0;
}

.systemsculpt-chat-input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  background-color: var(--background-primary);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-chat-input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.systemsculpt-chat-badge {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 3px 8px;
  border-radius: 4px;
  font-size: 0.85em;
  background-color: var(--background-modifier-border);
  color: var(--text-muted);
}

.systemsculpt-chat-search {
  width: 100%;
  position: relative;
}

.systemsculpt-chat-search input {
  width: 100%;
  padding: 12px 16px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 1em;
  transition: all 0.2s ease;
}

.systemsculpt-chat-search input:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.systemsculpt-chat-header-left {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

/* ──────────────────────────────────────────────────────────
   Responsive tweaks for mobile / small viewports
   These overrides replace fixed heights with flexible layouts
   and compact controls so that the messages list + input have
   more usable space on devices with constrained width/height.
────────────────────────────────────────────────────────── */
@media (max-width: 768px), (max-height: 700px) {
  /* Let the messages list flex instead of relying on a hard-coded subtraction */
  .systemsculpt-messages-container {
    height: auto !important;      /* Cancel previous calc() height */
    flex: 1 1 auto !important;    /* Grow/Shrink with available space */
    min-height: 0 !important;     /* Allow shrinkage when keyboard shows */
    padding: 12px 8px;            /* Slightly tighter padding */
  }

  /* Make button toolbar more compact and horizontally scrollable */
  .systemsculpt-button-grid {
    gap: 4px;
    flex-wrap: nowrap;
    overflow-x: auto;
  }
  .systemsculpt-button-grid button {
    width: 32px;
    height: 32px;
  }

  /* Reduce spacing and size of input area */
  .systemsculpt-input-container {
    gap: 4px;
    padding: 4px;
  }
  .systemsculpt-chat-input {
    font-size: 14px;
    padding: 8px 12px;
  }

  /* Header compaction */
  .systemsculpt-chat-header {
    padding: 4px 6px;
  }

  /* Scroll-to-bottom button sits closer on small screens */
  .systemsculpt-scroll-to-bottom {
    bottom: 100px;
    right: 12px;
    width: 32px;
    height: 32px;
  }
}

/*──────────────────────────────────────────────────────────
  Load More (Earlier Messages) Button
──────────────────────────────────────────────────────────*/
.systemsculpt-load-more {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 8px 12px;
  margin: 4px 0 12px 0;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  background-color: var(--background-secondary);
  color: var(--interactive-accent);
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.15s ease, color 0.15s ease, opacity 0.15s ease;
  user-select: none;
  text-align: center;
  line-height: 1.2;
}

.systemsculpt-load-more:hover {
  background-color: var(--background-secondary-alt);
}

.systemsculpt-load-more:focus-visible {
  outline: 2px solid var(--interactive-accent);
  outline-offset: 1px;
}

.systemsculpt-load-more[aria-disabled="true"],
.systemsculpt-load-more[data-loading="true"] {
  cursor: default;
  opacity: 0.6;
}

.systemsculpt-load-more[data-loading="true"]::after {
  content: "";
  width: 14px;
  height: 14px;
  border: 2px solid currentColor;
  border-bottom-color: transparent;
  border-radius: 50%;
  margin-left: 8px;
  animation: systemsculpt-spin 0.8s linear infinite;
}

@keyframes systemsculpt-spin {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}



/* model-select.css */
/**
 * Model Selection View
 * 
 * Styles for model selection interface and model cards
 */

.systemsculpt-model-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
  gap: 8px;
}

.systemsculpt-model-indicator-section {
  padding: 8px 16px;
  border-top: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
}

.systemsculpt-model-indicator {
  padding: 8px 12px;
  background-color: var(--background-modifier-form-field);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  color: var(--text-normal);
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.15s ease;
  text-align: left;
  width: calc(50% - 4px);
  display: flex;
  align-items: center;
  height: 35px;
  box-sizing: border-box;
  justify-content: space-between;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}


.systemsculpt-model-indicator span {
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-model-indicator-drawer.systemsculpt-no-model {
  color: var(--text-muted);
  font-style: italic;
}

.systemsculpt-model-indicator-drawer:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-model-indicator:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--interactive-accent);
}

.systemsculpt-model-indicator:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--interactive-accent);
}

.systemsculpt-model-indicator-drawer {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 6px 8px;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.15s ease;
  color: var(--text-normal);
  font-size: 0.9em;
  width: 100%;
}

.systemsculpt-model-indicator-drawer.systemsculpt-no-model {
  color: var(--text-muted);
  font-style: italic;
}

.systemsculpt-model-indicator-drawer:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-model-indicator-drawer {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 6px 8px;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.15s ease;
  color: var(--text-normal);
  font-size: 0.9em;
  width: 100%;
}

.systemsculpt-model-indicator:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--interactive-accent);
}

.systemsculpt-model-indicator:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--interactive-accent);
}

.systemsculpt-model-highlight {
  background-color: var(--text-highlight-bg);
  color: var(--text-normal);
  padding: 0 2px;
  border-radius: 2px;
}

.systemsculpt-model-highlight {
  background: none;
  color: var(--text-accent);
  padding: 0;
  border-radius: 0;
  font-weight: 600;
  text-decoration: underline;
  margin: 0;
}

.systemsculpt-model-icon-container {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--interactive-accent);
  border-radius: 6px;
  color: var(--text-on-accent);
}

.systemsculpt-model-icon-container svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-model-icon-container svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-model-description.systemsculpt-has-tooltip {
  cursor: help;
}

.systemsculpt-model-description {
  font-size: 0.9em;
  color: var(--text-muted);
  margin: 0;
  padding: 1px 0;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  line-height: 1.15;
}

.systemsculpt-model-description {
  font-size: 13px;
  color: var(--text-muted);
  margin-bottom: 12px;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.systemsculpt-model-description.systemsculpt-has-tooltip {
  cursor: help;
}

.systemsculpt-model-card {
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: clamp(8px, 1.5vw, 12px);
  position: relative;
  cursor: pointer;
  transition: all 0.2s ease;
  width: 100%;
  height: fit-content;
  min-height: clamp(120px, 20vh, 160px);
  display: flex;
  flex-direction: column;
  gap: 4px;
  box-sizing: border-box;
}

.systemsculpt-model-card {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  width: 100%;
  box-sizing: border-box;
}

.systemsculpt-model-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
  gap: 8px;
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
  background-color: var(--background-secondary-alt);
}

.systemsculpt-model-card.systemsculpt-keyboard-selected {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--interactive-accent);
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-model-search input {
  width: 100%;
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  font-size: 14px;
  box-sizing: border-box;
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
}

.systemsculpt-model-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 8px rgb(0, 0, 0);
}

.systemsculpt-model-info-buttons {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.systemsculpt-model-name {
  font-size: 1.1em;
  font-weight: 600;
  color: var(--text-normal);
  line-height: 1;
}

.systemsculpt-model-name {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-model-name-container {
  margin: 0;
  display: flex;
  align-items: center;
  gap: 0px;
  padding: 1px 0;
}

.systemsculpt-model-name-container {
  flex: 1;
  min-width: 0;
}

.systemsculpt-model-empty {
  text-align: center;
  color: var(--text-muted);
  font-style: italic;
  padding: 32px;
  grid-column: 1 / -1;
}

.systemsculpt-model-card.systemsculpt-keyboard-selected {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--interactive-accent);
}

.systemsculpt-model-grid {
  display: block;
  width: 100%;
}

.systemsculpt-model-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 12px;
  overflow-y: scroll;
  padding-right: 8px;
  width: 100%;
  box-sizing: border-box;
}

.systemsculpt-model-grid {
  flex-grow: 1;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(min(100%, 300px), 1fr));
  gap: clamp(8px, 1.5vw, 12px);
  overflow-y: auto;
  padding: 0 4px 8px 0;
  width: 100%;
  min-height: 0;
  margin: 0 auto;
  max-width: 100%;
  align-items: start;
  align-content: start;
}

.systemsculpt-model-details {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin-top: auto;
  padding-top: 2px;
}

.systemsculpt-model-info-title {
  font-size: 1em;
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-model-badge {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  border-radius: 4px;
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  font-size: 12px;
  font-weight: 500;
}

.systemsculpt-model-message-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.systemsculpt-model-search {
  width: 100%;
  box-sizing: border-box;
}

.systemsculpt-model-search input {
  width: 100%;
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  font-size: 14px;
  box-sizing: border-box;
}

.systemsculpt-model-selection-modal {
  height: min(85vh, 900px);
  width: clamp(300px, 95%, 1200px);
  padding: clamp(8px, 2vw, 16px);
  display: flex;
  flex-direction: column;
  gap: clamp(8px, 1.5vw, 16px);
  overflow: hidden;
  margin: 0 auto;
  border-radius: 8px;
  background: var(--background-primary);
  box-shadow: var(--shadow-l);
}

.systemsculpt-model-selection-modal {
  max-width: min(800px, 95vw);
  max-height: 80vh;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 12px !important;
  box-sizing: border-box;
  margin: 0 auto;
  align-items: center;
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
}

.systemsculpt-model-card.selected {
  border-color: var(--interactive-accent);
  background-color: var(--background-secondary-alt);
}

.systemsculpt-model-indicator-drawer.systemsculpt-no-model {
  color: var(--text-muted);
  font-style: italic;
}

.systemsculpt-model-indicator span {
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-model-selection-container {
  padding: 12px;
}

.systemsculpt-model-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: help;
  line-height: 1;
}

.systemsculpt-model-icon svg {
  width: 16px;
  height: 16px;
  display: block;
}

.systemsculpt-model-icon-container {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--interactive-accent);
  border-radius: 6px;
  color: var(--text-on-accent);
}

.systemsculpt-model-icon-container svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-model-icons {
  display: flex;
  align-items: center;
  gap: 4px;
  margin: 0;
}

.systemsculpt-model-section-label {
  display: block;
  text-align: center;
  padding: var(--size-4-1) 0;
  margin: var(--size-4-2) 0;
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  font-weight: var(--font-medium);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-model-info {
  padding: 12px;
  margin: 4px 0;
  background: var(--background-secondary);
  border-radius: 8px;
  border-left: 4px solid var(--interactive-accent);
  display: flex;
  gap: 12px;
  align-items: center;
}

.systemsculpt-model-info-buttons {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.systemsculpt-model-info-description {
  color: var(--text-muted);
  font-size: 0.85em;
  line-height: 1.4;
}

.systemsculpt-model-info-title {
  font-size: 1em;
  font-weight: 600;
  color: var(--text-normal);
}

.systemsculpt-model-name-container {
  margin: 0;
  display: flex;
  align-items: center;
  gap: 0px;
  padding: 1px 0;
}

.systemsculpt-model-name-container {
  flex: 1;
  min-width: 0;
}

.systemsculpt-model-info-description {
  color: var(--text-muted);
  font-size: 0.85em;
  line-height: 1.4;
}

.systemsculpt-model-icons {
  display: flex;
  align-items: center;
  gap: 4px;
  margin: 0;
}

.systemsculpt-model-detail {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 0.9em;
}

.systemsculpt-model-details {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin-top: auto;
  padding-top: 2px;
}

.systemsculpt-model-icon svg {
  width: 16px;
  height: 16px;
  display: block;
}

.systemsculpt-model-meta {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.systemsculpt-model-indicator-drawer:hover {
  background-color: var(--background-modifier-hover);
}

/* Mobile responsive for indicators */
@media (max-width: 600px) {
  .systemsculpt-model-indicator {
    width: 100%;
  }
}



/* settings.css */
/**
 * Settings View
 * 
 * Styles for settings interface and configuration options
 */

.systemsculpt-setting-item-control input {
  flex: 1;
}

.systemsculpt-setting-item-heading {
  margin-bottom: 8px;
}

.systemsculpt-setting-item-control {
  display: flex;
  gap: 12px;
  align-items: center;
}

.systemsculpt-setting-item-control input {
  flex: 1;
}

.systemsculpt-setting-item-control {
  display: flex;
  gap: 8px;
  padding-top: 8px;
}

.systemsculpt-setting-item-control {
  display: flex;
  gap: 12px;
  align-items: center;
}

.systemsculpt-setting-item-control input {
  flex: 1;
}

.systemsculpt-setting-item {
  padding: 0;
  border: none;
}

.systemsculpt-setting-item-control {
  display: flex;
  gap: 8px;
  padding-top: 8px;
}

.systemsculpt-setting-item-heading {
  margin-bottom: 8px;
}

/* Change Log Tab Styles - Enhanced Timeline Design */
.systemsculpt-changelog-list {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 30px; /* Increased gap for more breathing room */
  padding-left: 35px; /* Space for timeline elements */
  margin-top: 20px;
}

.systemsculpt-changelog-list::before { /* The vertical timeline bar */
  content: "";
  position: absolute;
  left: 10px; /* Position of the bar within the padding-left */
  top: 15px;  /* Start a bit down, to align with first dot */
  bottom: 15px; /* End a bit up, to align with last dot */
  width: 3px;
  background-color: var(--background-modifier-border);
  border-radius: 2px;
  z-index: 0;
}

.systemsculpt-changelog-entry {
  position: relative;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.07);
  transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
}

.systemsculpt-changelog-entry:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 15px rgba(0,0,0,0.1);
}

.systemsculpt-changelog-entry::before { /* The timeline dot */
  content: "";
  position: absolute;
  left: -30.5px; /* Calculation: -(list_padding_left) + bar_center_in_list_padding - dot_radius */
  top: 29px; /* Aligns with the vertical center of the version badge */
  width: 14px;
  height: 14px;
  background-color: var(--interactive-accent);
  border-radius: 50%;
  border: 3px solid var(--background-secondary); /* Creates a "pop" effect */
  z-index: 1; /* Ensure dot is above the timeline bar */
}

.systemsculpt-changelog-entry-header {
  display: flex;
  align-items: center; /* Vertically align badge and date */
  margin-bottom: 15px;
  gap: 15px; /* Gap between version badge and date */
}

.systemsculpt-changelog-entry-header h4 { /* Version Badge */
  margin: 0;
  font-size: 0.95em;
  font-weight: 600;
  color: var(--text-on-accent);
  background-color: var(--interactive-accent);
  padding: 5px 12px;
  border-radius: 15px; /* Pill shape */
  line-height: 1.4;
  flex-shrink: 0; /* Prevent shrinking */
}

.systemsculpt-changelog-entry-date {
  font-size: 0.9em;
  color: var(--text-muted);
  font-weight: 500;
  white-space: nowrap;
}

.systemsculpt-changelog-entry-notes-markdown {
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border-hover);
  padding: 12px 15px;
  border-radius: 6px;
  font-size: 0.875em;
  line-height: 1.6;
  margin-top: 10px;
  margin-bottom: 15px;
  color: var(--text-normal);
}

/* Calm markdown styles for changelog */
.systemsculpt-changelog-entry-notes-markdown h1,
.systemsculpt-changelog-entry-notes-markdown h2,
.systemsculpt-changelog-entry-notes-markdown h3,
.systemsculpt-changelog-entry-notes-markdown h4,
.systemsculpt-changelog-entry-notes-markdown h5,
.systemsculpt-changelog-entry-notes-markdown h6 {
  font-weight: 600;
  margin-top: 1em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

.systemsculpt-changelog-entry-notes-markdown h1 { font-size: 1.3em; }
.systemsculpt-changelog-entry-notes-markdown h2 { font-size: 1.2em; }
.systemsculpt-changelog-entry-notes-markdown h3 { font-size: 1.1em; }
.systemsculpt-changelog-entry-notes-markdown h4 { font-size: 1.05em; }
.systemsculpt-changelog-entry-notes-markdown h5 { font-size: 1em; }
.systemsculpt-changelog-entry-notes-markdown h6 { font-size: 0.95em; }

.systemsculpt-changelog-entry-notes-markdown p {
  margin-bottom: 0.75em;
}

.systemsculpt-changelog-entry-notes-markdown p:last-child {
  margin-bottom: 0;
}

.systemsculpt-changelog-entry-notes-markdown ul,
.systemsculpt-changelog-entry-notes-markdown ol {
  margin-left: 1.5em;
  margin-bottom: 0.75em;
}

.systemsculpt-changelog-entry-notes-markdown li {
  margin-bottom: 0.25em;
}

.systemsculpt-changelog-entry-notes-markdown code {
  background-color: var(--background-modifier-code-block);
  padding: 0.15em 0.3em;
  border-radius: 3px;
  font-size: 0.9em;
  font-family: var(--font-monospace);
}

.systemsculpt-changelog-entry-notes-markdown pre {
  background-color: var(--background-modifier-code-block);
  padding: 1em;
  border-radius: 4px;
  overflow-x: auto;
  margin-bottom: 0.75em;
}

.systemsculpt-changelog-entry-notes-markdown pre code {
  background-color: transparent;
  padding: 0;
}

.systemsculpt-changelog-entry-notes-markdown blockquote {
  border-left: 3px solid var(--blockquote-border);
  padding-left: 1em;
  margin-left: 0;
  margin-bottom: 0.75em;
  color: var(--text-muted);
}

.systemsculpt-changelog-entry-notes-markdown a {
  color: var(--text-accent);
  text-decoration: none;
}

.systemsculpt-changelog-entry-notes-markdown a:hover {
  text-decoration: underline;
}

.systemsculpt-changelog-entry-notes-markdown strong,
.systemsculpt-changelog-entry-notes-markdown b {
  font-weight: 600;
}

.systemsculpt-changelog-entry-notes-markdown em,
.systemsculpt-changelog-entry-notes-markdown i {
  font-style: italic;
}

.systemsculpt-changelog-entry-notes-markdown hr {
  border: none;
  border-top: 1px solid var(--background-modifier-border);
  margin: 1em 0;
}

.systemsculpt-changelog-entry-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background-color: var(--background-modifier-hover);
  color: var(--text-accent);
  padding: 7px 14px;
  border-radius: 6px;
  text-decoration: none;
  font-weight: 500;
  font-size: 0.85em;
  transition: background-color 0.2s ease, color 0.2s ease;
}

.systemsculpt-changelog-entry-link:hover {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  text-decoration: none;
}

.systemsculpt-all-releases-link-container {
  margin-top: 30px;
  text-align: center;
}

.systemsculpt-all-releases-link {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 20px;
  border-radius: 8px;
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  text-decoration: none;
  font-weight: 600;
  transition: background-color 0.2s ease;
}

.systemsculpt-all-releases-link:hover {
  background-color: var(--interactive-accent-hover);
}
/* End of Enhanced Change Log Tab Styles */

/* Styles for Load More Button in Changelog */
.systemsculpt-load-more-container {
  text-align: center;
  margin-top: 20px; /* Space above the button */
  margin-bottom: 15px; /* Space below the button, before the 'View All Releases' link container */
}

.systemsculpt-load-more-button.mod-cta {
  padding: 10px 20px; /* Make it a bit more prominent */
  font-weight: 500;
  /* display: inline-block; is already handled by Obsidian's .mod-cta or button default */
  cursor: pointer;
}

/* Ensure the 'View All Releases' link container has enough space if 'Load More' is present */
.systemsculpt-all-releases-link-container {
  /* margin-top is already 30px, which should be sufficient */
  /* If the load more button is hidden, this margin will still apply */
}

/* Additional styles for settings sections and items */
.systemsculpt-settings-section-divider {
  margin-top: var(--size-4-3);      /* Consistent spacing top margin */
  margin-bottom: var(--size-4-3);   /* Consistent spacing bottom margin */
  border-top: 1px solid var(--background-modifier-border-hover); /* Slightly more visible */
}

.systemsculpt-setup-section-description {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  margin-bottom: var(--size-4-2); /* Tighter spacing below descriptions */
  max-width: 70ch; /* Improve readability */
}

.systemsculpt-license-description {
  margin-bottom: var(--size-4-5) !important; /* Ensure consistent spacing for license description */
}

/* Styling for individual setting items to ensure consistent look */
.systemsculpt-setting-item {
  padding: var(--size-4-3) 0; /* Consistent vertical padding */
}

.systemsculpt-setting-item-info {
  flex-grow: 1;
}

.systemsculpt-setting-item-name {
  font-weight: var(--font-semibold); /* Make setting names slightly bolder */
  font-size: var(--font-ui-normal); 
}

.systemsculpt-setting-item-description {
  font-size: var(--font-ui-small);
  color: var(--text-faint);
  padding-top: var(--size-4-1);
}

.systemsculpt-setting-item-description.systemsculpt-guidance {
  padding-left: 0; /* Reset padding if icon is not directly part of this desc */
}

/* Ensuring Obsidian native components are respected but can be subtly enhanced */
.systemsculpt-setting-item-control .slider {
  width: 150px; /* Consistent slider width */
}

/* Badges */
.systemsculpt-pro-badge {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  padding: 3px 8px;
  border-radius: var(--radius-s);
  font-size: var(--font-ui-smaller);
  font-weight: var(--font-bold);
  margin-left: var(--size-4-2); /* Spacing from the setting name */
  vertical-align: middle;
}

.systemsculpt-token-balance-value {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  margin-left: var(--size-4-2);
}

/* Pro Promotion Section */
.systemsculpt-pro-promotion {
  background-color: var(--background-secondary-alt); /* Slightly different background */
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-m);
  padding: var(--size-4-4);
  margin-top: var(--size-4-5);
  box-shadow: var(--shadow-s);
}

.systemsculpt-pro-promotion-header .systemsculpt-setting-item-name {
  font-size: var(--font-ui-large); /* Larger heading for promotion */
}

.systemsculpt-pro-promotion-features li {
  margin-bottom: var(--size-4-2);
  padding-left: var(--size-4-2); /* Indent feature list items */
  position: relative;
}

.systemsculpt-pro-promotion-features li::before {
  content: "✓"; /* Checkmark icon */
  color: var(--color-green);
  position: absolute;
  left: -var(--size-4-1);
  font-weight: var(--font-bold);
}

.systemsculpt-pro-promotion-buttons .button {
  margin-right: var(--size-4-2); /* Space between buttons */
}

.systemsculpt-pro-promotion-buttons .button.mod-cta {
  background-color: var(--interactive-accent-hover); /* Make CTA stand out */
}

/* API Key Input Field Styling */
.systemsculpt-api-key-input-container {
  position: relative;
  display: flex;
  align-items: center;
}

.systemsculpt-api-key-input-container input[type="password"],
.systemsculpt-api-key-input-container input[type="text"] {
  flex-grow: 1;
  padding-right: 30px; /* Space for the toggle icon */
}

.systemsculpt-api-key-toggle-visibility {
  position: absolute;
  right: 5px; /* Position inside the input field */
  top: 50%;
  transform: translateY(-50%);
  cursor: pointer;
  background: none;
  border: none;
  padding: 5px;
  color: var(--text-muted);
}

.systemsculpt-api-key-toggle-visibility .obsidian-icon svg {
  width: 16px; /* Adjust icon size as needed */
  height: 16px;
}

.systemsculpt-setting-item-description a {
  text-decoration: underline !important; 
}

/* SystemSculpt Native Provider Card Styles */
.systemsculpt-native-provider-card {
  border-left: 3px solid var(--interactive-accent);
  padding-left: var(--size-4-3); /* Add some padding to visually offset due to border */
  margin-bottom: var(--size-4-4); /* Space before custom providers section */
}

.systemsculpt-provider-status-indicator {
  margin-right: var(--size-4-2); 
}

.systemsculpt-provider-status-indicator .obsidian-icon svg {
  width: var(--icon-s);
  height: var(--icon-s);
}

.systemsculpt-provider-status-indicator.is-active svg {
  color: var(--color-green);
}

.systemsculpt-provider-status-indicator.is-inactive svg {
  color: var(--color-orange); 
}

.systemsculpt-guidance {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  margin-top: var(--size-4-1);
}

.systemsculpt-license-guidance {
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  padding: var(--size-4-3);
  margin-top: var(--size-4-2);
  margin-bottom: var(--size-4-3);
  font-size: var(--font-ui-small);
  color: var(--text-normal);
}

.systemsculpt-guidance-header {
  font-weight: var(--font-semibold);
  color: var(--text-accent);
  margin-bottom: var(--size-4-2);
  text-align: center;
}

.systemsculpt-guidance-option {
  display: flex;
  align-items: flex-start;
  justify-content: center;
  margin-bottom: var(--size-4-2);
  line-height: 1.4;
}

.systemsculpt-guidance-option:last-child {
  margin-bottom: 0;
}

.systemsculpt-option-label {
  font-weight: var(--font-semibold);
  color: var(--interactive-accent);
  margin-right: var(--size-4-1);
  flex-shrink: 0;
}

.systemsculpt-option-divider {
  text-align: center;
  margin: var(--size-4-2) 0;
  color: var(--text-muted);
  font-size: var(--font-ui-smaller);
  font-weight: var(--font-medium);
}

.systemsculpt-custom-providers-header {
  margin-top: var(--size-4-4); 
  margin-bottom: var(--size-4-3); 
  font-size: var(--font-ui-large); /* Make it a bit more prominent */
  font-weight: var(--font-semibold);
}

.systemsculpt-provider-group-divider {
  margin-top: var(--size-4-6);
  margin-bottom: var(--size-4-4);
}

/* --- NEW STYLES FOR PROVIDER CARDS --- */
.systemsculpt-active-providers-heading {
  font-size: var(--font-ui-large);
  font-weight: var(--font-semibold);
  margin-bottom: var(--size-4-2); /* Tighter spacing below heading */
  margin-top: var(--size-4-2); /* Tighter spacing above heading */
}

.systemsculpt-provider-card {
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-m);
  padding: var(--size-4-3) var(--size-4-4);
  margin-bottom: var(--size-4-3);
  display: flex;
  flex-direction: column;
  gap: var(--size-4-2);
}

.systemsculpt-provider-card.systemsculpt-native-provider-card {
  padding-left: var(--size-4-4); /* Ensure padding consistency if border-left removed or changed */
}

.systemsculpt-provider-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--size-4-3);
}

.systemsculpt-provider-header h5 {
  margin: 0;
  font-size: var(--font-ui-normal);
  font-weight: var(--font-semibold);
  flex-grow: 1;
}

.systemsculpt-provider-status-container {
  display: flex;
  align-items: center;
  gap: var(--size-4-2);
}

.systemsculpt-provider-status {
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
  padding: 2px var(--size-4-2);
  border-radius: var(--radius-s);
  text-transform: uppercase;
}

.systemsculpt-provider-status.enabled {
  color: var(--color-green);
  background-color: var(--color-green-faint);
}

.systemsculpt-provider-status.disabled {
  color: var(--color-orange);
  background-color: var(--color-orange-faint);
}

.systemsculpt-provider-status.auto-disabled {
  color: var(--color-red);
  background-color: var(--color-red-faint);
  border: 1px solid var(--color-red);
}

.systemsculpt-provider-failure-info {
  background-color: var(--background-modifier-form-field);
  padding: 8px 12px;
  border-radius: 6px;
  margin-top: 8px;
  border-left: 3px solid var(--color-red);
}

.systemsculpt-failure-text {
  font-weight: 500;
  color: var(--text-normal);
}

.systemsculpt-failure-timestamp {
  font-size: 0.9em;
  color: var(--text-muted);
}

/* Styling for the toggle within the provider card status */
.systemsculpt-provider-status-container .checkbox-container {
  transform: scale(0.9); /* Slightly smaller toggle */
}

.systemsculpt-provider-details {
  display: flex;
  flex-direction: column;
  gap: var(--size-4-1);
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  padding-left: var(--size-4-1); /* Small indent for details */
  border-left: 2px solid var(--background-modifier-border-hover);
  padding-left: var(--size-4-3);
  margin-left: var(--size-4-1); /* Give a bit of space from the header content */
}

.systemsculpt-provider-endpoint,
.systemsculpt-provider-api-key,
.systemsculpt-provider-last-tested {
  word-break: break-all;
}

.systemsculpt-masked-api-key {
  font-family: var(--font-monospace);
  background-color: var(--background-modifier-hover);
  padding: 1px 4px;
  border-radius: var(--radius-xs);
}

.systemsculpt-provider-actions {
  display: flex;
  justify-content: flex-end; /* Align buttons to the right */
  gap: var(--size-4-2);
  margin-top: var(--size-4-2);
}

.systemsculpt-provider-actions .button {
  font-size: var(--font-ui-small);
  padding: var(--size-2-1) var(--size-4-2); /* Smaller padding for action buttons */
}

.systemsculpt-add-provider-container {
  margin-top: var(--size-4-4);
}

.systemsculpt-no-providers-message {
  color: var(--text-muted);
  text-align: center;
  padding: var(--size-4-4);
  background-color: var(--background-secondary);
  border-radius: var(--radius-m);
  border: 1px dashed var(--background-modifier-border);
}

/* Removed global checkbox-container styling - let Obsidian handle native components */

/* SystemSculpt Native Provider specific override for desc if needed */
.systemsculpt-native-provider-card .setting-item-description {
    max-width: none; /* Allow full width for this specific description */
}

/* --- CUSTOM PROVIDER MODAL STYLES --- */
.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-group {
  margin-bottom: var(--size-4-3); /* Consistent spacing */
}

.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-group label:not(.systemsculpt-toggle-switch) {
  display: block;
  font-weight: var(--font-semibold);
  margin-bottom: var(--size-4-1);
}

.systemsculpt-custom-provider-modal .systemsculpt-optional-field-text {
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
  font-weight: var(--font-normal);
}

.systemsculpt-custom-provider-presets {
  margin-bottom: var(--size-4-4);
}

.systemsculpt-custom-provider-presets > label {
  display: block;
  font-weight: var(--font-semibold);
  margin-bottom: var(--size-4-2);
}

.systemsculpt-custom-provider-preset-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: var(--size-4-2);
}

.systemsculpt-preset-button {
  display: inline-flex;
  align-items: center;
  gap: var(--size-4-1);
  background-color: var(--background-modifier-hover);
  border: 1px solid var(--background-modifier-border);
  padding: var(--size-2-2) var(--size-4-2);
}
.systemsculpt-preset-button:hover {
  background-color: var(--background-modifier-border-hover);
  border-color: var(--background-modifier-border-focus);
}


.systemsculpt-preset-icon svg {
  width: var(--icon-s);
  height: var(--icon-s);
  color: var(--text-muted);
}

/* Validation error styling in Modal */
.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-group.error input,
.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-group.error .systemsculpt-api-key-input-container input {
  border-color: var(--color-red) !important; 
}
.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-group.error .systemsculpt-api-key-input-container {
  border: 1px solid var(--color-red) !important; /* Add border to container as well */
  border-radius: var(--radius-s);
}


.systemsculpt-custom-provider-modal .systemsculpt-custom-provider-form-validation {
  font-size: var(--font-ui-small);
  color: var(--color-red);
  margin-top: var(--size-4-1);
}

/* Ensure API Key toggle visibility button in modal is styled correctly */
.systemsculpt-custom-provider-modal .systemsculpt-api-key-toggle-visibility {
    right: 8px; /* Adjust if padding of input is different */
}
.systemsculpt-custom-provider-modal .systemsculpt-api-key-input-container input[type="password"],
.systemsculpt-custom-provider-modal .systemsculpt-api-key-input-container input[type="text"] {
  padding-right: 35px; /* Ensure space for the button */
}

/* --- QUICK SETUP BUTONS IN SETTINGS TAB --- */
.systemsculpt-one-click-container {
  margin-top: var(--size-4-2); /* Tighter spacing above */
  margin-bottom: var(--size-4-3); /* Tighter spacing before the active providers list */
}

.systemsculpt-one-click-heading {
  font-size: var(--font-ui-large);
  font-weight: var(--font-semibold);
  margin-bottom: var(--size-4-3);
}

.systemsculpt-one-click-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: var(--size-4-2);
}

.systemsculpt-one-click-buttons .button {
  /* Standard button styling from Obsidian will apply */
  /* Add specific overrides if needed */
  display: inline-flex; /* Ensures icon and text align well */
  align-items: center;
  gap: var(--size-4-1);
}

.systemsculpt-one-click-buttons .button .obsidian-icon {
  /* Specific styling for icons within these buttons if needed */
}

/* SystemSculptModelsModal Styling */
.systemsculpt-models-modal-content .modal-content {
  padding: 15px;
}

.systemsculpt-models-list-container {
  max-height: 450px;
  overflow-y: auto;
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-model-entry {
  padding: 12px;
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-m);
  background-color: var(--background-secondary);
  transition: background-color 0.2s ease, border-color 0.2s ease;
}

.systemsculpt-model-entry:hover {
  background-color: var(--background-modifier-hover);
  border-color: var(--interactive-accent-hover);
}

.systemsculpt-model-name {
  font-weight: var(--font-semibold);
  font-size: var(--font-ui-normal);
  color: var(--text-normal);
  margin-bottom: 5px;
}

.systemsculpt-model-description {
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  line-height: 1.4;
  margin-bottom: 5px;
  /* white-space: pre-wrap; */ /* Allow wrapping, remove if causing issues with truncation */
  transition: max-height 0.3s ease-in-out; /* Smooth transition for expansion */
}

.systemsculpt-model-description.truncated {
  max-height: 4.2em; /* Approx 3 lines (1.4em line-height * 3) */
  overflow: hidden;
  /* text-overflow: ellipsis; */ /* Ellipsis might not work well with dynamic show/less and multi-line */
  position: relative; /* For potential future absolute positioned gradient fade-out */
}

.systemsculpt-description-toggle {
  display: inline-block; /* Or block if it should be on its own line */
  font-size: var(--font-ui-smaller);
  color: var(--text-accent);
  cursor: pointer;
  margin-top: 4px;
  text-decoration: underline;
}

.systemsculpt-description-toggle:hover {
  color: var(--text-accent-hover);
}

.systemsculpt-model-context {
  font-size: var(--font-ui-smaller);
  color: var(--text-faint);
  margin-top: 8px;
  padding-top: 5px;
  border-top: 1px dashed var(--background-modifier-border);
}

.systemsculpt-models-modal-content .systemsculpt-empty-message {
  text-align: center;
  color: var(--text-muted);
  padding: 20px;
  font-style: italic;
}

/* Disabled setting styles for premium-only features */
.systemsculpt-disabled-setting {
  opacity: 0.6;
}

.systemsculpt-disabled-setting .setting-item-name {
  color: var(--text-muted);
}

.systemsculpt-disabled-setting .setting-item-description {
  color: var(--text-faint);
}

.systemsculpt-disabled-setting .checkbox-container {
  opacity: 0.5;
  pointer-events: none;
}

/* --- CHAT PRESETS SECTION HEADER --- */
.systemsculpt-presets-header {
  margin-bottom: var(--size-4-3);
}

.systemsculpt-presets-title {
  margin: 0 0 var(--size-4-1) 0;
  font-size: var(--font-ui-large);
  font-weight: var(--font-semibold);
  color: var(--text-normal);
}

.systemsculpt-presets-description {
  margin: 0;
  font-size: var(--font-ui-small);
  color: var(--text-muted);
}

/* --- CHAT PRESETS DISPLAY STYLING --- */
.systemsculpt-chat-presets-display {
  margin-bottom: var(--size-4-4);
}

.systemsculpt-presets-container {
  display: flex;
  gap: var(--size-4-3);
  flex-wrap: wrap;
}

.systemsculpt-preset-card {
  flex: 1;
  min-width: 180px;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-m);
  padding: var(--size-4-3) var(--size-4-4);
  transition: all 0.2s ease;
  display: flex;
  flex-direction: column;
  gap: var(--size-4-2);
}

.systemsculpt-preset-card-clickable {
  cursor: pointer;
}

.systemsculpt-preset-card-clickable:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transform: translateY(-1px);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-preset-card-title {
  margin: 0;
  font-size: var(--font-ui-small);
  font-weight: var(--font-semibold);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.systemsculpt-preset-card-value {
  margin: 0;
  font-size: var(--font-ui-normal);
  font-weight: var(--font-medium);
  color: var(--text-normal);
  word-break: break-word;
  line-height: 1.4;
}

.systemsculpt-preset-card-value-empty {
  color: var(--text-faint);
  font-style: italic;
}

.systemsculpt-preset-card-value-default {
  color: var(--text-muted);
}

.systemsculpt-preset-card-value-unavailable {
  color: var(--color-red);
  font-style: italic;
}

/* First-time user guidance */
.systemsculpt-presets-guidance {
  margin-top: var(--size-4-3);
  padding: var(--size-4-3);
  background-color: var(--background-modifier-info);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  border-left: 3px solid var(--interactive-accent);
}

.systemsculpt-presets-guidance-text {
  margin: 0;
  font-size: var(--font-ui-small);
  color: var(--text-normal);
  line-height: 1.4;
}

/* Responsive layout for smaller screens */
@media (max-width: 768px) {
  .systemsculpt-presets-container {
    flex-direction: column;
    gap: var(--size-4-2);
  }
  
  .systemsculpt-preset-card {
    min-width: unset;
  }
}

/* --- SYSTEM PROMPT CREATOR MODAL STYLING --- */
.systemsculpt-prompt-creator-modal .modal-content {
  max-width: 800px;
  max-height: 80vh;
  overflow-y: auto;
}

.systemsculpt-prompt-creator-description {
  color: var(--text-muted);
  font-size: var(--font-ui-small);
  margin-bottom: var(--size-4-4);
  line-height: 1.5;
}

.systemsculpt-prompt-creator-section {
  margin-bottom: var(--size-4-5);
  padding-bottom: var(--size-4-4);
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-prompt-creator-section:last-of-type {
  border-bottom: none;
  margin-bottom: var(--size-4-3);
}

.systemsculpt-prompt-creator-section h3 {
  margin: 0 0 var(--size-4-2) 0;
  font-size: var(--font-ui-large);
  font-weight: var(--font-semibold);
  color: var(--text-normal);
}

.systemsculpt-section-description {
  color: var(--text-muted);
  font-size: var(--font-ui-small);
  margin: 0 0 var(--size-4-3) 0;
  line-height: 1.4;
}

/* Save location display */
.systemsculpt-save-location {
  margin-top: var(--size-4-2);
  padding: var(--size-4-2) var(--size-4-3);
  background-color: var(--background-modifier-info);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  border-left: 3px solid var(--interactive-accent);
}

.systemsculpt-save-location-label {
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
  font-weight: var(--font-semibold);
  margin-bottom: var(--size-2-1);
}

.systemsculpt-save-location-path {
  font-family: var(--font-monospace);
  font-size: var(--font-ui-small);
  color: var(--text-normal);
  word-break: break-all;
}

.systemsculpt-save-location-placeholder {
  color: var(--text-faint);
  font-style: italic;
}

/* Presets grid */
.systemsculpt-presets-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--size-4-3);
  margin-top: var(--size-4-3);
}

.systemsculpt-presets-grid .systemsculpt-preset-card {
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-m);
  padding: var(--size-4-3);
  transition: all 0.2s ease;
}

.systemsculpt-presets-grid .systemsculpt-preset-card-clickable {
  cursor: pointer;
}

.systemsculpt-presets-grid .systemsculpt-preset-card-clickable:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transform: translateY(-1px);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-presets-grid .systemsculpt-preset-card-title {
  margin: 0 0 var(--size-4-1) 0;
  font-size: var(--font-ui-normal);
  font-weight: var(--font-semibold);
  color: var(--text-normal);
}

.systemsculpt-presets-grid .systemsculpt-preset-card-description {
  margin: 0;
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  line-height: 1.4;
}

.systemsculpt-preset-card-selected {
  border-color: var(--interactive-accent) !important;
  background-color: var(--background-modifier-success) !important;
  animation: systemsculpt-preset-selected 0.3s ease;
}

@keyframes systemsculpt-preset-selected {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
  100% {
    transform: scale(1);
  }
}

/* Full-width textarea */
.systemsculpt-prompt-textarea-container {
  width: 100%;
}

.systemsculpt-prompt-textarea {
  width: 100%;
  min-height: 200px;
  padding: var(--size-4-3);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-family: var(--font-monospace);
  font-size: var(--font-ui-small);
  line-height: 1.5;
  resize: vertical;
  transition: border-color 0.2s ease;
  box-sizing: border-box;
}

.systemsculpt-prompt-textarea:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.1);
}

.systemsculpt-prompt-textarea::placeholder {
  color: var(--text-faint);
  font-style: italic;
}

/* Actions section */
.systemsculpt-prompt-creator-actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--size-4-2);
  margin-top: var(--size-4-4);
  padding-top: var(--size-4-3);
  border-top: 1px solid var(--background-modifier-border);
}

/* Responsive adjustments for creator modal */
@media (max-width: 768px) {
  .systemsculpt-prompt-creator-modal .modal {
    margin: var(--size-4-2);
    max-width: calc(100vw - var(--size-4-4));
  }
  
  .systemsculpt-prompt-creator-modal .modal-content {
    max-height: 90vh;
    padding: var(--size-4-3);
  }
  
  .systemsculpt-presets-grid {
    grid-template-columns: 1fr;
    gap: var(--size-4-2);
  }
  
  .systemsculpt-prompt-creator-actions {
    flex-direction: column-reverse;
  }
  
  .systemsculpt-prompt-textarea {
    min-height: 150px; /* Slightly smaller on mobile */
    font-size: var(--font-ui-small);
  }
  
  .systemsculpt-prompt-creator-section {
    margin-bottom: var(--size-4-3); /* Tighter spacing on mobile */
  }
}

/* Additional mobile adjustments for very small screens */
@media (max-width: 480px) {
  .systemsculpt-prompt-creator-modal .modal {
    margin: var(--size-4-1);
    max-width: calc(100vw - var(--size-4-2));
  }
  
  .systemsculpt-prompt-creator-modal .modal-content {
    padding: var(--size-4-2);
  }
  
  .systemsculpt-prompt-textarea {
    min-height: 120px; /* Even more compact on very small screens */
    padding: var(--size-4-2);
  }
  
  .systemsculpt-presets-grid .systemsculpt-preset-card {
    padding: var(--size-4-2);
  }
}

/* --- SYSTEM PROMPT SELECTION MODAL ENHANCEMENTS --- */
.ss-modal-actions-container {
  display: flex;
  gap: var(--size-4-2);
  margin-bottom: var(--size-4-3);
  flex-wrap: wrap;
}

.ss-modal-create-button {
  display: flex;
  align-items: center;
  gap: var(--size-4-1);
  padding: var(--size-2-2) var(--size-4-3);
  border-radius: var(--radius-s);
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
  transition: all 0.2s ease;
}

.ss-modal-create-button:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(var(--interactive-accent-rgb), 0.2);
}

.ss-modal-create-icon,
.ss-modal-refresh-icon {
  display: flex;
  align-items: center;
}

.ss-modal-create-icon svg,
.ss-modal-refresh-icon svg {
  width: 16px;
  height: 16px;
}

.ss-modal-refresh-button {
  display: flex;
  align-items: center;
  gap: var(--size-4-1);
  padding: var(--size-2-2) var(--size-4-3);
  border-radius: var(--radius-s);
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
  background-color: var(--background-modifier-border);
  color: var(--text-normal);
  border: 1px solid var(--background-modifier-border);
  transition: all 0.2s ease;
}

.ss-modal-refresh-button:hover {
  background-color: var(--background-modifier-border-hover);
  border-color: var(--background-modifier-border-focus);
}

.ss-modal-refresh-button.is-loading {
  opacity: 0.6;
  pointer-events: none;
}

.ss-modal-refresh-icon--spinning {
  animation: ss-spin 1s linear infinite;
}

@keyframes ss-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Responsive adjustments for modal actions */
@media (max-width: 768px) {
  .ss-modal-actions-container {
    flex-direction: column;
    gap: var(--size-4-1);
  }
  
  .ss-modal-create-button,
  .ss-modal-refresh-button {
    justify-content: center;
  }
}

/* --- MODEL SETTINGS TAB STYLES --- */
.systemsculpt-models-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--size-4-3);
  margin-bottom: var(--size-4-4);
}

.systemsculpt-model-card {
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  padding: 12px;
  transition: border-color 0.2s ease, background-color 0.2s ease;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.systemsculpt-model-card-clickable {
  cursor: pointer;
}

.systemsculpt-model-card-clickable:hover {
  border-color: var(--interactive-accent);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-model-card-title {
  margin: 0;
  font-size: var(--font-ui-normal);
  font-weight: var(--font-semibold);
  color: var(--text-normal);
}

.systemsculpt-model-card-description {
  margin: 0;
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
  line-height: 1.2;
}

.systemsculpt-model-card-value {
  margin: 0;
  margin-top: auto;
  font-size: var(--font-ui-small);
  font-weight: var(--font-medium);
  color: var(--text-normal);
  word-break: break-word;
  line-height: 1.1;
  padding: 6px 10px;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  display: flex;
  align-items: center;
}

.systemsculpt-model-card-value-empty {
  color: var(--text-faint);
  font-style: italic;
}

.systemsculpt-model-card-value-default {
  color: var(--text-muted);
  font-style: italic;
}

.systemsculpt-model-card-value-unavailable {
  color: var(--color-red);
  font-style: italic;
}

/* First-time user guidance for models */
.systemsculpt-models-guidance {
  margin-top: var(--size-4-3);
  padding: var(--size-4-3);
  background-color: var(--background-modifier-info);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  border-left: 3px solid var(--interactive-accent);
}

.systemsculpt-models-guidance-text {
  margin: 0;
  font-size: var(--font-ui-small);
  color: var(--text-normal);
  line-height: 1.4;
}


/* Transcription model display */
.systemsculpt-transcription-model-display {
  font-family: var(--font-monospace);
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  background-color: var(--background-modifier-hover);
  padding: var(--size-2-1) var(--size-4-2);
  border-radius: var(--radius-s);
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-transcription-note {
  margin-top: var(--size-4-2);
  padding: var(--size-4-2) var(--size-4-3);
  background-color: var(--background-modifier-info);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  border-left: 3px solid var(--interactive-accent);
  font-size: var(--font-ui-small);
  color: var(--text-muted);
}

/* Responsive layout for model cards */
@media (max-width: 768px) {
  .systemsculpt-models-container {
    grid-template-columns: 1fr;
    gap: var(--size-4-2);
  }
  
  .systemsculpt-model-card {
    padding: 10px;
    gap: 4px;
  }
  
  .systemsculpt-model-card-value {
    padding: 4px 8px;
  }
}

/* Medium screens - 2 columns */
@media (min-width: 769px) and (max-width: 1200px) {
  .systemsculpt-models-container {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Large screens - 3 columns */
@media (min-width: 1201px) {
  .systemsculpt-models-container {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* Model settings reference note */
.systemsculpt-model-settings-note {
  margin-bottom: var(--size-4-3);
  padding: var(--size-4-2) var(--size-4-3);
  background-color: var(--background-modifier-info);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-s);
  border-left: 3px solid var(--interactive-accent);
  font-size: var(--font-ui-small);
  color: var(--text-normal);
}

/* Credit breakdown display styles */
.systemsculpt-credit-total {
  margin-bottom: var(--size-4-1);
}

.systemsculpt-credit-total-text {
  font-weight: var(--font-semibold);
  color: var(--text-normal);
  font-size: var(--font-ui-small);
}

.systemsculpt-credit-breakdown {
  display: flex;
  flex-direction: column;
  gap: var(--size-2-1);
  margin-left: var(--size-4-2);
}

.systemsculpt-credit-item {
  display: flex;
  align-items: center;
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
}

.systemsculpt-credit-bullet {
  color: var(--text-accent);
  margin-right: var(--size-2-1);
  font-weight: var(--font-bold);
}

.systemsculpt-credit-monthly {
  color: var(--text-accent);
}

.systemsculpt-credit-additional {
  color: var(--color-yellow);
}


/* preview.css */
/**
 * Preview Components
 *
 * Styles for content previews and preview panels
 */

.systemsculpt-preview-image {
  max-width: 100%;
  height: auto;
  object-fit: contain;
  border-radius: 8px;
  max-height: 70vh;
  padding: 16px;
}

.systemsculpt-preview-error {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  text-align: center;
  padding: 16px;
  min-height: 100px;
  font-size: 13px;
  line-height: 1.5;
  white-space: pre-line;
  background-color: var(--background-secondary);
  border-radius: 4px;
  margin: 8px;
}

.systemsculpt-preview-loading {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  text-align: center;
  padding: 16px;
  min-height: 200px;
  position: absolute;
  inset: 0;
  background: var(--background-primary);
  z-index: 1;
}

.systemsculpt-preview-loading svg {
  width: 32px;
  height: 32px;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-preview-loading::before {
  content: "";
  width: 20px;
  height: 20px;
  border: 2px solid var(--background-modifier-border);
  border-top-color: var(--text-accent);
  border-radius: 50%;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
  margin-right: 8px;
}

.systemsculpt-preview-frontmatter-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-muted);
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.systemsculpt-preview-audio {
  width: 100%;
  margin: 20px 0;
  border-radius: 8px;
  background: var(--background-secondary);
}

.systemsculpt-preview-header {
  padding: 8px 12px;
  background-color: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
  border-radius: 4px 4px 0 0;
  font-size: 0.85em;
  opacity: 0.8;
}

.systemsculpt-preview-frontmatter-key {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-muted);
}

.systemsculpt-preview-content {
  flex-grow: 1;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  overflow-y: auto;
  white-space: pre-wrap;
  font-family: var(--font-text);
  line-height: 1.5;
}

.systemsculpt-preview-pane {
  flex: 1;
  min-width: 0;
  min-height: 300px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  overflow: hidden;
  position: relative;
}

.systemsculpt-preview-text {
  width: 100%;
  height: 100%;
  padding: 16px;
  overflow-y: auto;
  margin: 0;
}

.systemsculpt-preview-markdown h3:first-child {
  margin-top: 0;
}

.systemsculpt-preview-container {
  position: fixed;
  z-index: 1000;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  pointer-events: none;
  max-width: min(800px, 80vw);
  max-height: min(600px, 80vh);
  overflow: hidden;
}

.systemsculpt-preview-frontmatter-grid {
  display: grid;
  gap: 4px;
}

.systemsculpt-preview-frontmatter-value {
  font-size: 13px;
  color: var(--text-normal);
  word-break: break-word;
}

.systemsculpt-preview-markdown img {
  max-width: 100%;
  height: auto;
}

.systemsculpt-preview-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-preview-markdown {
  padding: 16px;
  font-size: 14px;
  line-height: 1.5;
  color: var(--text-normal);
  overflow-wrap: break-word;
  width: 100%;
  height: 100%;
  overflow-y: auto;
}

.systemsculpt-preview-markdown h3:first-child {
  margin-top: 0;
}

.systemsculpt-preview-markdown img {
  max-width: 100%;
  height: auto;
}

.systemsculpt-preview-loading::before {
  content: "";
  width: 20px;
  height: 20px;
  border: 2px solid var(--background-modifier-border);
  border-top-color: var(--text-accent);
  border-radius: 50%;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
  margin-right: 8px;
}

.systemsculpt-preview-pdf {
  width: 100%;
  height: 100%;
  border: none;
}

.systemsculpt-preview-pdf-container {
  width: 100%;
  height: 70vh;
  background: var(--background-secondary);
  border-radius: 8px;
  overflow: hidden;
}

.systemsculpt-preview-video {
  width: 100%;
  max-height: 70vh;
  border-radius: 8px;
  background: var(--background-secondary);
}

.systemsculpt-preview-frontmatter-row {
  display: grid;
  grid-template-columns: minmax(100px, auto) 1fr;
  gap: 12px;
  align-items: baseline;
  padding: 4px 0;
}

.systemsculpt-preview.systemsculpt-visible {
  opacity: 1;
  display: block;
}

.systemsculpt-preview-loading svg {
  width: 32px;
  height: 32px;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-preview-frontmatter {
  background: var(--background-secondary);
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 16px;
}

.systemsculpt-preview-frontmatter-grid {
  display: grid;
  gap: 4px;
}

.systemsculpt-preview-frontmatter-key {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-muted);
}

.systemsculpt-preview-frontmatter-row {
  display: grid;
  grid-template-columns: minmax(100px, auto) 1fr;
  gap: 12px;
  align-items: baseline;
  padding: 4px 0;
}

.systemsculpt-preview-frontmatter-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-muted);
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.systemsculpt-preview-frontmatter-value {
  font-size: 13px;
  color: var(--text-normal);
  word-break: break-word;
}

.systemsculpt-preview {
  position: fixed;
  z-index: 1000;
  pointer-events: auto; /* Enable mouse events on the preview */
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  opacity: 0;
  transform: translate(8px, 8px);
  transition: opacity 0.2s ease;
  background-color: var(--background-primary);
}

.systemsculpt-preview {
  display: none; /* Hidden by default, shown when .systemsculpt-visible is added */
}

.systemsculpt-preview-audio {
  width: 100%;
  margin: 20px 0;
  border-radius: 8px;
  background: var(--background-secondary);
}

.systemsculpt-preview-container {
  position: fixed;
  z-index: 1000;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 4px;
  padding: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  pointer-events: none;
  max-width: min(800px, 80vw);
  max-height: min(600px, 80vh);
  overflow: hidden;
}

.systemsculpt-preview-error {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  text-align: center;
  padding: 32px;
  min-height: 200px;
}

.systemsculpt-preview-frontmatter {
  background: var(--background-secondary);
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 16px;
}

.systemsculpt-preview-frontmatter-grid {
  display: grid;
  gap: 4px;
}

.systemsculpt-preview-frontmatter-key {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-muted);
}

.systemsculpt-preview-frontmatter-row {
  display: grid;
  grid-template-columns: minmax(100px, auto) 1fr;
  gap: 12px;
  align-items: baseline;
  padding: 4px 0;
}

.systemsculpt-preview-frontmatter-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-muted);
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.systemsculpt-preview-frontmatter-value {
  font-size: 13px;
  color: var(--text-normal);
  word-break: break-word;
}

.systemsculpt-preview-header {
  padding: 8px 12px;
  background-color: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
  border-radius: 4px 4px 0 0;
  font-size: 0.85em;
  opacity: 0.8;
}

.systemsculpt-preview-image {
  max-width: 100%;
  height: auto;
  object-fit: contain;
  border-radius: 8px;
  max-height: 70vh;
  padding: 16px;
}

.systemsculpt-preview-loading {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  text-align: center;
  padding: 16px;
  min-height: 200px;
  position: absolute;
  inset: 0;
  background: var(--background-primary);
  z-index: 1;
}

.systemsculpt-preview-loading svg {
  width: 32px;
  height: 32px;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-preview-loading::before {
  content: "";
  width: 20px;
  height: 20px;
  border: 2px solid var(--background-modifier-border);
  border-top-color: var(--text-accent);
  border-radius: 50%;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
  margin-right: 8px;
}

.systemsculpt-preview-markdown {
  padding: 16px;
  font-size: 14px;
  line-height: 1.5;
  color: var(--text-normal);
  overflow-wrap: break-word;
  width: 100%;
  height: 100%;
  overflow-y: auto;
}

.systemsculpt-preview-markdown h3:first-child {
  margin-top: 0;
}

.systemsculpt-preview-markdown img {
  max-width: 100%;
  height: auto;
}

.systemsculpt-preview-pane {
  flex: 1;
  min-width: 0;
  min-height: 300px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  overflow: hidden;
  position: relative;
}

.systemsculpt-preview-pdf {
  width: 100%;
  height: 100%;
  border: none;
}

.systemsculpt-preview-pdf-container {
  width: 100%;
  height: 70vh;
  background: var(--background-secondary);
  border-radius: 8px;
  overflow: hidden;
}

.systemsculpt-preview-separator {
  height: 1px;
  background: var(--background-modifier-border);
  margin: 16px 0;
}

.systemsculpt-preview-text {
  width: 100%;
  height: 100%;
  padding: 16px;
  overflow-y: auto;
  margin: 0;
}

.systemsculpt-preview-video {
  width: 100%;
  max-height: 70vh;
  border-radius: 8px;
  background: var(--background-secondary);
}

.systemsculpt-preview.systemsculpt-visible {
  opacity: 1;
  display: block;
}

.systemsculpt-preview-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.systemsculpt-preview-content {
  flex-grow: 1;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  overflow-y: auto;
  white-space: pre-wrap;
  font-family: var(--font-text);
  line-height: 1.5;
}

.systemsculpt-preview {
    display: none;
}

.systemsculpt-preview-separator {
  height: 1px;
  background: var(--background-modifier-border);
  margin: 16px 0;
}

.systemsculpt-preview-pdf-container {
  width: 100%;
  height: 70vh;
  background: var(--background-secondary);
  border-radius: 8px;
  overflow: hidden;
}

/* Markdown preview specific styles */
.systemsculpt-preview.systemsculpt-markdown-preview {
  max-width: min(450px, 80vw);
  max-height: min(450px, 80vh);
  border-radius: 8px;
  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.15);
  z-index: 1000;
}

.systemsculpt-preview.systemsculpt-markdown-preview .systemsculpt-preview-markdown {
  overflow-y: auto;
  max-height: min(400px, 70vh);
  padding-right: 8px; /* Space for scrollbar */
}

/* Truncation notice */
.systemsculpt-preview-truncation-notice {
  background-color: var(--background-modifier-border);
  color: var(--text-muted);
  padding: 8px 12px;
  font-size: 12px;
  text-align: center;
  border-top: 1px solid var(--background-modifier-border);
  margin-top: 8px;
  font-style: italic;
}



/* context.css */
/**
 * Context View
 * 
 * Styles for context selection and document context interface
 */

.systemsculpt-context-card.systemsculpt-is-selected {
  border-color: var(--interactive-accent);
  transform: translateY(-1px);
  outline-offset: 2px;
}

.systemsculpt-context-card.systemsculpt-is-selected {
}

.systemsculpt-context-card.systemsculpt-is-selected:hover {
}

.systemsculpt-context-action-button:active {
  background-color: var(--interactive-accent-hover);
  transform: translateY(1px);
}

.systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}

.systemsculpt-context-check {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--interactive-accent);
  border-radius: 50%;
  color: var(--text-on-accent);
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.2s ease;
  z-index: 1;
}

.systemsculpt-context-check svg {
  width: 14px;
  height: 14px;
  stroke-width: 2.5;
}

.systemsculpt-context-empty svg {
  width: 32px;
  height: 32px;
  opacity: 0.5;
}

.systemsculpt-context-action-button.ss-active:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 4px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-path {
  font-size: 12px;
  color: var(--text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
  width: 100%;
}

.systemsculpt-context-action-container {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 8px;
}

.systemsculpt-context-type-group {
  display: none;
  align-items: center;
  gap: 4px;
  flex-shrink: 0;
}

.systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
  display: flex;
}

.systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
    display: flex;
}

.systemsculpt-context-card.systemsculpt-is-selected:hover {
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
}

.systemsculpt-context-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 32px;
  color: var(--text-muted);
}

.systemsculpt-context-loading svg {
  width: 24px;
  height: 24px;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-context-type,
.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-type,
.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-modal {
  display: flex;
  flex-direction: column;
  height: 100vh;
  padding: 16px;
  background: var(--background-primary);
  overflow: hidden;
}

.systemsculpt-context-loading svg {
  width: 24px;
  height: 24px;
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-context-add-button {
  background: none;
  border: none;
  padding: 2px;
  width: 20px;
  height: 20px;
  color: var(--text-muted);
  cursor: pointer;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.systemsculpt-context-add-button:hover {
  color: var(--text-normal);
  background: var(--background-modifier-hover);
}

.systemsculpt-context-grid {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 8px 0;
  overflow-y: auto;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  min-height: 0;
}

.systemsculpt-context-grid::-webkit-scrollbar {
  width: 8px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 4px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-grid::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 4px;
}

.systemsculpt-context-type {
  background: var(--background-modifier-border);
  text-transform: uppercase;
  flex-shrink: 0;
}

.systemsculpt-context-type {
  display: none;
}

.systemsculpt-context-type {
  background: var(--background-modifier-border);
  text-transform: uppercase;
  font-weight: 500;
}

.systemsculpt-context-type,
.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-type,
.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-type-group {
  display: none;
  align-items: center;
  gap: 4px;
  flex-shrink: 0;
}

.systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
  display: flex;
}

.systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
    display: flex;
}

.systemsculpt-context-action-button.ss-active {
  background-color: var(--interactive-accent);
}

.systemsculpt-context-action-button.ss-active:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-thumb-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.systemsculpt-context-action-button {
  width: 100%;
  padding: 8px 16px;
  border: none;
  border-radius: 4px;
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: background-color 0.2s ease;
  margin-top: 16px;
}

/* New style for primary action button */
.systemsculpt-primary-action {
  font-size: 15px !important;
  padding: 10px 18px !important;
  font-weight: 600 !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  transition: all 0.2s ease;
  transform: translateY(0);
}

.systemsculpt-primary-action:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
  transform: translateY(-1px);
}

.systemsculpt-primary-action:active {
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.15);
  transform: translateY(1px);
}
/* End of new styles */

.systemsculpt-context-action-button.ss-active {
  background-color: var(--interactive-accent);
}

.systemsculpt-context-action-button.ss-active:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-context-action-button:active {
  background-color: var(--interactive-accent-hover);
  transform: translateY(1px);
}

.systemsculpt-context-action-button:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-context-size {
  padding: 0;
  flex-shrink: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}

.systemsculpt-context-size {
  padding: 0;
  min-width: 45px;
  text-align: right;
}

.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-size,
.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-meta-group {
  display: none;
  align-items: center;
  gap: 4px;
  margin-left: auto;
  height: 24px;
  min-width: 0;
  flex-shrink: 1;
  overflow: hidden;
}

.systemsculpt-context-meta-group {
  display: none;
}

.systemsculpt-context-meta-group {
  display: flex;
}

.systemsculpt-context-meta-group {
    display: flex;
}

.systemsculpt-context-grid::-webkit-scrollbar {
  width: 8px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 4px;
}

.systemsculpt-context-grid::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

.systemsculpt-context-grid::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 4px;
}

.systemsculpt-context-search input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-context-card {
  position: relative;
  padding: 12px;
  border-radius: 8px;
  background: var(--background-primary);
  border: 1px solid transparent;
  transition: all 0.2s ease;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
  min-width: 0;
}

.systemsculpt-context-card.systemsculpt-is-added {
  background: var(--background-primary-alt);
  border-color: var(--interactive-accent);
}

.systemsculpt-context-card.systemsculpt-is-added .systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}

.systemsculpt-context-card.systemsculpt-is-selected {
  border-color: var(--interactive-accent);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  outline: 2px solid var(--interactive-accent);
  outline-offset: 2px;
}

.systemsculpt-context-card.systemsculpt-is-selected {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.systemsculpt-context-card.systemsculpt-is-selected:hover {
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
}

.systemsculpt-context-add-button:hover {
  color: var(--text-normal);
  background: var(--background-modifier-hover);
}

.systemsculpt-context-token-count {
  background: var(--background-modifier-border);
  flex-shrink: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}

.systemsculpt-context-token-count {
  background: var(--background-modifier-border);
  min-width: 60px;
  text-align: right;
}

.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-token-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  font-size: 11px;
  color: var(--text-muted);
  padding: 0 6px;
  border-radius: 4px;
  white-space: nowrap;
}

.systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
  display: flex;
}

.systemsculpt-context-type-group,
  .systemsculpt-context-meta-group {
    display: flex;
}

.systemsculpt-context-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: auto;
  min-width: 0;
  flex-wrap: nowrap;
}

.systemsculpt-context-meta {
  flex-wrap: nowrap;
}

.systemsculpt-context-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
  margin-left: auto;
  padding-left: 8px;
}

.systemsculpt-context-meta-group {
  display: none;
  align-items: center;
  gap: 4px;
  margin-left: auto;
  height: 24px;
  min-width: 0;
  flex-shrink: 1;
  overflow: hidden;
}

.systemsculpt-context-meta-group {
  display: none;
}

.systemsculpt-context-meta-group {
  display: flex;
}

.systemsculpt-context-meta {
    flex-wrap: nowrap;
}

.systemsculpt-context-meta-group {
    display: flex;
}

.systemsculpt-context-grid::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 4px;
}

.systemsculpt-context-check svg {
  width: 14px;
  height: 14px;
  stroke-width: 2.5;
}

.systemsculpt-context-badge svg {
  width: 12px;
  height: 12px;
}

.systemsculpt-context-search {
  flex-shrink: 0;
  position: relative;
  width: 100%;
  margin-bottom: 8px;
}

.systemsculpt-context-search input {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  font-size: 16px;
  transition: all 0.2s ease;
}

.systemsculpt-context-search input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-context-action-button:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-context-card.systemsculpt-is-added .systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}

.systemsculpt-context-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
  height: 20px;
}

.systemsculpt-context-badge svg {
  width: 12px;
  height: 12px;
}

.systemsculpt-context-badge.systemsculpt-pro-badge {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-context-search input {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  font-size: 16px;
  transition: all 0.2s ease;
}

.systemsculpt-context-search input:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-context-thumbnail {
  width: 64px;
  height: 64px;
  overflow: hidden;
  border-radius: 4px;
  flex-shrink: 0;
  position: relative;
}

.systemsculpt-context-badge.systemsculpt-pro-badge {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-context-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 32px;
  text-align: center;
  color: var(--text-muted);
}

.systemsculpt-context-empty svg {
  width: 32px;
  height: 32px;
  opacity: 0.5;
}

.systemsculpt-context-card.systemsculpt-is-added {
  background: var(--background-primary-alt);
  border-color: var(--interactive-accent);
}

.systemsculpt-context-card.systemsculpt-is-added .systemsculpt-context-check {
  opacity: 1;
  transform: scale(1);
}

/* custom-provider.css */
/* 
 * Custom Provider Interface - Minimal Modern Design
 */

/* Reset and base styles */
.systemsculpt-custom-provider-modal,
.systemsculpt-custom-provider-manager-modal {
  --modal-width: 480px;
  --modal-padding: 16px;
  --border-radius: 6px;
  --inner-padding: 12px;
  
  width: var(--modal-width);
  max-width: 85vw;
  border-radius: var(--border-radius);
  background-color: var(--background-primary);
  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.15);
  margin: 0 auto;
  position: relative;
  box-sizing: border-box;
}

/* ===== PROVIDER MANAGER (LIST VIEW) ===== */
.systemsculpt-custom-provider-manager-modal {
  display: grid;
  grid-template-rows: auto 1fr auto;
  max-height: 80vh;
}

/* Header */
.systemsculpt-custom-provider-manager-header {
  padding: var(--inner-padding) var(--modal-padding);
  border-bottom: 1px solid var(--background-modifier-border);
  display: flex;
  align-items: center;
}

.systemsculpt-custom-provider-manager-back {
  display: flex;
  align-items: center;
  gap: 6px;
  color: var(--text-muted);
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 0.85em;
  margin-right: 12px;
}

.systemsculpt-custom-provider-manager-back:hover {
  color: var(--text-normal);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-custom-provider-manager-header h2 {
  margin: 0;
  font-size: 1.2em;
  font-weight: 600;
  flex-grow: 1;
}

/* Content */
.systemsculpt-custom-provider-manager-content {
  padding: var(--inner-padding) var(--modal-padding);
  overflow-y: auto;
  max-height: 60vh;
}

.systemsculpt-custom-provider-manager-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* Empty state - compact and centered */
.systemsculpt-custom-provider-manager-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 40px 20px;
  color: var(--text-muted);
}

.systemsculpt-custom-provider-manager-empty-icon {
  font-size: 2em;
  margin-bottom: 12px;
  opacity: 0.5;
}

.systemsculpt-custom-provider-manager-empty-text {
  font-size: 0.9em;
  line-height: 1.4;
}

/* Provider Card - Compact and clean */
.systemsculpt-custom-provider-card {
  border-radius: var(--border-radius);
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  padding: 12px;
  transition: all 0.15s ease;
}

.systemsculpt-custom-provider-card:hover {
  border-color: var(--interactive-accent);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

/* Card Header */
.systemsculpt-custom-provider-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.systemsculpt-custom-provider-card-name {
  font-size: 1em;
  font-weight: 600;
  margin: 0;
}

.systemsculpt-custom-provider-card-action {
  color: var(--text-muted);
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  display: flex;
  align-items: center;
}

.systemsculpt-custom-provider-card-action:hover {
  color: var(--text-error);
  background-color: rgba(var(--text-error-rgb), 0.1);
}

/* Card Details */
.systemsculpt-custom-provider-card-details {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 6px 8px;
  font-size: 0.85em;
  color: var(--text-muted);
  align-items: center;
}

.systemsculpt-custom-provider-card-detail {
  display: flex;
  align-items: center;
  gap: 6px;
}

.systemsculpt-custom-provider-card-detail:nth-child(odd) {
  justify-self: start;
}

.systemsculpt-custom-provider-card-detail:nth-child(even) {
  justify-self: end;
}

/* Bottom actions bar */
.systemsculpt-custom-provider-manager-actions {
  padding: var(--inner-padding) var(--modal-padding);
  border-top: 1px solid var(--background-modifier-border);
  display: flex;
  justify-content: flex-end;
}

.systemsculpt-custom-provider-manager-button {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 4px;
  font-size: 0.9em;
  cursor: pointer;
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border: none;
  transition: background-color 0.15s ease;
}

.systemsculpt-custom-provider-manager-button:hover {
  background-color: var(--interactive-accent-hover);
}

.systemsculpt-custom-provider-manager-button-primary {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.systemsculpt-custom-provider-manager-button svg {
  width: 16px;
  height: 16px;
}

/* ===== ADD/EDIT PROVIDER FORM ===== */
.systemsculpt-custom-provider-modal {
  display: grid;
  grid-template-rows: auto 1fr auto;
  max-height: 80vh;
}

.systemsculpt-custom-provider-header {
  padding: var(--inner-padding) var(--modal-padding);
  border-bottom: 1px solid var(--background-modifier-border);
  display: flex;
  align-items: center;
}

.systemsculpt-custom-provider-back {
  display: flex;
  align-items: center;
  gap: 6px;
  color: var(--text-muted);
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 0.85em;
  margin-right: 12px;
}

.systemsculpt-custom-provider-back:hover {
  color: var(--text-normal);
  background-color: var(--background-modifier-hover);
}

.systemsculpt-custom-provider-header h2 {
  margin: 0;
  font-size: 1.2em;
  font-weight: 600;
  flex-grow: 1;
}

/* Form content */
.systemsculpt-custom-provider-form {
  padding: var(--inner-padding) var(--modal-padding);
  overflow-y: auto;
}

/* Form groups */
.systemsculpt-custom-provider-form-group {
  margin-bottom: 14px;
}

.systemsculpt-custom-provider-form-group:last-child {
  margin-bottom: 0;
}

.systemsculpt-custom-provider-form-group label {
  display: block;
  font-weight: 500;
  margin-bottom: 4px;
  font-size: 0.85em;
}

.systemsculpt-custom-provider-form-group input,
.systemsculpt-custom-provider-form-group select {
  width: 100%;
  padding: 8px 10px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  font-size: 0.9em;
  transition: border-color 0.15s ease;
}

.systemsculpt-custom-provider-form-group input:focus,
.systemsculpt-custom-provider-form-group select:focus {
  border-color: var(--interactive-accent);
  outline: none;
}

.systemsculpt-custom-provider-form-validation {
  color: var(--text-error);
  font-size: 0.8em;
  margin-top: 4px;
  display: none;
}

.systemsculpt-custom-provider-form-group.error input,
.systemsculpt-custom-provider-form-group.error select {
  border-color: var(--text-error);
}

.systemsculpt-custom-provider-form-group.error .systemsculpt-custom-provider-form-validation {
  display: block;
}

/* Presets section */
.systemsculpt-custom-provider-presets {
  margin-bottom: 16px;
}

.systemsculpt-custom-provider-presets label {
  display: block;
  font-weight: 500;
  margin-bottom: 6px;
  font-size: 0.85em;
}

.systemsculpt-custom-provider-preset-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.systemsculpt-custom-provider-button-secondary {
  display: inline-flex;
  align-items: center;
  padding: 6px 10px;
  border-radius: 4px;
  background-color: var(--background-modifier-border);
  color: var(--text-normal);
  font-size: 0.8em;
  border: none;
  cursor: pointer;
}

.systemsculpt-custom-provider-button-secondary:hover {
  background-color: var(--background-modifier-hover);
}

/* Form actions */
.systemsculpt-custom-provider-form-actions {
  padding: var(--inner-padding) var(--modal-padding);
  border-top: 1px solid var(--background-modifier-border);
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}

/* Testing state */
.systemsculpt-testing {
  opacity: 0.7;
  cursor: wait;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.systemsculpt-testing svg {
  animation: spin 1s linear infinite;
}

.api-key-container {
  position: relative;
  width: 100%;
}

.api-key-container input {
  width: 100%;
  padding-right: 40px; /* Make room for the button */
}

.show-hide-password {
  position: absolute;
  right: 0;
  top: 0;
  height: 100%;
  background: none;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  cursor: pointer;
  color: var(--text-muted);
}

.show-hide-password:hover {
  color: var(--text-normal);
}

.systemsculpt-custom-provider-form-validation {
  color: var(--text-error);
  font-size: 0.8em;
  margin-top: 4px;
}

.systemsculpt-custom-provider-form-group.error input,
.systemsculpt-custom-provider-form-group.error select {
  border-color: var(--text-error);
} 

/* chat-settings-modal.css */
/* src/css/views/chat-settings-modal.css */

/* Fix modal height and scrolling */
.ss-chat-settings-modal {
  height: 85vh !important;
  max-height: 85vh !important;
}

/* Override StandardModal's content styling to enable scrolling */
.ss-chat-settings-modal .ss-modal__content {
  overflow-y: auto !important;
  overflow-x: hidden;
  padding: 20px;
  flex: 1;
  min-height: 0; /* Important for flex containers to allow shrinking */
}

/* Make the modal content scrollable and inherit default Obsidian modal styles */
.ss-chat-settings-modal .modal-content {
  padding: var(--modal-padding, 20px); /* fallback if --modal-padding not defined */
  display: block;
  overflow-y: auto;
  max-height: 80vh;
}

/* Remove two-panel layout: stack vertically */
.ss-chat-settings-modal__left-panel,
.ss-chat-settings-modal__right-panel {
  display: block;
  padding: 0;
  border: none;
  min-width: auto;
  gap: 0;
  overflow: visible;
  height: auto;
  box-sizing: border-box;
}

/* Remove card-like section styling, use Obsidian's setting-item blocks */
.ss-chat-settings-modal__section {
  background: none;
  border: none;
  border-radius: 0;
  padding: 0;
  margin-bottom: var(--size-4-4);
  display: block;
}

/* Section titles: use Obsidian's heading styles */
.ss-chat-settings-modal__section-title {
  font-size: var(--font-ui-large);
  font-weight: 600;
  color: var(--text-normal);
  margin: 0 0 var(--size-4-2) 0;
  padding: 0;
  border: none;
}

/* Use Obsidian's default input styles */
.ss-chat-settings-modal__title-input,
.ss-chat-settings-modal__prompt-textarea {
  width: 100%;
  box-sizing: border-box;
}

/* Prompt textarea: proper height handling with scrolling */
.ss-chat-settings-modal__prompt-textarea {
  min-height: 200px;
  max-height: 60vh; /* Allow growth but not beyond viewport */
  resize: vertical;
  width: 100%;
  box-sizing: border-box;
  overflow-y: auto; /* Enable scrolling for long content */
  font-family: var(--font-monospace);
  line-height: 1.5;
}

/* Button containers: vertical spacing */
.ss-chat-settings-modal__title-controls,
.ss-chat-settings-modal__model-controls,
.ss-chat-settings-modal__prompt-type-buttons,
.ss-chat-settings-modal__prompt-type-controls {
  display: flex;
  flex-wrap: wrap;
  gap: var(--size-4-2);
  margin-bottom: var(--size-4-3);
}

/* Preset buttons: minimal styling, mostly inherit */
.ss-preset-button {
  cursor: pointer;
  padding: var(--size-4-1) var(--size-4-3);
  border-radius: var(--radius-s);
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
  transition: background-color 0.15s ease, border-color 0.15s ease;
}
.ss-preset-button:hover {
  background-color: var(--background-modifier-hover);
}
.ss-preset-button.is-active {
  background-color: var(--interactive-accent);
  color: var(--text-on-accent);
  border-color: var(--interactive-accent);
}

/* Disabled preset button state for agent mode */
.ss-preset-button-disabled {
  opacity: 0.5;
  cursor: not-allowed;
  background-color: var(--background-secondary-alt);
  color: var(--text-muted);
  border-color: var(--background-modifier-border);
}
.ss-preset-button-disabled:hover {
  background-color: var(--background-secondary-alt);
  cursor: not-allowed;
}

/* Info text */
.ss-chat-settings-modal__prompt-type-details,
.ss-chat-settings-modal__prompt-editor-note {
  font-size: var(--font-ui-smaller);
  color: var(--text-muted);
  margin-bottom: var(--size-4-3);
}

/* Footer: use default modal footer styles */
.ss-chat-settings-modal .modal-button-container {
  padding: var(--size-4-3) var(--size-4-5);
  border-top: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  display: flex;
  justify-content: flex-end;
  gap: var(--size-4-2);
}

/* Default settings section styling */
.ss-chat-settings-modal__default-settings-section {
  margin-top: var(--size-4-4);
  padding-top: var(--size-4-4);
  border-top: 1px solid var(--background-modifier-border);
}

.default-settings-container {
  background-color: var(--background-secondary);
  padding: var(--size-4-3);
  border-radius: var(--radius-s);
  margin-top: var(--size-4-3);
}

/* Ensure prompt editor section has proper spacing */
.ss-chat-settings-modal__prompt-editor-section {
  margin-bottom: var(--size-4-4);
}

/* Mobile responsive adjustments */
@media (max-width: 600px) {
  .ss-chat-settings-modal {
    height: 95vh !important;
    max-height: 95vh !important;
    width: 95vw !important;
    max-width: 95vw !important;
  }
  
  .ss-chat-settings-modal .ss-modal__content {
    padding: 12px;
  }
  
  /* Reduce textarea height on mobile */
  .ss-chat-settings-modal__prompt-textarea {
    min-height: 150px;
    max-height: 50vh; /* Allow growth but keep reasonable on mobile */
  }
  
  /* Stack buttons vertically on mobile */
  .ss-chat-settings-modal__title-controls,
  .ss-chat-settings-modal__model-controls {
    flex-direction: column;
    align-items: stretch;
  }
  
  .ss-chat-settings-modal__title-controls input,
  .ss-chat-settings-modal__model-controls input {
    margin-bottom: var(--size-4-2);
  }
  
  /* Make preset buttons full width on mobile */
  .ss-preset-button {
    width: 100%;
    text-align: center;
  }
}


/* embeddings-view.css */
/* Embeddings View - Main container */
.systemsculpt-embeddings-view {
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 0;
  overflow: hidden;
}

/* Header section - ultra compact */
.embeddings-view-header {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 6px 12px;
  border-bottom: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  flex-shrink: 0;
}

.embeddings-view-title {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  font-weight: 500;
  font-size: var(--font-ui-small);
  color: var(--text-muted);
  transition: box-shadow 0.3s ease;
}

.embeddings-view-title-row {
  display: flex;
  align-items: center;
  gap: 6px;
}

.embeddings-view-file-name {
  font-size: var(--font-ui-smaller);
  color: var(--text-faint);
  font-weight: 400;
  text-align: center;
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.embeddings-view-icon {
  width: 14px;
  height: 14px;
  opacity: 0.6;
}

.embeddings-view-title.refreshing {
  animation: subtle-pulse 2s ease-in-out infinite;
}

@keyframes subtle-pulse {
  0% { 
    box-shadow: 0 0 0 0 transparent;
    opacity: 0.6;
  }
  50% { 
    box-shadow: 0 0 6px 2px color-mix(in srgb, var(--interactive-accent) 12%, transparent);
    opacity: 0.75;
  }
  100% { 
    box-shadow: 0 0 0 0 transparent;
    opacity: 0.6;
  }
}


/* Status section - hidden */
.embeddings-view-status {
  display: none;
}

/* Results container - more space */
.embeddings-view-results {
  flex: 1;
  overflow-y: auto;
  padding: 2px 0;
}

.results-container {
  padding: 0;
}

/* Individual result items - more compact and fully clickable */
.similar-note-item {
  display: flex;
  gap: 10px;
  padding: 8px 12px;
  border-bottom: 1px solid var(--background-modifier-border-focus);
  cursor: pointer;
  transition: all 0.15s ease;
  border-radius: 4px;
  margin: 1px 0;
  border: 1px solid transparent;
}

.similar-note-item:hover {
  background-color: var(--background-modifier-hover);
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  border-color: var(--background-modifier-border-hover);
}

.similar-note-item:active {
  transform: translateY(0);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.similar-note-item:last-child {
  border-bottom: none;
}

/* Score indicator - override the similar-notes-view.css properly */
.systemsculpt-embeddings-view .note-score {
  flex-shrink: 0;
  width: 36px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  margin-top: 2px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
  text-align: center;
}

/* Remove the span styling since we're styling the container directly */
.systemsculpt-embeddings-view .note-score span {
  font-size: inherit;
  font-weight: inherit;
  padding: 0;
  border-radius: 0;
  min-width: auto;
  text-align: inherit;
  display: contents;
}

/* Score colors using Obsidian's native semantic colors with transparency */
.systemsculpt-embeddings-view .note-score.score-high {
  background-color: color-mix(in srgb, var(--text-success) 50%, transparent);
  color: var(--text-on-accent);
  text-shadow: 0 0 2px rgba(0, 0, 0, 0.8);
}

.systemsculpt-embeddings-view .note-score.score-medium {
  background-color: color-mix(in srgb, var(--text-warning) 50%, transparent);
  color: var(--text-on-accent);
  text-shadow: 0 0 2px rgba(0, 0, 0, 0.8);
}

.systemsculpt-embeddings-view .note-score.score-low {
  background-color: color-mix(in srgb, var(--text-error) 50%, transparent);
  color: var(--text-on-accent);
  text-shadow: 0 0 2px rgba(0, 0, 0, 0.8);
}

/* Note content */
.note-content {
  flex: 1;
  min-width: 0;
}

.note-title {
  margin-bottom: 4px;
}

.note-title .internal-link {
  font-weight: 500;
  color: var(--text-normal);
  text-decoration: none;
  display: block;
  line-height: 1.3;
  cursor: inherit; /* Inherit cursor from parent card */
}

.note-title .internal-link:hover {
  color: var(--text-accent);
  text-decoration: none; /* Remove underline since whole card is clickable */
}

/* Visual indicator that the whole card is clickable */
.systemsculpt-embeddings-view .similar-note-item:hover .note-title .internal-link {
  color: var(--text-accent);
}

.note-excerpt {
  font-size: 11px;
  color: var(--text-muted);
  line-height: 1.3;
  margin-bottom: 4px;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
}

/* Metadata row - more compact */
.note-metadata {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
  font-size: 10px;
  color: var(--text-muted);
}

.note-path {
  opacity: 0.7;
}

.note-tags {
  display: flex;
  align-items: center;
  gap: 4px;
  flex-wrap: wrap;
}

.note-tags .tag {
  background-color: var(--tag-background);
  color: var(--tag-color);
  padding: 1px 3px;
  border-radius: 2px;
  font-size: 9px;
}

.note-date {
  opacity: 0.6;
  font-size: 10px;
}

/* Consolidated empty states - more compact */
.embeddings-view-empty,
.embeddings-view-no-results,
.embeddings-view-error,
.embeddings-view-disabled {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px 20px;
  text-align: center;
  flex: 1;
}

.empty-icon,
.no-results-icon,
.error-icon,
.disabled-icon {
  width: 40px;
  height: 40px;
  opacity: 0.4;
  margin-bottom: 12px;
}

.empty-title,
.no-results-title,
.error-title,
.disabled-title {
  font-size: 15px;
  font-weight: 500;
  color: var(--text-normal);
  margin-bottom: 6px;
}

.empty-description,
.no-results-description,
.error-message,
.disabled-description {
  font-size: 13px;
  color: var(--text-muted);
  line-height: 1.3;
  max-width: 280px;
}

.error-icon {
  opacity: 0.5;
  color: var(--text-error);
}

.error-title {
  color: var(--text-error);
}

/* Loading state */
.embeddings-view-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  text-align: center;
  flex: 1;
}

/* Compact loading for quick searches */
.embeddings-view-loading.compact {
  padding: 24px 20px;
  min-height: 120px;
}

.systemsculpt-loading-spinner {
  width: 24px;
  height: 24px;
  border: 2px solid var(--background-modifier-border);
  border-top: 2px solid var(--text-accent);
  border-radius: 50%;
  animation: embeddings-view-spin 1s linear infinite;
  margin-bottom: 16px;
}

/* Small spinner for quick loading */
.systemsculpt-loading-spinner.small {
  width: 18px;
  height: 18px;
  border-width: 1.5px;
  margin-bottom: 12px;
}

.systemsculpt-loading-text {
  font-size: 14px;
  color: var(--text-muted);
}

/* Small text for quick loading */
.systemsculpt-loading-text.small {
  font-size: 12px;
  opacity: 0.8;
}

@keyframes embeddings-view-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .embeddings-view-header {
    padding: 8px 12px;
  }
  
  .similar-note-item {
    padding: 10px 12px;
    gap: 8px;
  }
  
  .note-score {
    width: 35px;
  }
  
  .note-metadata {
    font-size: 10px;
  }
}



/* Scrollbar styling */
.embeddings-view-results::-webkit-scrollbar {
  width: 6px;
}

.embeddings-view-results::-webkit-scrollbar-track {
  background: transparent;
}

.embeddings-view-results::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 3px;
}

.embeddings-view-results::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-bg-hover);
}

/* Processing state */
.embeddings-view-processing {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px 20px;
  text-align: center;
  min-height: 240px;
}

.embeddings-view-processing .processing-icon {
  width: 40px;
  height: 40px;
  margin-bottom: 16px;
  opacity: 0.6;
}

.embeddings-view-processing .processing-title {
  font-size: 16px;
  font-weight: 500;
  margin-bottom: 10px;
  color: var(--text-normal);
}

.embeddings-view-processing .processing-description {
  font-size: 13px;
  color: var(--text-muted);
  margin-bottom: 16px;
  line-height: 1.4;
  max-width: 280px;
}

.embeddings-view-processing .processing-tip {
  font-size: 12px;
  color: var(--text-faint);
  background: var(--background-modifier-form-field);
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border);
}

/* Action buttons for large vault prompt */
.embeddings-view-processing .processing-actions {
  display: flex;
  gap: 10px;
  margin-top: 16px;
  justify-content: center;
}

.embeddings-view-processing .processing-actions button {
  padding: 6px 12px;
  border-radius: 4px;
  border: 1px solid var(--interactive-normal);
  background: var(--interactive-normal);
  color: var(--text-on-accent);
  cursor: pointer;
  font-weight: 500;
  font-size: 12px;
  transition: all 0.15s ease;
}

.embeddings-view-processing .processing-actions button:hover {
  background: var(--interactive-hover);
  border-color: var(--interactive-hover);
}

.embeddings-view-processing .processing-actions button.mod-muted {
  background: transparent;
  color: var(--text-muted);
  border-color: var(--background-modifier-border);
}

.embeddings-view-processing .processing-actions button.mod-muted:hover {
  background: var(--background-modifier-hover);
  color: var(--text-normal);
}

.embeddings-view-processing .processing-actions button.mod-cta {
  background: var(--interactive-accent);
  border-color: var(--interactive-accent);
  color: var(--text-on-accent);
}

.embeddings-view-processing .processing-actions button.mod-cta:hover {
  background: var(--interactive-accent-hover);
  border-color: var(--interactive-accent-hover);
}

/* Processing progress elements */
.processing-progress {
  width: 100%;
  max-width: 240px;
  margin-top: 16px;
}

.systemsculpt-progress-text {
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 8px;
  text-align: center;
}

.systemsculpt-progress-bar {
  width: 100%;
  height: 4px;
  background-color: var(--background-modifier-border);
  border-radius: 2px;
  overflow: hidden;
}

.systemsculpt-progress-fill {
  height: 100%;
  background-color: var(--interactive-accent);
  width: 0%;
  transition: width 0.3s ease;
  border-radius: 2px;
  position: relative;
  overflow: hidden;
}

/* Animated stripes for processing state */
.systemsculpt-progress-fill.processing::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: linear-gradient(
    45deg,
    transparent 25%,
    rgba(255, 255, 255, 0.15) 25%,
    rgba(255, 255, 255, 0.15) 50%,
    transparent 50%,
    transparent 75%,
    rgba(255, 255, 255, 0.15) 75%,
    rgba(255, 255, 255, 0.15)
  );
  background-size: 16px 16px;
  animation: embeddings-view-progress-stripes 1.2s linear infinite;
}

@keyframes embeddings-view-progress-stripes {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 16px 16px;
  }
}

/* Drag and Drop Styles for Similar Notes */
.similar-note-draggable {
  position: relative;
}

.similar-note-draggable::after {
  content: '';
  position: absolute;
  top: 4px;
  right: 4px;
  width: 16px;
  height: 16px;
  background: var(--text-muted);
  opacity: 0.3;
  mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg>') no-repeat center;
  mask-size: 12px;
  pointer-events: none;
  transition: opacity 0.2s ease;
}

.similar-note-draggable:hover::after {
  opacity: 0.6;
}

.similar-note-dragging {
  opacity: 0.5;
  transform: rotate(2deg);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  border-color: var(--interactive-accent);
  background: var(--background-modifier-hover);
}

.similar-note-dragging::after {
  opacity: 0.8;
  background: var(--interactive-accent);
}

/* Context indicator for notes already in chat context */
.similar-note-in-context {
  border: 2px solid var(--text-success);
  background: color-mix(in srgb, var(--text-success) 8%, var(--background-primary));
}

.similar-note-in-context:hover {
  background: color-mix(in srgb, var(--text-success) 12%, var(--background-modifier-hover));
  border-color: var(--text-success);
}

/* Adjust draggable indicator for notes in context */
.similar-note-in-context.similar-note-draggable::after {
  background: var(--text-success);
  opacity: 0.6;
}

.similar-note-in-context.similar-note-draggable:hover::after {
  opacity: 0.8;
}

/* Chat view drop zone feedback */
.systemsculpt-chat-view.drag-over-from-similar-notes {
  background: color-mix(in srgb, var(--interactive-accent) 10%, var(--background-primary));
  transition: background 0.2s ease;
}

.systemsculpt-chat-view.drag-over-from-similar-notes::before {
  content: 'Drop to add to context';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  padding: 8px 16px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  z-index: 1000;
  pointer-events: none;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

/* misc.css */
/**
 * Miscellaneous Styles
 * 
 * Styles that don't fit into other categories
 */

.systemsculpt-selected-model {
  border-color: var(--interactive-accent);
  background-color: var(--background-primary-alt);
}

.systemsculpt-code-block-wrapper {
  position: relative;
  margin: 1em 0;
  background-color: var(--background-primary);
  border-radius: 8px;
}

.systemsculpt-creative-indicator {
  color: var(--color-cyan);
}

.systemsculpt-credit-balance.systemsculpt-error {
  color: var(--text-error);
  background: var(--background-modifier-error);
}

.systemsculpt-custom-model-name {
  font-size: 0.95em;
  color: var(--text-normal);
  line-height: 1.2;
  font-weight: 500;
}

.systemsculpt-custom-section {
  margin-bottom: 12px;
  flex-shrink: 0;
}

.systemsculpt-detail-label {
  color: var(--text-muted);
}

.systemsculpt-detail-value {
  color: var(--text-normal);
}

.systemsculpt-drag-overlay {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(var(--background-primary-rgb), 0.9);
  backdrop-filter: blur(8px);
  z-index: 100;
  pointer-events: none;
  flex-direction: column;
  border: 2px dashed var(--interactive-accent);
  border-radius: 12px;
  margin: 8px;
}

.systemsculpt-drag-message {
  font-size: 1.2em;
  font-weight: 600;
  color: var(--interactive-accent);
  text-align: center;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.systemsculpt-drag-message::before {
  content: "📁";
  font-size: 1.5em;
}

.systemsculpt-drag-detail {
  font-size: 0.9em;
  color: var(--text-muted);
  text-align: center;
  padding: 0 16px;
  line-height: 1.4;
}

/* Different icons for different content types */
.systemsculpt-chat-container.systemsculpt-drag-active[data-drag-type="search-results"] 
  .systemsculpt-drag-message::before {
  content: "🔍";
}

.systemsculpt-chat-container.systemsculpt-drag-active[data-drag-type="folder"] 
  .systemsculpt-drag-message::before {
  content: "📂";
}

.systemsculpt-chat-container.systemsculpt-drag-active[data-drag-type="folders"] 
  .systemsculpt-drag-message::before {
  content: "📁📁";
}

.systemsculpt-chat-container.systemsculpt-drag-active[data-drag-type="files"] 
  .systemsculpt-drag-message::before {
  content: "📄";
}

/* Draggable elements styling */
.systemsculpt-draggable {
  transition: all 0.2s ease;
  user-select: none;
}

.systemsculpt-draggable:hover {
  background-color: var(--background-modifier-hover);
  border-radius: 4px;
}

.systemsculpt-draggable.systemsculpt-dragging {
  opacity: 0.5;
  transform: scale(0.95);
}


.systemsculpt-empty-state {
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 24px;
  color: var(--text-muted);
  text-align: center;
}

.systemsculpt-extension-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 2px 4px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
  line-height: 1;
}

.systemsculpt-extension-badge svg {
  width: 10px;
  height: 10px;
}

.systemsculpt-extension-badge.systemsculpt-pro-badge {
  background: rgba(255, 255, 255, 0.2);
  color: inherit;
}

.systemsculpt-extension-icon {
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-extension-icon svg {
  width: 14px;
  height: 14px;
}

.systemsculpt-extension-text {
  font-weight: 500;
}

.systemsculpt-file-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

.systemsculpt-file-icon svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-file-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  border-radius: 4px;
  background-color: var(--background-primary-alt);
  margin-bottom: 4px;
  min-width: 0;
}

.systemsculpt-file-meta {
  display: none; 
  white-space: nowrap;
  color: var(--text-muted);
  font-size: 0.85em;
}

.systemsculpt-file-meta {
  display: inline;
}

.systemsculpt-file-name {
  flex: 1;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-file-remove {
  margin-left: auto;
  opacity: 0.7;
  transition: opacity 0.15s ease;
  flex-shrink: 0;
}

.systemsculpt-file-remove:hover {
  opacity: 1;
}

.systemsculpt-file-status {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 8px;
  margin-bottom: 4px;
  border-radius: 4px;
  background: var(--background-secondary);
  animation: systemsculpt-slideIn 0.2s ease;
}

.systemsculpt-file-status .systemsculpt-status-icon svg {
  color: var(--text-muted);
}

.systemsculpt-file-status:last-child {
  margin-bottom: 0;
}

.systemsculpt-file-status[data-status="error"] .systemsculpt-status-icon svg {
  color: var(--text-error);
}

.systemsculpt-file-status[data-status="processing"]
  .systemsculpt-status-icon
  svg {
  color: var(--text-accent);
}

.systemsculpt-file-status[data-status="success"] .systemsculpt-status-icon svg {
  color: var(--text-success);
}

.systemsculpt-file-tree {
  margin: 8px 0;
  max-height: 300px;
  overflow-y: auto;
}

.systemsculpt-file-tree .systemsculpt-nav-file {
  padding-left: 24px;
  position: relative;
}

.systemsculpt-file-tree .systemsculpt-nav-file-size {
  color: var(--text-muted);
  font-size: 0.85em;
  margin-left: auto;
}

.systemsculpt-file-tree .systemsculpt-nav-file-title {
  color: var(--text-normal);
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
}

.systemsculpt-filter-item {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--text-muted);
  font-size: 13px;
}

.systemsculpt-filter-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.9em;
  color: var(--text-muted);
  user-select: none;
}

.systemsculpt-filters-bar {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 8px 0;
}

.systemsculpt-filters-bar {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.5rem 0;
  margin-bottom: 0.5rem;
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-header-section-left {
  position: relative;
  min-width: 0;
  flex: 1;
}

.systemsculpt-header-section-right {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-left: auto;
}


.systemsculpt-highlight {
  color: var(--text-accent);
  font-weight: 500;
}

.systemsculpt-image-preview {
  object-fit: contain;
}

.systemsculpt-image-wrapper {
  margin: 8px 0;
  max-width: 100%;
  border-radius: 8px;
  overflow: hidden;
}

.systemsculpt-janitor-content {
  display: flex;
  flex-direction: column;
  gap: 24px;
  padding: 8px;
}

.systemsculpt-janitor-section {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 16px;
}

.systemsculpt-left-pane {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-width: 0;
  height: 100%;
  overflow: hidden;
}

.systemsculpt-markdown-preview {
  padding: 12px 16px;
  min-width: 300px;
  max-width: 600px;
  max-height: 400px;
  overflow-y: auto;
  font-size: 0.9em;
  line-height: 1.5;
  border: 1px solid var(--background-modifier-border);
  user-select: none;
  -webkit-user-select: none;
}

.systemsculpt-markdown-preview :last-child {
  margin-bottom: 0;
}

.systemsculpt-markdown-preview h1:first-child {
  margin-top: 0;
}

.systemsculpt-markdown-preview::-webkit-scrollbar {
  width: 6px;
}

.systemsculpt-markdown-preview::-webkit-scrollbar-thumb {
  background: var(--background-modifier-border-hover);
  border-radius: 3px;
}

.systemsculpt-markdown-preview::-webkit-scrollbar-thumb:hover {
  background: var(--interactive-accent);
}

.systemsculpt-markdown-preview::-webkit-scrollbar-track {
  background: var(--background-primary);
  border-radius: 3px;
}

.systemsculpt-markdown-source-view .systemsculpt-cm-editor {
  padding-top: 0 !important;
}

.systemsculpt-markdown-source-view .systemsculpt-cm-scroller,
.systemsculpt-markdown-reading-view .systemsculpt-markdown-preview-view {
  padding-top: 8px;
}

.systemsculpt-markdown-wrapper {
  line-height: 1.5;
}

.systemsculpt-markdown-wrapper li {
  margin: 0.5em 0;
}

.systemsculpt-markdown-wrapper p {
  margin: 1em 0;
}

.systemsculpt-markdown-wrapper p:first-child {
  margin-top: 0;
}

.systemsculpt-markdown-wrapper p:last-child {
  margin-bottom: 0;
}

.systemsculpt-markdown-wrapper pre {
  margin: 1em 0;
}

.systemsculpt-markdown-wrapper ul {
  margin: 1em 0;
  padding-left: 2em;
}

.systemsculpt-no-model {
  color: var(--text-muted);
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 4px;
  background: var(--background-modifier-hover);
  transition: all 0.2s ease;
}

.systemsculpt-no-model:hover {
  color: var(--text-normal);
  background: var(--background-modifier-active);
}

.systemsculpt-note-preview {
  max-height: 150px;
  overflow: auto;
  white-space: pre-wrap;
  font-size: 0.85em;
  padding: 12px;
  background-color: var(--background-primary);
  color: var(--text-normal);
  border: none;
  border-radius: 0;
  height: 150px;
  font-family: var(--font-monospace);
}

.systemsculpt-notice {
  padding: 8px 12px;
  border-radius: 4px;
  font-size: 14px;
  line-height: 1.4;
  display: flex;
  align-items: center;
  opacity: 1;
  transition: opacity 150ms ease-in-out;
  background-color: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  color: var(--text-normal);
}

.systemsculpt-notice-icon {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
}

.systemsculpt-notice.systemsculpt-fade {
  opacity: 0.9;
}

.systemsculpt-notice.systemsculpt-notice-error {
  background-color: var(--background-modifier-error);
  border-color: var(--background-modifier-error);
  color: var(--text-error);
}

.systemsculpt-notice.systemsculpt-notice-info {
  background-color: var(--background-modifier-info);
  border-color: var(--background-modifier-info);
  color: var(--text-info);
}

.systemsculpt-notice.systemsculpt-notice-success {
  background-color: var(--background-modifier-success);
  border-color: var(--background-modifier-success);
  color: var(--text-success);
}

.systemsculpt-notice.systemsculpt-notice-warning {
  background-color: var(--background-modifier-warning);
  border-color: var(--background-modifier-warning);
  color: var(--text-warning);
}

.systemsculpt-popup {
  background-color: var(--background-primary);
  padding: 24px;
  border-radius: 12px;
  max-width: 400px;
  width: 100%;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.15);
  animation: popup-slide-up 0.2s ease-out;
}

.systemsculpt-popup-content {
  margin-bottom: 24px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.systemsculpt-popup-description {
  color: var(--text-muted);
  line-height: 1.5;
  font-size: 0.9em;
}

.systemsculpt-popup-large {
  max-width: 600px;
}

.systemsculpt-popup-textarea {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  padding: 12px;
  font-size: var(--font-text-size);
  line-height: 1.5;
  color: var(--text-normal);
  resize: vertical;
  width: 100%;
  min-height: 180px;
  transition: all 0.15s ease-in-out;
  font-family: var(--font-text);
  margin: 12px 0;
}

.systemsculpt-popup-textarea::placeholder {
  color: var(--text-faint);
  opacity: 0.8;
}

.systemsculpt-popup-textarea:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-popup-title {
  font-size: 1.2em;
  font-weight: 600;
  color: var(--text-normal);
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
}

.systemsculpt-popup-title .systemsculpt-popup-icon {
  color: var(--interactive-accent);
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-popup-title .systemsculpt-popup-icon svg {
  width: 20px;
  height: 20px;
}

.systemsculpt-pricing-high {
  color: var(--color-red);
  transition: opacity 0.2s ease;
}

.systemsculpt-pricing-low {
  color: var(--color-green);
  transition: opacity 0.2s ease;
}

.systemsculpt-pricing-low:hover,
.systemsculpt-pricing-medium:hover,
.systemsculpt-pricing-high:hover {
  opacity: 0.8;
}

.systemsculpt-pricing-medium {
  color: var(--color-orange);
  transition: opacity 0.2s ease;
}

.systemsculpt-pro-benefits-list {
  margin: 8px 0;
  padding-left: 16px;
  color: var(--text-muted);
  font-size: 0.9em;
  display: flex;
  flex-wrap: wrap;
  gap: 4px 16px;
}

.systemsculpt-pro-benefits-list li {
  margin: 2px 0;
  list-style-type: "→";
  padding-left: 8px;
  text-indent: -12px;
  flex: 1 1 calc(50% - 16px);
  min-width: 200px;
}

.systemsculpt-pro-promotion {
  margin: 12px 0;
  padding: 12px 16px;
  border-radius: 6px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
}

.systemsculpt-pro-promotion .systemsculpt-feature-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 8px;
  background: var(--background-secondary);
  border-radius: 4px;
  font-size: 13px;
}

.systemsculpt-pro-promotion .systemsculpt-pro-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
}

.systemsculpt-pro-promotion .systemsculpt-pro-header .systemsculpt-pricing {
  font-weight: 600;
  color: var(--text-accent);
}

.systemsculpt-pro-promotion .systemsculpt-pro-header .systemsculpt-pricing-subtitle {
  font-size: 12px;
  color: var(--text-muted);
  text-align: right;
}

.systemsculpt-pro-promotion .systemsculpt-pro-header h3 {
  margin: 0;
  color: var(--text-accent);
}

.systemsculpt-pro-promotion .systemsculpt-setting-item {
  padding: 0;
  border: none;
}

.systemsculpt-pro-promotion .systemsculpt-setting-item-control {
  display: flex;
  gap: 8px;
  padding-top: 8px;
}

.systemsculpt-pro-promotion .systemsculpt-setting-item-heading {
  margin-bottom: 8px;
}

.systemsculpt-processing-status {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--background-primary);
  border-top: 1px solid var(--background-modifier-border);
  padding: 8px;
  z-index: 100;
  transition: all 0.2s ease;
}

.systemsculpt-progress-bar {
  height: 100%;
  background: var(--interactive-accent);
  border-radius: 4px;
  transition: width 0.3s ease;
  position: relative;
  overflow: hidden;
}

.systemsculpt-progress-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.3);
  z-index: 999;
}

.systemsculpt-progress-overlay {
  position: absolute;
  inset: 0;
  background-color: var(--background-primary);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
}

.systemsculpt-progress-status {
  font-size: 0.9em;
  color: var(--text-muted);
  margin: 8px 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

.systemsculpt-progress-status {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--text-muted);
}

.systemsculpt-progress-status-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-progress-status-icon {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
  color: var(--interactive-accent);
}

.systemsculpt-prompt-creation-content {
  width: 100%;
  min-height: 200px;
  padding: 12px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-primary);
  color: var(--text-normal);
  font-size: 14px;
  line-height: 1.6;
  font-family: var(--font-text);
  resize: vertical;
  transition: all 0.2s ease;
}

.systemsculpt-prompt-creation-content::placeholder,
.systemsculpt-prompt-creation-title-input::placeholder {
  color: var(--text-muted);
}

.systemsculpt-prompt-creation-content:focus {
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-hover);
}

.systemsculpt-provider-header {
  display: flex;
  align-items: center;
  padding: 12px 16px 8px;
  margin: 8px 0 4px;
  font-size: 1em;
  font-weight: 600;
  color: var(--text-normal);
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-provider-header {
  grid-column: 1 / -1;
  padding: 12px 16px 8px;
  margin: 8px 0 4px;
  font-size: 1em;
  font-weight: 600;
  color: var(--text-normal);
  border-bottom: 1px solid var(--background-modifier-border);
  display: flex;
  align-items: center;
}

.systemsculpt-provider-header:first-of-type {
  margin-top: 0;
}

.systemsculpt-provider-header:first-of-type {
  margin-top: 0;
}

.systemsculpt-provider-header:first-of-type span {
  display: flex;
  align-items: center;
  gap: 6px;
}

.systemsculpt-provider-header:first-of-type span::before {
  content: "";
  display: inline-block;
  width: 16px;
  height: 16px;
  background-color: var(--color-yellow);
  mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>');
  -webkit-mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>');
  mask-size: contain;
  -webkit-mask-size: contain;
  mask-repeat: no-repeat;
  -webkit-mask-repeat: no-repeat;
}

.systemsculpt-provider-link {
  color: var(--interactive-accent);
  cursor: pointer;
  text-decoration: underline;
  font-weight: 500;
  display: inline-block;
  margin-top: 8px;
}

.systemsculpt-provider-link:hover {
  color: var(--interactive-accent-hover);
  text-decoration: none;
}

/* Reasoning-specific styles removed - using unified collapsible drawer styles */

.systemsculpt-recorder-canvas {
  width: 100%;
  height: 80px;
  background: var(--background-secondary);
  border-radius: 4px;
  pointer-events: none;
  backdrop-filter: blur(4px);
}

.systemsculpt-recorder-canvas {
  height: 60px;
    margin: 0;
    border: 1px solid var(--background-modifier-border);
}

.systemsculpt-recorder-content {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-height: 120px;
  background: var(--background-primary);
  border-radius: 6px;
}

.systemsculpt-recorder-content {
  min-height: 100px;
}

.systemsculpt-recorder-live {
  font-size: 12px;
  color: #5871ef;
  margin-bottom: 4px;
  font-weight: 500;
  opacity: 0;
  transition: opacity 0.3s ease;
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  background: var(--background-secondary);
  border-radius: 4px;
  width: fit-content;
}

.systemsculpt-recorder-status.systemsculpt-error {
  color: var(--text-error);
  background: var(--background-modifier-error);
}

.systemsculpt-recorder-status:not([style*="display: none"]) {
  opacity: 1;
}

.systemsculpt-recorder-visualizer {
  width: 100%;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 8px;
  margin-top: 4px;
  transition: all 0.3s ease;
}

.systemsculpt-recorder-visualizer .systemsculpt-recorder-canvas {
  width: 100%;
  height: 60px;
  background: var(--background-secondary);
  border-radius: 4px;
  pointer-events: none;
  backdrop-filter: blur(4px);
}

.systemsculpt-recorder-visualizer .systemsculpt-recorder-canvas {
  height: 50px;
}

.systemsculpt-recorder-visualizer .systemsculpt-recorder-live {
  font-size: 12px;
  color: var(--text-accent);
  margin-bottom: 4px;
  font-weight: 500;
  opacity: 1;
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  background: var(--background-secondary);
  border-radius: 4px;
  width: fit-content;
  animation: pulse 2s infinite;
}


.systemsculpt-section {
  margin-bottom: 20px;
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  overflow: hidden;
  background-color: var(--background-secondary-alt);
}

.systemsculpt-section-description {
  font-size: 14px;
  color: var(--text-muted);
  margin-bottom: 16px;
}

.systemsculpt-section-header {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-normal);
  margin-bottom: 8px;
}

.systemsculpt-section-header {
  text-align: center;
  color: var(--text-muted);
  font-size: var(--font-ui-small);
  font-weight: 600;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  padding: var(--size-4-2) 0;
  margin: 0 var(--size-4-2);
  border-bottom: 1px solid var(--background-modifier-border);
}

.systemsculpt-section-header {
  font-size: 0.95em;
  font-weight: 600;
  padding: 10px 12px;
  background-color: var(--background-secondary);
  border-bottom: 1px solid var(--background-modifier-border);
  color: var(--text-normal);
  margin-bottom: 0;
}

.systemsculpt-sort-select {
  padding: 4px 8px;
  border-radius: 4px;
  border: 1px solid var(--background-modifier-border);
  background: var(--background-primary);
  color: var(--text-normal);
  font-size: 13px;
  cursor: pointer;
}

.systemsculpt-sort-select:focus {
  outline: none;
  border-color: var(--interactive-accent);
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}

.systemsculpt-sort-select:hover {
  border-color: var(--interactive-accent);
}

.systemsculpt-speed-indicator {
  color: var(--color-yellow);
}

.systemsculpt-status-bar {
  position: fixed;
  bottom: 12px;
  right: 12px;
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
  padding: 8px 12px;
  display: flex;
  align-items: center;
  gap: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  z-index: 1000;
  transition: all 0.2s ease;
  max-width: 300px;
}

.systemsculpt-status-bar[data-status="processing"] {
  border-color: var(--text-accent);
}

.systemsculpt-status-bar[data-status="success"] {
  border-color: var(--text-success);
}

.systemsculpt-status-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

.systemsculpt-status-icon svg {
  width: 20px;
  height: 20px;
}

.systemsculpt-status-text {
  font-size: 14px;
  color: var(--text-normal);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-suggestion-content {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
}

.systemsculpt-suggestion-content-inner {
  flex: 1;
  min-width: 0;
  overflow: hidden;
}

.systemsculpt-suggestion-highlight {
  color: var(--text-accent);
  font-weight: 600;
  text-decoration: underline;
  text-underline-offset: 2px;
}

.systemsculpt-suggestion-note {
  font-size: 0.8em;
  color: var(--text-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-suggestion-title {
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.systemsculpt-sync-status {
  display: flex;
  align-items: center;
  margin-left: 4px;
  opacity: 0.8;
  transition: opacity 0.2s ease;
}

.systemsculpt-sync-status svg {
  width: 16px;
  height: 16px;
}

.systemsculpt-sync-status.systemsculpt-synced svg {
  color: var(--color-green);
}

.systemsculpt-sync-status.systemsculpt-syncing svg {
  color: var(--text-muted);
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-template-preview,
.systemsculpt-template-textarea {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 16px;
  background-color: var(--background-primary);
  border: none;
  font-family: var(--font-monospace);
  font-size: 0.9em;
  line-height: 1.5;
  color: var(--text-normal);
  overflow: auto;
}

.systemsculpt-template-textarea {
  resize: none;
  width: 100%;
  height: 100%;
}

.systemsculpt-text-wrapper {
  position: relative;
}

.systemsculpt-theme-dark .systemsculpt-file-status {
  background: var(--background-secondary-alt);
}

.systemsculpt-theme-dark .systemsculpt-processing-status {
  box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
}

.systemsculpt-theme-dark .systemsculpt-status-bar {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}


.systemsculpt-top-pick-badge {
  background: var(--interactive-accent);
  color: var(--text-on-accent);
  font-weight: 600;
}

.systemsculpt-top-pick-badge svg {
  display: none;
}

.systemsculpt-validation-time {
  font-size: 0.9em;
  color: var(--text-muted);
}

.systemsculpt-version-indicator {
  margin: 12px 0;
  padding: 8px;
  border-radius: 6px;
  background: var(--background-secondary);
  opacity: 1;
  transition: opacity 0.3s ease;
}

.systemsculpt-version-indicator p {
  margin: 4px 0;
  opacity: 1;
  transform: translateY(0);
  transition: all 0.3s ease;
}

.systemsculpt-vision-indicator {
  color: var(--color-blue);
}

.systemsculpt-status-bar[data-status="error"] {
  border-color: var(--text-error);
}

.systemsculpt-status-icon svg.systemsculpt-lucide-loader-2 {
  animation: systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-systemsculpt-spin 1s linear infinite;
}

.systemsculpt-theme-dark .systemsculpt-popup {
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.3);
}

.systemsculpt-credit-balance {
  font-size: 0.9em;
  color: var(--text-muted);
  margin: 4px 0;
  padding: 4px 8px;
  background: var(--background-secondary);
  border-radius: 4px;
  display: inline-block;
  transition: all 0.3s ease;
}

.systemsculpt-recorder-error {
  color: var(--text-error);
  text-align: center;
  padding: 8px;
  font-size: 14px;
  background: var(--background-secondary);
  border-radius: 4px;
}

.systemsculpt-recorder-status {
  font-size: 12px;
  text-align: center;
  padding: 4px 8px;
  margin-top: 4px;
  background: var(--background-secondary);
  border-radius: 4px;
  opacity: 0;
  transition: opacity 0.3s ease;
}

/* Directory diagnostics styling */
.systemsculpt-diagnostics-section {
  background: var(--background-secondary);
  border-radius: 8px;
  padding: 16px;
  margin-top: 16px;
  margin-bottom: 16px;
}

.systemsculpt-info {
  margin-bottom: 16px;
  color: var(--text-muted);
}

.systemsculpt-button-container {
  margin-top: 8px;
  margin-bottom: 8px;
}

.systemsculpt-diagnostics-results {
  margin-top: 16px;
  padding: 12px;
  border-radius: 6px;
  background: var(--background-modifier-form-field);
}

.systemsculpt-checking {
  color: var(--text-accent);
  font-style: italic;
}

.systemsculpt-success {
  color: var(--text-success);
  font-weight: 500;
}

.systemsculpt-issues {
  color: var(--text-warning);
}

.systemsculpt-issues h4 {
  margin-top: 0;
  margin-bottom: 8px;
  color: var(--text-warning);
  font-size: 16px;
}

.systemsculpt-issues ul {
  margin-top: 8px;
  margin-bottom: 8px;
  padding-left: 24px;
}

.systemsculpt-help-text {
  margin-top: 16px;
  font-style: italic;
}

.systemsculpt-error {
  color: var(--text-error);
}

.systemsculpt-restart-note {
  margin-top: 8px;
  font-style: italic;
  color: var(--text-muted);
}

/* Fix: Ensure model selection modal items are never semi-transparent */
.modal.systemsculpt-model-selection-modal .ss-modal__item,
.workspace-leaf-content .systemsculpt-model-selection-modal .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Override any theme styles that might affect modal item opacity */
.theme-light .systemsculpt-model-selection-modal .ss-modal__item,
.theme-dark .systemsculpt-model-selection-modal .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* === Model Selection Modal Layout === */
.systemsculpt-model-selection-modal .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}



