/* Favorite Toggle Component Styles */

.systemsculpt-favorite-toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.05s ease;
  position: relative;
  margin: 0 4px;
  overflow: visible;
}

.systemsculpt-favorite-toggle:hover {
  background-color: var(--interactive-hover);
}

.systemsculpt-favorite-toggle.is-active {
  transform: scale(0.95);
}

.systemsculpt-favorite-toggle.is-focused {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
  outline: none;
}

/* Icon wrapper allows for better animation control */
.systemsculpt-favorite-icon-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  z-index: 2;
}

/* Enhanced star icon appearance */
.systemsculpt-favorite-toggle .systemsculpt-favorite-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.05s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* Favorited state styling */
.systemsculpt-favorite-toggle.is-favorite .systemsculpt-favorite-icon .svg-icon,
.systemsculpt-favorite-toggle.is-favorite .systemsculpt-favorite-icon svg,
.systemsculpt-favorite-toggle.is-favorite svg {
  color: var(--color-yellow) !important;
  fill: var(--color-yellow) !important;
  stroke: var(--color-yellow) !important;
  filter: drop-shadow(0 0 4px color-mix(in srgb, rgb(255, 217, 0) 50%, var(--ss-layer-base)));
  opacity: 1 !important;
  visibility: visible !important;
}

/* Unfavorited state styling */
.systemsculpt-favorite-toggle:not(.is-favorite) .systemsculpt-favorite-icon .svg-icon,
.systemsculpt-favorite-toggle:not(.is-favorite) .systemsculpt-favorite-icon svg,
.systemsculpt-favorite-toggle:not(.is-favorite) svg {
  color: var(--text-muted);
  fill: var(--ss-layer-base);
  stroke: var(--text-muted);
  stroke-width: 1px;
}

/* Hover effects for unfavorited state */
.systemsculpt-favorite-toggle:not(.is-favorite):hover .systemsculpt-favorite-icon .svg-icon,
.systemsculpt-favorite-toggle:not(.is-favorite).is-focused .systemsculpt-favorite-icon .svg-icon {
  color: var(--text-normal);
  stroke: var(--text-normal);
}

/* Hover effects for favorited state */
.systemsculpt-favorite-toggle.is-favorite:hover .systemsculpt-favorite-icon .svg-icon,
.systemsculpt-favorite-toggle.is-favorite.is-focused .systemsculpt-favorite-icon .svg-icon {
  filter: drop-shadow(0 0 5px color-mix(in srgb, rgb(255, 217, 0) 50%, var(--ss-layer-base)));
  transform: scale(1.1);
}

/* Animation for toggling favorite status */
.systemsculpt-favorite-toggle .systemsculpt-favorite-icon .svg-icon {
  transition: transform 0.05s cubic-bezier(0.175, 0.885, 0.32, 1.275),
              color 0.05s ease,
              fill 0.05s ease,
              filter 0.05s ease;
}

.systemsculpt-favorite-toggle.is-active .systemsculpt-favorite-icon .svg-icon {
  transform: scale(0.9);
}

/* Animation feedback element for status change */
.systemsculpt-favorite-feedback {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 24px;
  height: 24px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
}

/* Animation for adding to favorites */
.systemsculpt-favorite-feedback.animate-favorite {
  animation: favorite-pulse 0.1s ease-out forwards;
}

/* Animation for removing from favorites */
.systemsculpt-favorite-feedback.animate-unfavorite {
  animation: unfavorite-pulse 0.1s ease-out forwards;
}

@keyframes favorite-pulse {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 0;
    background-color: color-mix(in srgb, rgb(255, 217, 0) 0%, var(--ss-layer-base));
  }
  30% {
    opacity: 0.6;
    background-color: color-mix(in srgb, rgb(255, 217, 0) 30%, var(--ss-layer-base));
  }
  100% {
    transform: translate(-50%, -50%) scale(2);
    opacity: 0;
    background-color: color-mix(in srgb, rgb(255, 217, 0) 0%, var(--ss-layer-base));
  }
}

@keyframes unfavorite-pulse {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0;
    background-color: color-mix(in srgb, rgb(255, 255, 255) 0%, var(--ss-layer-base));
  }
  30% {
    opacity: 0.3;
    background-color: color-mix(in srgb, rgb(200, 200, 200) 20%, var(--ss-layer-base));
  }
  100% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 0;
    background-color: color-mix(in srgb, rgb(200, 200, 200) 0%, var(--ss-layer-base));
  }
}

/* Load Chat Modal Integrations */
.systemsculpt-chat-favorite {
  margin-right: 8px;
}

.systemsculpt-modal-list-item {
  display: flex;
  align-items: flex-start;
}

.systemsculpt-modal-list-item .systemsculpt-favorite-toggle {
  height: 28px;
  width: 28px;
  margin: 0;
  transform: translateY(2px);
}

.systemsculpt-modal-list-item .systemsculpt-favorite-toggle:hover {
  background-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 10%, var(--ss-layer-base));
}

/* Highlight for favorited items in the list */
.systemsculpt-modal-list-item.has-favorite {
  border-left: 3px solid var(--color-yellow);
  background-color: color-mix(in srgb, rgb(255, 217, 0) 3%, var(--ss-layer-base));
}

.systemsculpt-modal-list-item.has-favorite:hover {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 7%, var(--ss-layer-base));
}

.systemsculpt-modal-list-item.has-favorite.is-selected {
  background-color: color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 10%, var(--ss-layer-base));
  border-left-color: var(--color-yellow);
}

/* Favorites filter toggle in search bar */
.systemsculpt-favorites-filter {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  transition: all 0.05s ease;
  white-space: nowrap;
  font-size: 0.85rem;
}

.systemsculpt-favorites-filter:hover {
  background-color: var(--background-modifier-hover);
}

.systemsculpt-favorites-filter.is-active {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 10%, var(--ss-layer-base));
  border-color: color-mix(in srgb, rgb(255, 217, 0) 30%, var(--ss-layer-base));
}

.systemsculpt-favorites-filter.is-active svg {
  color: var(--color-yellow);
  fill: var(--color-yellow);
}

/* Favorites filter toggle states */
.systemsculpt-favorites-filter.is-focused {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
  outline: none;
}

.systemsculpt-favorites-filter.is-clicking {
  transform: scale(0.95);
}

/* Animation for favorites filter */
.systemsculpt-favorites-filter {
  transition: transform 0.05s ease, background-color 0.05s ease, box-shadow 0.05s ease, border-color 0.05s ease;
}

/* Improve icon in favorites filter */
.systemsculpt-favorites-filter .systemsculpt-favorites-icon {
  display: flex;
  align-items: center;
  justify-content: center;
}

.systemsculpt-favorites-filter.is-active .systemsculpt-favorites-icon svg {
  color: var(--color-yellow);
  fill: var(--color-yellow);
  filter: drop-shadow(0 0 2px color-mix(in srgb, rgb(255, 217, 0) 40%, var(--ss-layer-base)));
}

/* Responsive styles */
@media (max-width: 768px) {
  .systemsculpt-favorites-filter span:not(.svg-icon) {
    display: none;
  }
  
  .systemsculpt-favorites-filter {
    padding: 8px;
  }
}

/* Make sure dark theme has good contrast */
.theme-dark .systemsculpt-favorites-filter.is-active {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 15%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-modal-list-item.has-favorite {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 5%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-modal-list-item.has-favorite:hover {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 10%, var(--ss-layer-base));
}

/* Model list favorite toggle positioning - improved position and size */
.ss-modal-item .systemsculpt-favorite-toggle {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 34px;
  height: 34px;
  margin: 0;
  border-radius: 50%;
  background-color: var(--ss-layer-base);
}

.ss-modal-item:hover .systemsculpt-favorite-toggle,
.ss-modal-item:focus-within .systemsculpt-favorite-toggle {
  background-color: var(--background-modifier-hover);
}

/* Make favorited items in list more visible */
.ss-modal-item.ss-selected .systemsculpt-favorite-toggle.is-favorite {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 10%, var(--ss-layer-base));
}

/* Favorites filter toggle styles moved to standardized-modal.css */

/* Empty state for favorites */
.systemsculpt-favorites-empty-state {
  text-align: center;
  padding: 32px 24px;
  color: var(--text-muted);
  font-size: 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 240px;
  background-color: var(--background-secondary);
  border-radius: 8px;
  margin: 16px;
  box-shadow: inset 0 0 0 1px var(--background-modifier-border);
}

.systemsculpt-favorites-empty-state .svg-icon {
  font-size: 40px;
  margin-bottom: 20px;
  color: var(--text-faint);
  opacity: 0.8;
}

.systemsculpt-favorites-empty-state h4 {
  margin-bottom: 12px;
  font-weight: 600;
  color: var(--text-normal);
  font-size: 16px;
}

.systemsculpt-favorites-empty-state p {
  max-width: 300px;
  margin: 0 auto;
  line-height: 1.6;
}

/* Model Selection Modal enhancements */
.systemsculpt-model-selection-modal .systemsculpt-list {
  --favorite-accent-color: color-mix(in srgb, rgb(255, 217, 0) 10%, var(--ss-layer-base));
}

/* Create a subtle highlight for favorited models in the list */
.systemsculpt-model-selection-modal .ss-modal-item.has-favorite {
  background-color: var(--favorite-accent-color);
  border-left: 2px solid var(--color-yellow);
}

.systemsculpt-model-selection-modal .ss-modal-item.has-favorite:hover {
  background-color: var(--background-modifier-hover);
  border-left-color: var(--color-yellow);
}

.systemsculpt-model-selection-modal .ss-modal-item.has-favorite.ss-selected {
  background-color: var(--interactive-accent);
  border-left-color: var(--color-yellow);
}

/* IMPORTANT: Ensure all model items are fully opaque regardless of filter state */
.systemsculpt-model-selection-modal .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Prevent any parent container from making items semi-transparent */
.systemsculpt-model-selection-modal .ss-modal__list .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Ensure items remain fully visible even when not favorited */
.systemsculpt-model-selection-modal .ss-modal__item:not(.has-favorite) {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Make favorites more distinctive */
.systemsculpt-model-selection-modal .ss-modal-item.has-favorite::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 8px;
  transform: translateY(-50%);
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background-color: var(--color-yellow);
  box-shadow: 0 0 4px color-mix(in srgb, rgb(255, 217, 0) 50%, var(--ss-layer-base));
}

/* Add fade in animation for favorites - updated to not affect opacity */
@keyframes favorite-fade-in {
  from {
    transform: translateY(-5px);
  }
  to {
    transform: translateY(0);
  }
}

.systemsculpt-model-selection-modal .systemsculpt-favorites-filter.is-active + * .ss-modal-item {
  animation: favorite-fade-in 0.3s ease-out forwards;
  opacity: 1 !important; /* Ensure full opacity during animation */
}

/* Optimize the position of the favorite button in the list */
.systemsculpt-model-selection-modal .ss-modal-item .systemsculpt-favorite-toggle {
  z-index: 5;
}

/* Filter container styles moved to standardized-modal.css */

/* Enhanced visibility for favorite toggle buttons in list items */
.systemsculpt-favorite-button-container {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Use a more visible star */
.systemsculpt-favorite-toggle {
  background: color-mix(in srgb, rgb(0, 0, 0) 8%, var(--ss-layer-base));
  border-radius: 50%;
  width: 28px;
  height: 28px;
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  z-index: 20;
}

.systemsculpt-favorite-toggle:hover {
  transform: scale(1.2);
  transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  background-color: color-mix(in srgb, rgb(0, 0, 0) 12%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-favorite-toggle {
  background: color-mix(in srgb, rgb(255, 255, 255) 8%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-favorite-toggle:hover {
  background-color: color-mix(in srgb, rgb(255, 255, 255) 15%, var(--ss-layer-base));
}

/* Make the star icon more visible */
.systemsculpt-favorite-toggle .systemsculpt-favorite-icon .svg-icon {
  width: 18px;
  height: 18px;
}

/* Make the favorited star more vibrant */
.systemsculpt-favorite-toggle.is-favorite .systemsculpt-favorite-icon .svg-icon {
  color: var(--color-yellow);
  fill: var(--color-yellow);
  filter: drop-shadow(0 0 4px color-mix(in srgb, rgb(255, 217, 0) 50%, var(--ss-layer-base)));
}

/* Optimize spacing for list items in the modal */
.systemsculpt-model-selection-modal .ss-modal__item {
  position: relative;
}

/* Create a clearer hover effect for the list item's favorite toggle */
.systemsculpt-model-selection-modal .ss-modal__item:hover .systemsculpt-favorite-toggle {
  background: color-mix(in srgb, rgb(0, 0, 0) 15%, var(--ss-layer-base));
}

.theme-dark .systemsculpt-model-selection-modal .ss-modal__item:hover .systemsculpt-favorite-toggle {
  background: color-mix(in srgb, rgb(255, 255, 255) 15%, var(--ss-layer-base));
}

/* Ensure the favorite toggle has proper positioning context */
.systemsculpt-model-selection-modal [role="button"],
.systemsculpt-favorite-toggle[role="button"] {
  position: relative;
}

/* Fix: Ensure all model items have full opacity regardless of favorites filter state */
.systemsculpt-model-selection-modal .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Ensure items remain fully visible when favorites filter is active */
.systemsculpt-favorites-filter.is-active ~ * .ss-modal__item,
.systemsculpt-model-selection-modal.favorites-active .ss-modal__item {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Remove any inherited opacity from parent containers */
.systemsculpt-model-selection-modal .ss-modal__list,
.systemsculpt-model-selection-modal .ss-modal__content {
  opacity: 1 !important;
}

/* Make favorites more noticeable in the list */
.systemsculpt-model-selection-modal .has-favorite {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 5%, var(--ss-layer-base));
}

.systemsculpt-model-selection-modal .has-favorite:hover {
  background-color: color-mix(in srgb, rgb(255, 217, 0) 10%, var(--ss-layer-base));
}

/* Completely revised model list item layout */
.ss-modal__item {
  display: grid;
  grid-template-columns: auto 1fr auto auto;
  grid-template-areas: "icon content badge favorite";
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  position: relative;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.05s ease;
}

/* Style for the model icon */
.ss-modal__item-icon {
  grid-area: icon;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

/* Style for the main content area */
.ss-modal__item-content {
  grid-area: content;
  min-width: 0; /* Allows content to shrink properly */
  overflow: hidden;
}

/* Style for the provider badge */
.ss-modal__item .systemsculpt-provider-badge,
.ss-modal__item .provider-badge {
  grid-area: badge;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.8em;
  white-space: nowrap;
  background-color: var(--background-modifier-success);
  color: var(--text-on-accent);
  margin: 0 4px;
}

/* Different colors for different providers */
.ss-modal__item[data-provider="openai"] .provider-badge {
  background-color: #10a37f; /* OpenAI green */
}

.ss-modal__item[data-provider="anthropic"] .provider-badge {
  background-color: #b300ff; /* Anthropic purple */
}

.ss-modal__item[data-provider="openrouter"] .provider-badge {
  background-color: #0066cc; /* OpenRouter blue */
}

/* Style for the favorite toggle container */
.systemsculpt-favorite-button-container {
  grid-area: favorite;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 5;
  position: relative;
  width: 36px;
  height: 36px;
  margin: 0;
}

/* Style for the favorite toggle button - removing absolute positioning */
.systemsculpt-favorite-toggle {
  display: flex;
  visibility: visible;
  opacity: 1;
  cursor: pointer;
  color: var(--text-muted);
  transition: all 0.05s ease;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: color-mix(in srgb, rgb(0, 0, 0) 8%, var(--ss-layer-base));
  align-items: center;
  justify-content: center;
}

/* Remove absolute positioning from favorite toggle in modal items */
.ss-modal-item .systemsculpt-favorite-toggle {
  position: relative;
  right: auto;
  top: auto;
  transform: none;
}

/* Star color when favorited */
/* Ensure all SVGs in favorited state are yellow and visible */
.systemsculpt-favorite-toggle.is-favorite svg {
  color: var(--color-yellow) !important;
  fill: var(--color-yellow) !important;
  stroke: var(--color-yellow) !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Hover effect for star */
.systemsculpt-favorite-toggle:hover {
  transform: scale(1.2);
}

/* Hover effect for non-favorited star in light theme */
body:not(.theme-dark) .systemsculpt-favorite-toggle:not(.is-favorite):hover svg {
  color: color-mix(in srgb, rgb(255, 204, 0) 70%, var(--ss-layer-base));
}

/* Hover effect for non-favorited star in dark theme */
.theme-dark .systemsculpt-favorite-toggle:not(.is-favorite):hover svg {
  color: color-mix(in srgb, rgb(255, 204, 0) 70%, var(--ss-layer-base));
}

/* Make items with favorites stand out with subtle highlighting */
.ss-modal__item.has-favorite {
  background-color: color-mix(in srgb, rgb(255, 204, 0) 5%, var(--ss-layer-base));
  border-left: 2px solid var(--color-yellow);
}

.ss-modal__item.has-favorite:hover {
  background-color: color-mix(in srgb, rgb(255, 204, 0) 8%, var(--ss-layer-base));
}

/* Focused state for keyboard navigation */
.ss-modal__item:focus-visible {
  outline: 2px solid var(--interactive-accent);
  outline-offset: -1px;
}

/* Add subtle transition for hover effects */
.ss-modal__item {
  transition: background-color 0.05s ease;
}

.ss-modal__item:hover {
  /* Removed lift effect */
}

/* Add focus animation for the favorite toggle */
.systemsculpt-favorite-toggle:focus-visible {
  outline: 2px solid var(--interactive-accent);
  outline-offset: 2px;
  animation: pulse-focus 1.5s infinite;
}

@keyframes pulse-focus {
  0% {
    box-shadow: 0 0 0 0 color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 40%, var(--ss-layer-base));
  }
  70% {
    box-shadow: 0 0 0 6px color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 0%, var(--ss-layer-base));
  }
  100% {
    box-shadow: 0 0 0 0 color-mix(in srgb, rgb(var(--interactive-accent-rgb)) 0%, var(--ss-layer-base));
  }
}

/* Handle long text in model names and descriptions */
.ss-modal__item-title {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

.ss-modal__item-description {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

/* Ensure proper touch target sizes for mobile */
@media (max-width: 768px) {
  .systemsculpt-favorite-toggle {
    width: 36px;
    height: 36px;
    min-width: 36px; /* Ensure minimum touch target size */
  }
  
  /* Reduce badge text size on small screens */
  .ss-modal__item .systemsculpt-provider-badge,
  .ss-modal__item .provider-badge {
    font-size: 0.75em;
    padding: 2px 4px;
  }
}

/* Responsive adjustments for smaller screens */
@media (max-width: 500px) {
  .ss-modal__item {
    gap: 8px;
    padding: 8px;
  }
  
  /* Adjust font sizes for smaller screens */
  .ss-modal__item-title {
    font-size: 14px;
  }
  
  .ss-modal__item-description {
    font-size: 12px;
  }
  
  /* Further reduce gap for very small screens */
  @media (max-width: 375px) {
    .ss-modal__item {
      gap: 6px;
/* Filter row improvement styles moved to standardized-modal.css */
      padding: 6px;
    }
    
    /* For very narrow screens, allow provider badges to wrap text */
    .ss-modal__item .systemsculpt-provider-badge,
    .ss-modal__item .provider-badge {
      white-space: normal;
      text-align: center;
      line-height: 1.2;
      max-width: 70px;
    }
  }
} 
